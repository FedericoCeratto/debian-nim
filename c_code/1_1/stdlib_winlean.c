/* Generated by Nim Compiler v0.14.0 */
/*   (c) 2015 Andreas Rumpf */
/* The generated code is subject to the original license. */
#define NIM_INTBITS 32

#include "nimbase.h"
#include <string.h>
#include "winsock2.h"
typedef struct Guid114811 Guid114811;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct Win32finddata113413 Win32finddata113413;
typedef struct Securityattributes112426 Securityattributes112426;
typedef struct Startupinfo112428 Startupinfo112428;
typedef struct Processinformation112430 Processinformation112430;
typedef struct Filetime112432 Filetime112432;
typedef struct Addrinfo114050 Addrinfo114050;
typedef struct Tfdset114046 Tfdset114046;
typedef struct Timeval114048 Timeval114048;
typedef NI8 TY114825[8];
struct  Guid114811  {
NI32 D1;
NI16 D2;
NI16 D3;
TY114825 D4;
};
typedef NI8 TY114902[8];
typedef N_STDCALL_PTR(NCSTRING, inetntopproc114972) (int family0, void* paddr0, NCSTRING pstringbuffer0, NI32 stringbufsize0);
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
typedef N_STDCALL_PTR(NI, TY112821) (NI32 nstdhandle0);
typedef NU8 Tnimkind3203;
typedef NU8 Tnimtypeflag3209Set;
typedef N_NIMCALL_PTR(void, TY3289) (void* p0, NI op0);
typedef N_NIMCALL_PTR(void*, TY3294) (void* p0);
struct  TNimType  {
NI size;
Tnimkind3203 kind;
Tnimtypeflag3209Set flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY3289 marker;
TY3294 deepcopy;
};
typedef N_STDCALL_PTR(int, TY114331) (NI16 wversionrequired0, WSADATA* Wsdata0);
typedef N_STDCALL_PTR(NI32, TY112836) (NI32 dwflags0, void* lpsource0, NI32 dwmessageid0, NI32 dwlanguageid0, void* lpbuffer0, NI32 nsize0, void* Arguments0);
typedef N_STDCALL_PTR(void, TY113002) (void* p0);
typedef N_STDCALL_PTR(NI32, TY112831) (void);
typedef N_STDCALL_PTR(NI32, TY113605) (NI16* lpfilename0, NI32 nbufferlength0, NI16* lpbuffer0, NI16** lpfilepart0);
typedef N_STDCALL_PTR(NI32, TY113023) (NI handle0, NI16* buf0, NI32 size0);
typedef N_STDCALL_PTR(NI, TY113432) (NI16* lpfilename0, Win32finddata113413* lpfindfiledata0);
typedef N_STDCALL_PTR(void, TY113602) (NI hfindfile0);
typedef N_STDCALL_PTR(NI32, TY113437) (NI hfindfile0, Win32finddata113413* lpfindfiledata0);
typedef N_STDCALL_PTR(NI32, TY113012) (NI16* pathname0, void* security0);
typedef N_STDCALL_PTR(NI, TY114407) (NI16* lpfilename0, NI32 dwdesiredaccess0, NI32 dwsharemode0, void* lpsecurityattributes0, NI32 dwcreationdisposition0, NI32 dwflagsandattributes0, NI htemplatefile0);
typedef N_STDCALL_PTR(NI32, TY112604) (NI hobject0);
typedef N_STDCALL_PTR(NI32, TY114605) (NI hfile0, NI32 ldistancetomove0, NI32* lpdistancetomovehigh0, NI32 dwmovemethod0);
typedef N_STDCALL_PTR(NI32, TY114602) (NI hfile0);
typedef N_STDCALL_PTR(NI, TY114625) (NI hfile0, void* lpfilemappingattributes0, NI32 flprotect0, NI32 dwmaximumsizehigh0, NI32 dwmaximumsizelow0, void* lpname0);
typedef N_STDCALL_PTR(void*, TY114617) (NI hfilemappingobject0, NI32 dwdesiredaccess0, NI32 dwfileoffsethigh0, NI32 dwfileoffsetlow0, NI32 dwnumberofbytestomap0, void* lpbaseaddress0);
typedef N_STDCALL_PTR(NI32, TY114612) (NI hfile0, NI32* lpfilesizehigh0);
typedef N_STDCALL_PTR(NI32, TY113612) (NI16* lpfilename0);
typedef N_STDCALL_PTR(NI32, TY114802) (void* lpbaseaddress0);
typedef N_STDCALL_PTR(NI16*, TY113634) (void);
typedef N_STDCALL_PTR(NI16*, TY113629) (void);
typedef N_STDCALL_PTR(NI32, TY113631) (NI16* para10);
typedef N_STDCALL_PTR(NI32, TY113019) (NI16* lpname0, NI16* lpvalue0);
typedef N_STDCALL_PTR(NI32, TY113005) (NI32 nbufferlength0, NI16* lpbuffer0);
typedef N_STDCALL_PTR(NI32, TY112623) (NI* hreadpipe0, NI* hwritepipe0, Securityattributes112426* lppipeattributes0, NI32 nsize0);
typedef N_STDCALL_PTR(NI, TY112631) (NI16* lpname0, NI32 dwopenmode0, NI32 dwpipemode0, NI32 nmaxinstances0, NI32 noutbuffersize0, NI32 ninbuffersize0, NI32 ndefaulttimeout0, Securityattributes112426* lpsecurityattributes0);
typedef N_STDCALL_PTR(NI, TY114405) (void);
typedef N_STDCALL_PTR(NI32, TY114395) (NI hsourceprocesshandle0, NI hsourcehandle0, NI htargetprocesshandle0, NI* lptargethandle0, NI32 dwdesiredaccess0, NI32 binherithandle0, NI32 dwoptions0);
typedef N_STDCALL_PTR(NI32, TY112653) (NI16* lpapplicationname0, NI16* lpcommandline0, Securityattributes112426* lpprocessattributes0, Securityattributes112426* lpthreadattributes0, NI32 binherithandles0, NI32 dwcreationflags0, NI16* lpenvironment0, NI16* lpcurrentdirectory0, Startupinfo112428* lpstartupinfo0, Processinformation112430* lpprocessinformation0);
typedef N_STDCALL_PTR(NI32, TY112607) (NI hfile0, void* Buffer0, NI32 nnumberofbytestoread0, NI32* lpnumberofbytesread0, void* lpoverlapped0);
typedef N_STDCALL_PTR(NI32, TY112615) (NI hfile0, void* Buffer0, NI32 nnumberofbytestowrite0, NI32* lpnumberofbyteswritten0, void* lpoverlapped0);
typedef N_STDCALL_PTR(NI32, TY112808) (NI hhandle0, NI32 dwmilliseconds0);
typedef N_STDCALL_PTR(NI32, TY112816) (NI hprocess0, NI32* lpexitcode0);
typedef N_STDCALL_PTR(NI32, TY114416) (NI16* pathname0);
typedef N_STDCALL_PTR(NI32, TY113615) (NI16* lpfilename0, NI32 dwfileattributes0);
typedef N_STDCALL_PTR(NI32, TY113016) (NI16* lppathname0);
typedef N_STDCALL_PTR(NI32, TY113009) (NI16* lppathname0);
typedef N_STDCALL_PTR(int, TY113624) (NI16* lpexistingfilename0, NI16* lpnewfilename0, int bfailifexists0);
typedef N_STDCALL_PTR(int, TY113619) (NI16* lpexistingfilename0, NI16* lpnewfilename0, int bfailifexists0);
struct  Filetime112432  {
NI32 dwlowdatetime;
NI32 dwhighdatetime;
};
typedef N_STDCALL_PTR(void, TY113810) (Filetime112432* lpsystemtimeasfiletime0);
typedef N_STDCALL_PTR(void, TY113814) (NI32 dwmilliseconds0);
typedef N_STDCALL_PTR(NI, TY114184) (int af0, int typ0, int protocol0);
typedef N_STDCALL_PTR(int, TY114199) (NI s0, SOCKADDR* name0, unsigned int namelen0);
typedef N_STDCALL_PTR(int, TY114336) (NCSTRING nodename0, NCSTRING servname0, Addrinfo114050* hints0, Addrinfo114050** res0);
typedef N_STDCALL_PTR(void, TY114345) (Addrinfo114050* ai0);
typedef N_STDCALL_PTR(int, TY114240) (NI s0, int backlog0);
typedef N_STDCALL_PTR(int, TY114269) (NI s0, void* buf0, int len0, int flags0);
typedef N_STDCALL_PTR(NI, TY114192) (NI s0, SOCKADDR* a0, unsigned int* addrlen0);
typedef N_STDCALL_PTR(NCSTRING, TY114349) (IN_ADDR i0);
typedef NI TY114098[64];
struct  Tfdset114046  {
int fdcount;
TY114098 fdarray;
};
typedef N_STDCALL_PTR(int, TY114260) (int nfds0, Tfdset114046* readfds0, Tfdset114046* writefds0, Tfdset114046* exceptfds0, Timeval114048* timeout0);
typedef N_STDCALL_PTR(NIM_BOOL, TY114301) (NI s0, Tfdset114046* set0);
typedef N_STDCALL_PTR(int, TY114244) (NI s0, void* buf0, int len0, int flags0);
typedef N_STDCALL_PTR(int, TY114189) (NI s0);
typedef NU8 Tnimnodekind3205;
struct  TNimNode  {
Tnimnodekind3205 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef NIM_CHAR TY114056[257];
typedef NIM_CHAR TY114059[129];
typedef NI16 TY113424[260];
typedef NI16 TY113428[14];
struct  Win32finddata113413  {
NI32 dwfileattributes;
Filetime112432 ftcreationtime;
Filetime112432 ftlastaccesstime;
Filetime112432 ftlastwritetime;
NI32 nfilesizehigh;
NI32 nfilesizelow;
NI32 dwreserved0;
NI32 dwreserved1;
TY113424 cfilename;
TY113428 calternatefilename;
};
struct  Securityattributes112426  {
NI32 nlength;
void* lpsecuritydescriptor;
NI32 binherithandle;
};
struct  Startupinfo112428  {
NI32 cb;
NCSTRING lpreserved;
NCSTRING lpdesktop;
NCSTRING lptitle;
NI32 dwx;
NI32 dwy;
NI32 dwxsize;
NI32 dwysize;
NI32 dwxcountchars;
NI32 dwycountchars;
NI32 dwfillattribute;
NI32 dwflags;
NI16 wshowwindow;
NI16 cbreserved2;
void* lpreserved2;
NI hstdinput;
NI hstdoutput;
NI hstderror;
};
struct  Processinformation112430  {
NI hprocess;
NI hthread;
NI32 dwprocessid;
NI32 dwthreadid;
};
typedef NIM_CHAR TY114066[14];
struct  Addrinfo114050  {
int aiflags;
int aifamily;
int aisocktype;
int aiprotocol;
NI aiaddrlen;
NCSTRING aicanonname;
SOCKADDR* aiaddr;
Addrinfo114050* ainext;
};
struct  Timeval114048  {
NI32 tvsec;
NI32 tvusec;
};
N_NIMCALL(void*, loadlib_111232_730713720)(NimStringDesc* path0, NIM_BOOL globalsymbols0);
N_NIMCALL(void*, symaddr_111255_730713720)(void* lib0, NCSTRING name0);
N_NIMCALL(void*, nimLoadLibrary)(NimStringDesc* path0);
N_NOINLINE(void, nimLoadLibraryError)(NimStringDesc* path0);
N_NIMCALL(void*, nimGetProcAddr)(void* lib0, NCSTRING name0);
NIM_CONST TY114902 TMP25 = {((NI8) -114),
((NI8) -23),
((NI8) 118),
((NI8) -27),
((NI8) -116),
((NI8) 116),
((NI8) 6),
((NI8) 62)}
;
NIM_CONST TY114902 TMP26 = {((NI8) -107),
((NI8) -54),
((NI8) 0),
((NI8) -128),
((NI8) 95),
((NI8) 72),
((NI8) -95),
((NI8) -110)}
;
STRING_LITERAL(TMP27, "Ws2_32.dll", 10);
STRING_LITERAL(TMP173, "kernel32", 8);
STRING_LITERAL(TMP174, "kernel32", 8);
STRING_LITERAL(TMP1355, "Ws2_32.dll", 10);
STRING_LITERAL(TMP1356, "Ws2_32.dll", 10);
Guid114811 Wsaidconnectex_114904_114176342;
Guid114811 Wsaidacceptex_114908_114176342;
Guid114811 Wsaidgetacceptexsockaddrs_114912_114176342;
inetntopproc114972 inetntopreal_114984_114176342;
void* ws2_114986_114176342;
static void* TMP172;
TY112821 Dl_112820;
TNimType NTI112402; /* Handle */
static void* TMP1354;
TY114331 Dl_114330;
TY112836 Dl_112835;
TY113002 Dl_113001;
TY112831 Dl_112830;
TY113605 Dl_113604;
TY113023 Dl_113022;
TY113432 Dl_113431;
TY113602 Dl_113601;
TY113437 Dl_113436;
TY113012 Dl_113011;
TY114407 Dl_114406;
TY112604 Dl_112603;
TY114605 Dl_114604;
TY114602 Dl_114601;
TY114625 Dl_114624;
TY114617 Dl_114616;
TY114612 Dl_114611;
TY113612 Dl_113611;
TY114802 Dl_114801;
TY113634 Dl_113633;
TY113629 Dl_113628;
TY113631 Dl_113630;
TY113019 Dl_113018;
TY113005 Dl_113004;
TY112623 Dl_112622;
TY112631 Dl_112630;
TY114405 Dl_114404;
TY114395 Dl_114394;
TY112653 Dl_112652;
TY112607 Dl_112606;
TY112615 Dl_112614;
TY112808 Dl_112807;
TY112816 Dl_112815;
TY114416 Dl_114415;
TY113615 Dl_113614;
TY113016 Dl_113015;
TY113009 Dl_113008;
TY113624 Dl_113623;
TY113619 Dl_113618;
TY113810 Dl_113809;
TY113814 Dl_113813;
TY114184 Dl_114183;
TY114199 Dl_114198;
TY114336 Dl_114335;
TY114345 Dl_114344;
TY114240 Dl_114239;
TY114269 Dl_114268;
TY114192 Dl_114191;
TY114349 Dl_114348;
TY114260 Dl_114259;
TY114301 Dl_114300;
TY114244 Dl_114243;
TY114189 Dl_114188;

N_NIMCALL(NI64, rdfiletime_113801_114176342)(Filetime112432 f0) {
	NI64 result0;
	result0 = (NI64)0;
	result0 = (NI64)(((NI64)(NU64)(NU32)(f0.dwlowdatetime)) | (NI64)((NU64)(((NI64)(NU64)(NU32)(f0.dwhighdatetime))) << (NU64)(IL64(32))));
	return result0;
}

N_NIMCALL(void, Fdzero_114326_114176342)(Tfdset114046* s0) {
	(*s0).fdcount = ((int) 0);
}

N_NIMCALL(void, Fdset_114311_114176342)(NI socket0, Tfdset114046* s0) {
	{
		if (!((*s0).fdcount < ((NI32) 64))) goto LA3;
		(*s0).fdarray[(((NI) ((*s0).fdcount)))- 0] = socket0;
		(*s0).fdcount += ((NI) 1);
	}
	LA3: ;
}

N_NIMCALL(int, Fdisset_114305_114176342)(NI socket0, Tfdset114046* set0) {
	int result0;
	result0 = (int)0;
	{
		NIM_BOOL LOC3;
		LOC3 = (NIM_BOOL)0;
		LOC3 = Dl_114300(socket0, set0);
		if (!LOC3) goto LA4;
		result0 = ((NI32) 1);
	}
	goto LA1;
	LA4: ;
	{
		result0 = ((NI32) 0);
	}
	LA1: ;
	return result0;
}
NIM_EXTERNC N_NOINLINE(void, stdlib_winleanInit000)(void) {
	Guid114811 LOC1;
	Guid114811 LOC2;
	Guid114811 LOC3;
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC1.D1 = ((NI32) 631375801);
	LOC1.D2 = ((NI16) -8717);
	LOC1.D3 = ((NI16) 18016);
	memcpy((void*)LOC1.D4, (NIM_CONST void*)TMP25, sizeof(TY114825));
	Wsaidconnectex_114904_114176342 = LOC1;
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.D1 = ((NI32) -1254720015);
	LOC2.D2 = ((NI16) -13396);
	LOC2.D3 = ((NI16) 4559);
	memcpy((void*)LOC2.D4, (NIM_CONST void*)TMP26, sizeof(TY114825));
	Wsaidacceptex_114908_114176342 = LOC2;
	memset((void*)(&LOC3), 0, sizeof(LOC3));
	LOC3.D1 = ((NI32) -1254720014);
	LOC3.D2 = ((NI16) -13396);
	LOC3.D3 = ((NI16) 4559);
	memcpy((void*)LOC3.D4, (NIM_CONST void*)TMP26, sizeof(TY114825));
	Wsaidgetacceptexsockaddrs_114912_114176342 = LOC3;
	inetntopreal_114984_114176342 = NIM_NIL;
	ws2_114986_114176342 = loadlib_111232_730713720(((NimStringDesc*) &TMP27), NIM_FALSE);
	{
		void* LOC8;
		if (!!((ws2_114986_114176342 == NIM_NIL))) goto LA6;
		LOC8 = (void*)0;
		LOC8 = symaddr_111255_730713720(ws2_114986_114176342, "inet_ntop");
		inetntopreal_114984_114176342 = ((inetntopproc114972) (LOC8));
	}
	LA6: ;
}

NIM_EXTERNC N_NOINLINE(void, stdlib_winleanDatInit000)(void) {
NTI112402.size = sizeof(NI);
NTI112402.kind = 31;
NTI112402.base = 0;
NTI112402.flags = 3;
if (!((TMP172 = nimLoadLibrary((NimStringDesc*) &TMP173))
)) nimLoadLibraryError((NimStringDesc*) &TMP174);
	Dl_112820 = (TY112821) nimGetProcAddr(TMP172, "GetStdHandle");
if (!((TMP1354 = nimLoadLibrary((NimStringDesc*) &TMP1355))
)) nimLoadLibraryError((NimStringDesc*) &TMP1356);
	Dl_114330 = (TY114331) nimGetProcAddr(TMP1354, "WSAStartup");
	Dl_112835 = (TY112836) nimGetProcAddr(TMP172, "FormatMessageW");
	Dl_113001 = (TY113002) nimGetProcAddr(TMP172, "LocalFree");
	Dl_112830 = (TY112831) nimGetProcAddr(TMP172, "GetLastError");
	Dl_113604 = (TY113605) nimGetProcAddr(TMP172, "GetFullPathNameW");
	Dl_113022 = (TY113023) nimGetProcAddr(TMP172, "GetModuleFileNameW");
	Dl_113431 = (TY113432) nimGetProcAddr(TMP172, "FindFirstFileW");
	Dl_113601 = (TY113602) nimGetProcAddr(TMP172, "FindClose");
	Dl_113436 = (TY113437) nimGetProcAddr(TMP172, "FindNextFileW");
	Dl_113011 = (TY113012) nimGetProcAddr(TMP172, "CreateDirectoryW");
	Dl_114406 = (TY114407) nimGetProcAddr(TMP172, "CreateFileW");
	Dl_112603 = (TY112604) nimGetProcAddr(TMP172, "CloseHandle");
	Dl_114604 = (TY114605) nimGetProcAddr(TMP172, "SetFilePointer");
	Dl_114601 = (TY114602) nimGetProcAddr(TMP172, "SetEndOfFile");
	Dl_114624 = (TY114625) nimGetProcAddr(TMP172, "CreateFileMappingW");
	Dl_114616 = (TY114617) nimGetProcAddr(TMP172, "MapViewOfFileEx");
	Dl_114611 = (TY114612) nimGetProcAddr(TMP172, "GetFileSize");
	Dl_113611 = (TY113612) nimGetProcAddr(TMP172, "GetFileAttributesW");
	Dl_114801 = (TY114802) nimGetProcAddr(TMP172, "UnmapViewOfFile");
	Dl_113633 = (TY113634) nimGetProcAddr(TMP172, "GetCommandLineW");
	Dl_113628 = (TY113629) nimGetProcAddr(TMP172, "GetEnvironmentStringsW");
	Dl_113630 = (TY113631) nimGetProcAddr(TMP172, "FreeEnvironmentStringsW");
	Dl_113018 = (TY113019) nimGetProcAddr(TMP172, "SetEnvironmentVariableW");
	Dl_113004 = (TY113005) nimGetProcAddr(TMP172, "GetCurrentDirectoryW");
	Dl_112622 = (TY112623) nimGetProcAddr(TMP172, "CreatePipe");
	Dl_112630 = (TY112631) nimGetProcAddr(TMP172, "CreateNamedPipeW");
	Dl_114404 = (TY114405) nimGetProcAddr(TMP172, "GetCurrentProcess");
	Dl_114394 = (TY114395) nimGetProcAddr(TMP172, "DuplicateHandle");
	Dl_112652 = (TY112653) nimGetProcAddr(TMP172, "CreateProcessW");
	Dl_112606 = (TY112607) nimGetProcAddr(TMP172, "ReadFile");
	Dl_112614 = (TY112615) nimGetProcAddr(TMP172, "WriteFile");
	Dl_112807 = (TY112808) nimGetProcAddr(TMP172, "WaitForSingleObject");
	Dl_112815 = (TY112816) nimGetProcAddr(TMP172, "GetExitCodeProcess");
	Dl_114415 = (TY114416) nimGetProcAddr(TMP172, "DeleteFileW");
	Dl_113614 = (TY113615) nimGetProcAddr(TMP172, "SetFileAttributesW");
	Dl_113015 = (TY113016) nimGetProcAddr(TMP172, "RemoveDirectoryW");
	Dl_113008 = (TY113009) nimGetProcAddr(TMP172, "SetCurrentDirectoryW");
	Dl_113623 = (TY113624) nimGetProcAddr(TMP172, "MoveFileW");
	Dl_113618 = (TY113619) nimGetProcAddr(TMP172, "CopyFileW");
	Dl_113809 = (TY113810) nimGetProcAddr(TMP172, "GetSystemTimeAsFileTime");
	Dl_113813 = (TY113814) nimGetProcAddr(TMP172, "Sleep");
	Dl_114183 = (TY114184) nimGetProcAddr(TMP1354, "socket");
	Dl_114198 = (TY114199) nimGetProcAddr(TMP1354, "bind");
	Dl_114335 = (TY114336) nimGetProcAddr(TMP1354, "getaddrinfo");
	Dl_114344 = (TY114345) nimGetProcAddr(TMP1354, "freeaddrinfo");
	Dl_114239 = (TY114240) nimGetProcAddr(TMP1354, "listen");
	Dl_114268 = (TY114269) nimGetProcAddr(TMP1354, "send");
	Dl_114191 = (TY114192) nimGetProcAddr(TMP1354, "accept");
	Dl_114348 = (TY114349) nimGetProcAddr(TMP1354, "inet_ntoa");
	Dl_114259 = (TY114260) nimGetProcAddr(TMP1354, "select");
	Dl_114300 = (TY114301) nimGetProcAddr(TMP1354, "__WSAFDIsSet");
	Dl_114243 = (TY114244) nimGetProcAddr(TMP1354, "recv");
	Dl_114188 = (TY114189) nimGetProcAddr(TMP1354, "closesocket");
}

