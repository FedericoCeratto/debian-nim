/* Generated by Nim Compiler v0.13.0 */
/*   (c) 2015 Andreas Rumpf */
/* The generated code is subject to the original license. */
/* Compiled for: Linux, amd64, gcc */
/* Command for C compiler:
   gcc -c  -w -O3 -fno-strict-aliasing  -I/home/ubuntu/nim-ci/Nim/lib -o /home/ubuntu/nim-ci/Nim/compiler/rnimcache/stdlib_unicode.o /home/ubuntu/nim-ci/Nim/compiler/rnimcache/stdlib_unicode.c */
#define NIM_INTBITS 64

#include "nimbase.h"
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
N_NIMCALL(NimStringDesc*, setLengthStr)(NimStringDesc* s, NI newlen);
STRING_LITERAL(TMP3170, "", 0);

N_NIMCALL(NimStringDesc*, nuctoUTF8)(NI32 c) {
	NimStringDesc* result;
	NI32 i_225328;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP3170));
	i_225328 = c;
	{
		if (!((NU32)(i_225328) <= (NU32)(((NI32) 127)))) goto LA3;
		result = setLengthStr(result, ((NI) 1));
		result->data[((NI) 0)] = ((NIM_CHAR) (((NI) (i_225328))));
	}
	goto LA1;
	LA3: ;
	{
		if (!((NU32)(i_225328) <= (NU32)(((NI32) 2047)))) goto LA6;
		result = setLengthStr(result, ((NI) 2));
		result->data[((NI) 0)] = ((NIM_CHAR) (((NI) ((NI32)((NI32)((NU32)(i_225328) >> (NU32)(((NI32) 6))) | ((NI32) 192))))));
		result->data[((NI) 1)] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI32)(i_225328 & ((NI32) 63)))) | ((NI) 128))))));
	}
	goto LA1;
	LA6: ;
	{
		if (!((NU32)(i_225328) <= (NU32)(((NI32) 65535)))) goto LA9;
		result = setLengthStr(result, ((NI) 3));
		result->data[((NI) 0)] = ((NIM_CHAR) (((NI) ((NI32)((NI32)((NU32)(i_225328) >> (NU32)(((NI32) 12))) | ((NI32) 224))))));
		result->data[((NI) 1)] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI32)((NI32)((NU32)(i_225328) >> (NU32)(((NI32) 6))) & ((NI32) 63)))) | ((NI) 128))))));
		result->data[((NI) 2)] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI32)(i_225328 & ((NI32) 63)))) | ((NI) 128))))));
	}
	goto LA1;
	LA9: ;
	{
		if (!((NU32)(i_225328) <= (NU32)(((NI32) 2097151)))) goto LA12;
		result = setLengthStr(result, ((NI) 4));
		result->data[((NI) 0)] = ((NIM_CHAR) (((NI) ((NI32)((NI32)((NU32)(i_225328) >> (NU32)(((NI32) 18))) | ((NI32) 240))))));
		result->data[((NI) 1)] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI32)((NI32)((NU32)(i_225328) >> (NU32)(((NI32) 12))) & ((NI32) 63)))) | ((NI) 128))))));
		result->data[((NI) 2)] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI32)((NI32)((NU32)(i_225328) >> (NU32)(((NI32) 6))) & ((NI32) 63)))) | ((NI) 128))))));
		result->data[((NI) 3)] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI32)(i_225328 & ((NI32) 63)))) | ((NI) 128))))));
	}
	goto LA1;
	LA12: ;
	{
		if (!((NU32)(i_225328) <= (NU32)(((NI32) 67108863)))) goto LA15;
		result = setLengthStr(result, ((NI) 5));
		result->data[((NI) 0)] = ((NIM_CHAR) (((NI) ((NI32)((NI32)((NU32)(i_225328) >> (NU32)(((NI32) 24))) | ((NI32) 248))))));
		result->data[((NI) 1)] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI32)((NI32)((NU32)(i_225328) >> (NU32)(((NI32) 18))) & ((NI32) 63)))) | ((NI) 128))))));
		result->data[((NI) 2)] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI32)((NI32)((NU32)(i_225328) >> (NU32)(((NI32) 12))) & ((NI32) 63)))) | ((NI) 128))))));
		result->data[((NI) 3)] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI32)((NI32)((NU32)(i_225328) >> (NU32)(((NI32) 6))) & ((NI32) 63)))) | ((NI) 128))))));
		result->data[((NI) 4)] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI32)(i_225328 & ((NI32) 63)))) | ((NI) 128))))));
	}
	goto LA1;
	LA15: ;
	{
		if (!((NU32)(i_225328) <= (NU32)(((NI32) 2147483647)))) goto LA18;
		result = setLengthStr(result, ((NI) 6));
		result->data[((NI) 0)] = ((NIM_CHAR) (((NI) ((NI32)((NI32)((NU32)(i_225328) >> (NU32)(((NI32) 30))) | ((NI32) 252))))));
		result->data[((NI) 1)] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI32)((NI32)((NU32)(i_225328) >> (NU32)(((NI32) 24))) & ((NI32) 63)))) | ((NI) 128))))));
		result->data[((NI) 2)] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI32)((NI32)((NU32)(i_225328) >> (NU32)(((NI32) 18))) & ((NI32) 63)))) | ((NI) 128))))));
		result->data[((NI) 3)] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI32)((NI32)((NU32)(i_225328) >> (NU32)(((NI32) 12))) & ((NI32) 63)))) | ((NI) 128))))));
		result->data[((NI) 4)] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI32)((NI32)((NU32)(i_225328) >> (NU32)(((NI32) 6))) & ((NI32) 63)))) | ((NI) 128))))));
		result->data[((NI) 5)] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI32)(i_225328 & ((NI32) 63)))) | ((NI) 128))))));
	}
	goto LA1;
	LA18: ;
	{
	}
	LA1: ;
	return result;
}

N_NIMCALL(NI, validateutf8_223774)(NimStringDesc* s) {
	NI result;
	NI i;
	NI L;
{	result = 0;
	i = ((NI) 0);
	L = (s ? s->Sup.len : 0);
	{
		while (1) {
			if (!(i < L)) goto LA2;
			{
				if (!((NU64)(((NI) (((NU8)(s->data[i]))))) <= (NU64)(((NI) 127)))) goto LA5;
				i += ((NI) 1);
			}
			goto LA3;
			LA5: ;
			{
				if (!((NI)((NU64)(((NI) (((NU8)(s->data[i]))))) >> (NU64)(((NI) 5))) == ((NI) 6))) goto LA8;
				{
					if (!(((NI) (((NU8)(s->data[i])))) < ((NI) 194))) goto LA12;
					result = i;
					goto BeforeRet;
				}
				LA12: ;
				{
					NIM_BOOL LOC16;
					LOC16 = 0;
					LOC16 = ((NI)(i + ((NI) 1)) < L);
					if (!(LOC16)) goto LA17;
					LOC16 = ((NI)((NU64)(((NI) (((NU8)(s->data[(NI)(i + ((NI) 1))]))))) >> (NU64)(((NI) 6))) == ((NI) 2));
					LA17: ;
					if (!LOC16) goto LA18;
					i += ((NI) 2);
				}
				goto LA14;
				LA18: ;
				{
					result = i;
					goto BeforeRet;
				}
				LA14: ;
			}
			goto LA3;
			LA8: ;
			{
				if (!((NI)((NU64)(((NI) (((NU8)(s->data[i]))))) >> (NU64)(((NI) 4))) == ((NI) 14))) goto LA22;
				{
					NIM_BOOL LOC26;
					NIM_BOOL LOC27;
					LOC26 = 0;
					LOC27 = 0;
					LOC27 = ((NI)(i + ((NI) 2)) < L);
					if (!(LOC27)) goto LA28;
					LOC27 = ((NI)((NU64)(((NI) (((NU8)(s->data[(NI)(i + ((NI) 1))]))))) >> (NU64)(((NI) 6))) == ((NI) 2));
					LA28: ;
					LOC26 = LOC27;
					if (!(LOC26)) goto LA29;
					LOC26 = ((NI)((NU64)(((NI) (((NU8)(s->data[(NI)(i + ((NI) 2))]))))) >> (NU64)(((NI) 6))) == ((NI) 2));
					LA29: ;
					if (!LOC26) goto LA30;
					i += ((NI) 3);
				}
				goto LA24;
				LA30: ;
				{
					result = i;
					goto BeforeRet;
				}
				LA24: ;
			}
			goto LA3;
			LA22: ;
			{
				if (!((NI)((NU64)(((NI) (((NU8)(s->data[i]))))) >> (NU64)(((NI) 3))) == ((NI) 30))) goto LA34;
				{
					NIM_BOOL LOC38;
					NIM_BOOL LOC39;
					NIM_BOOL LOC40;
					LOC38 = 0;
					LOC39 = 0;
					LOC40 = 0;
					LOC40 = ((NI)(i + ((NI) 3)) < L);
					if (!(LOC40)) goto LA41;
					LOC40 = ((NI)((NU64)(((NI) (((NU8)(s->data[(NI)(i + ((NI) 1))]))))) >> (NU64)(((NI) 6))) == ((NI) 2));
					LA41: ;
					LOC39 = LOC40;
					if (!(LOC39)) goto LA42;
					LOC39 = ((NI)((NU64)(((NI) (((NU8)(s->data[(NI)(i + ((NI) 2))]))))) >> (NU64)(((NI) 6))) == ((NI) 2));
					LA42: ;
					LOC38 = LOC39;
					if (!(LOC38)) goto LA43;
					LOC38 = ((NI)((NU64)(((NI) (((NU8)(s->data[(NI)(i + ((NI) 3))]))))) >> (NU64)(((NI) 6))) == ((NI) 2));
					LA43: ;
					if (!LOC38) goto LA44;
					i += ((NI) 4);
				}
				goto LA36;
				LA44: ;
				{
					result = i;
					goto BeforeRet;
				}
				LA36: ;
			}
			goto LA3;
			LA34: ;
			{
				result = i;
				goto BeforeRet;
			}
			LA3: ;
		} LA2: ;
	}
	result = ((NI) -1);
	goto BeforeRet;
	}BeforeRet: ;
	return result;
}
NIM_EXTERNC N_NOINLINE(void, stdlib_unicodeInit000)(void) {
}

NIM_EXTERNC N_NOINLINE(void, stdlib_unicodeDatInit000)(void) {
}

