/* Generated by Nim Compiler v0.13.0 */
/*   (c) 2015 Andreas Rumpf */
/* The generated code is subject to the original license. */
/* Compiled for: Linux, amd64, gcc */
/* Command for C compiler:
   gcc -c  -w -O3 -fno-strict-aliasing  -I/home/ubuntu/nim-ci/Nim/lib -o /home/ubuntu/nim-ci/Nim/compiler/rnimcache/docutils_rst.o /home/ubuntu/nim-ci/Nim/compiler/rnimcache/docutils_rst.c */
#define NIM_INTBITS 64

#include "nimbase.h"
#include <string.h>
#include <stdio.h>
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct Rstnode367012 Rstnode367012;
typedef struct Rstnodeseq367010 Rstnodeseq367010;
typedef struct Rstparser368482 Rstparser368482;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct Tokenseq368110 Tokenseq368110;
typedef struct Sharedstate368478 Sharedstate368478;
typedef struct TY368503 TY368503;
typedef struct Token368108 Token368108;
typedef struct TY368492 TY368492;
typedef struct Substitution368476 Substitution368476;
typedef struct Cell47305 Cell47305;
typedef struct Cellseq47321 Cellseq47321;
typedef struct Gcheap49818 Gcheap49818;
typedef struct Gcstack49816 Gcstack49816;
typedef struct Memregion29480 Memregion29480;
typedef struct Smallchunk29437 Smallchunk29437;
typedef struct Llchunk29474 Llchunk29474;
typedef struct Bigchunk29439 Bigchunk29439;
typedef struct Intset29414 Intset29414;
typedef struct Trunk29410 Trunk29410;
typedef struct Avlnode29478 Avlnode29478;
typedef struct Gcstat49814 Gcstat49814;
typedef struct Cellset47317 Cellset47317;
typedef struct Pagedesc47313 Pagedesc47313;
typedef struct Eparseerror368484 Eparseerror368484;
typedef struct Valueerror3646 Valueerror3646;
typedef struct Exception Exception;
typedef struct Lexer368112 Lexer368112;
typedef struct Keyvaluepair152604 Keyvaluepair152604;
typedef struct TY128506 TY128506;
typedef struct TY135002 TY135002;
typedef struct Basechunk29435 Basechunk29435;
typedef struct Freecell29427 Freecell29427;
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct  Rstnode367012  {
NU8 kind;
NimStringDesc* text;
NI level;
Rstnodeseq367010* sons;
};
typedef NU8 TY283404[32];
typedef N_NIMCALL_PTR(NimStringDesc*, Findfilehandler368014) (NimStringDesc* filename);
typedef N_NIMCALL_PTR(void, Msghandler368012) (NimStringDesc* filename, NI line, NI col, NU8 msgkind, NimStringDesc* arg);
typedef N_NIMCALL_PTR(void, TY3489) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, TY3494) (void* p);
struct  TNimType  {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY3489 marker;
TY3494 deepcopy;
};
struct  TNimObject  {
TNimType* m_type;
};
struct  Rstparser368482  {
  TNimObject Sup;
NI idx;
Tokenseq368110* tok;
Sharedstate368478* s;
TY368503* indentstack;
NimStringDesc* filename;
NI line;
NI col;
NIM_BOOL hastoc;
};
struct  TNimNode  {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct  Token368108  {
NU8 kind;
NI ival;
NimStringDesc* symbol;
NI line;
NI col;
};
typedef NI Skiptable109518[256];
struct  Sharedstate368478  {
NU8 options;
NI ulevel;
NI olevel;
TY368492* subs;
TY368492* refs;
Skiptable109518 underlinetolevel;
Skiptable109518 overlinetolevel;
Msghandler368012 msghandler;
Findfilehandler368014 findfile;
};
struct  Substitution368476  {
NimStringDesc* key;
Rstnode367012* value;
};
struct  Cell47305  {
NI refcount;
TNimType* typ;
};
struct  Cellseq47321  {
NI len;
NI cap;
Cell47305** d;
};
typedef Smallchunk29437* TY29495[512];
typedef Trunk29410* Trunkbuckets29412[256];
struct  Intset29414  {
Trunkbuckets29412 data;
};
struct  Memregion29480  {
NI minlargeobj;
NI maxlargeobj;
TY29495 freesmallchunks;
Llchunk29474* llmem;
NI currmem;
NI maxmem;
NI freemem;
NI lastsize;
Bigchunk29439* freechunkslist;
Intset29414 chunkstarts;
Avlnode29478* root;
Avlnode29478* deleted;
Avlnode29478* last;
Avlnode29478* freeavlnodes;
NIM_BOOL locked;
};
struct  Gcstat49814  {
NI stackscans;
NI cyclecollections;
NI maxthreshold;
NI maxstacksize;
NI maxstackcells;
NI cycletablesize;
NI64 maxpause;
};
struct  Cellset47317  {
NI counter;
NI max;
Pagedesc47313* head;
Pagedesc47313** data;
};
struct  Gcheap49818  {
Gcstack49816* stack;
void* stackbottom;
NI cyclethreshold;
Cellseq47321 zct;
Cellseq47321 decstack;
Cellseq47321 tempstack;
NI recgclock;
Memregion29480 region;
Gcstat49814 stat;
Cellset47317 marked;
Cellseq47321 additionalroots;
};
typedef NimStringDesc* TY368046[10];
typedef NimStringDesc* TY368610[5];
struct  Exception  {
  TNimObject Sup;
Exception* parent;
NCSTRING name;
NimStringDesc* message;
NimStringDesc* trace;
};
struct  Valueerror3646  {
  Exception Sup;
};
struct  Eparseerror368484  {
  Valueerror3646 Sup;
};
typedef NimStringDesc* TY193732[1];
struct  Lexer368112  {
  TNimObject Sup;
NCSTRING buf;
NI bufpos;
NI line;
NI col;
NI baseindent;
NIM_BOOL skippounds;
};
typedef NimStringDesc* TY370626[13];
typedef N_NIMCALL_PTR(Rstnode367012*, Sectionparser373206) (Rstparser368482* p);
struct Keyvaluepair152604 {
NimStringDesc* Field0;
NimStringDesc* Field1;
};
typedef Keyvaluepair152604 TY368069[34];
struct TY128506 {
NimStringDesc* Field0;
NimStringDesc* Field1;
NimStringDesc* Field2;
};
typedef NimStringDesc* TY372890[3];
typedef NI TY372895[3];
struct  Gcstack49816  {
Gcstack49816* prev;
Gcstack49816* next;
void* starts;
void* pos;
NI maxstacksize;
};
struct  Basechunk29435  {
NI prevsize;
NI size;
NIM_BOOL used;
};
struct  Smallchunk29437  {
  Basechunk29435 Sup;
Smallchunk29437* next;
Smallchunk29437* prev;
Freecell29427* freelist;
NI free;
NI acc;
NF data;
};
struct  Llchunk29474  {
NI size;
NI acc;
Llchunk29474* next;
};
struct  Bigchunk29439  {
  Basechunk29435 Sup;
Bigchunk29439* next;
Bigchunk29439* prev;
NI align;
NF data;
};
typedef NI TY29419[8];
struct  Trunk29410  {
Trunk29410* next;
NI key;
TY29419 bits;
};
typedef Avlnode29478* TY29485[2];
struct  Avlnode29478  {
TY29485 link;
NI key;
NI upperbound;
NI level;
};
struct  Pagedesc47313  {
Pagedesc47313* next;
NI key;
TY29419 bits;
};
struct  Freecell29427  {
Freecell29427* next;
NI zerofield;
};
struct Tokenseq368110 {
  TGenericSeq Sup;
  Token368108 data[SEQ_DECL_SIZE];
};
struct TY368492 {
  TGenericSeq Sup;
  Substitution368476 data[SEQ_DECL_SIZE];
};
struct TY368503 {
  TGenericSeq Sup;
  NI data[SEQ_DECL_SIZE];
};
struct TY135002 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct Rstnodeseq367010 {
  TGenericSeq Sup;
  Rstnode367012* data[SEQ_DECL_SIZE];
};
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
N_NIMCALL(void, rstnodetorefnameaux_368923)(Rstnode367012* n, NimStringDesc** r, NIM_BOOL* b);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* s, NIM_CHAR c);
N_NIMCALL(NI, len_367085)(Rstnode367012* n);
N_NIMCALL(void, addnodesaux_368884)(Rstnode367012* n, NimStringDesc** result);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
static N_INLINE(void, copymem_7478)(void* dest, void* source, NI size);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* dest, NI addlen);
N_NIMCALL(NimStringDesc*, addnodes_368052)(Rstnode367012* n);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* a, NimStringDesc* b);
N_NIMCALL(NimStringDesc*, nsuStrip)(NimStringDesc* s, NIM_BOOL leading, NIM_BOOL trailing, TY283404 chars);
N_NIMCALL(void, nimGCvisit)(void* d, NI op);
N_NIMCALL(void, TMP2641)(void* p, NI op);
N_NIMCALL(void, TMP2653)(void* p, NI op);
N_NIMCALL(void, TMP2654)(void* p, NI op);
N_NIMCALL(void, TMP2655)(void* p, NI op);
N_NIMCALL(void, initparser_368850)(Rstparser368482* p, Sharedstate368478* sharedstate);
N_NIMCALL(void, genericSeqAssign)(void* dest, void* src_86404, TNimType* mt);
N_NIMCALL(void*, newSeq)(TNimType* typ, NI len);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
N_NIMCALL(Sharedstate368478*, newsharedstate_368659)(NU8 options, Findfilehandler368014 findfile, Msghandler368012 msghandler);
N_NIMCALL(void*, newObj)(TNimType* typ, NI size);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
static N_INLINE(Cell47305*, usrtocell_51440)(void* usr);
static N_INLINE(void, rtladdzct_52601)(Cell47305* c);
N_NOINLINE(void, addzct_51417)(Cellseq47321* s, Cell47305* c);
N_NIMCALL(void*, newSeqRC1)(TNimType* typ, NI len);
N_NIMCALL(void, defaultmsghandler_368601)(NimStringDesc* filename, NI line, NI col, NU8 msgkind, NimStringDesc* arg);
N_NIMCALL(NU8, whichmsgclass_368516)(NU8 k);
N_NIMCALL(NimStringDesc*, reprEnum)(NI e, TNimType* typ);
N_NIMCALL(NimStringDesc*, nsuFormatSingleElem)(NimStringDesc* formatstr, NimStringDesc* a);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* formatstr, NimStringDesc** a, NI aLen0);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI x);
N_NIMCALL(void, TMP2675)(void* p, NI op);
N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
N_NIMCALL(void, raiseException)(Exception* e, NCSTRING ename);
static N_INLINE(void, writeline_171405)(FILE* f, NimStringDesc** x, NI xLen0);
N_NIMCALL(void, write_14891)(FILE* f, NimStringDesc* s);
N_NIMCALL(NimStringDesc*, defaultfindfile_368655)(NimStringDesc* filename);
N_NIMCALL(NIM_BOOL, nosexistsFile)(NimStringDesc* filename);
N_NIMCALL(NI, gettokens_368342)(NimStringDesc* buffer, NIM_BOOL skippounds, Tokenseq368110** tokens);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* seq, NI elemsize, NI newlen);
N_NIMCALL(void, rawgettok_368301)(Lexer368112* L, Token368108* tok);
N_NIMCALL(void, getthing_368135)(Lexer368112* L, Token368108* tok, TY283404 s);
N_NIMCALL(void, getindent_368282)(Lexer368112* L, Token368108* tok);
N_NIMCALL(NI, getindentaux_368200)(Lexer368112* L, NI start);
N_NIMCALL(NimStringDesc*, nsuRepeatChar)(NIM_CHAR c, NI count);
N_NIMCALL(NimStringDesc*, rawNewString)(NI space);
N_NIMCALL(void, getadornment_368173)(Lexer368112* L, Token368108* tok);
N_NIMCALL(Rstnode367012*, resolvesubs_374196)(Rstparser368482* p, Rstnode367012* n);
N_NIMCALL(NI, findsub_369014)(Rstparser368482* p, Rstnode367012* n);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b);
static N_INLINE(NIM_BOOL, equalmem_7488)(void* a, void* b, NI size);
N_NIMCALL(NimStringDesc*, getenv_135625)(NimStringDesc* key);
N_NIMCALL(Rstnode367012*, newrstnode_367125)(NU8 kind, NimStringDesc* s);
N_NIMCALL(void, rstmessage_368724)(Rstparser368482* p, NU8 msgkind, NimStringDesc* arg);
N_NIMCALL(Rstnode367012*, findref_369151)(Rstparser368482* p, NimStringDesc* key);
N_NIMCALL(NimStringDesc*, rstnodetorefname_368049)(Rstnode367012* n);
N_NIMCALL(Rstnode367012*, newrstnode_367097)(NU8 kind);
N_NIMCALL(void, add_367142)(Rstnode367012* father, Rstnode367012* son);
static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src);
N_NIMCALL(Rstnode367012*, parsedoc_372257)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, parsesectionwrapper_373091)(Rstparser368482* p);
N_NIMCALL(void, parsesection_370696)(Rstparser368482* p, Rstnode367012* result);
N_NIMCALL(NI, currind_368801)(Rstparser368482* p);
N_NIMCALL(void, pushind_368805)(Rstparser368482* p, NI ind);
N_NIMCALL(TGenericSeq*, incrSeqV2)(TGenericSeq* seq, NI elemsize);
N_NIMCALL(void, popind_368820)(Rstparser368482* p);
N_NIMCALL(NU8, whichsection_371611)(Rstparser368482* p);
N_NIMCALL(NIM_BOOL, match_369327)(Rstparser368482* p, NI start, NimStringDesc* expr);
N_NIMCALL(NIM_BOOL, allcharsinset_109382)(NimStringDesc* s, TY283404 theset);
N_NIMCALL(NI, tokenafternewline_371550)(Rstparser368482* p);
N_NIMCALL(NIM_BOOL, prednl_371578)(Rstparser368482* p);
N_NIMCALL(NIM_BOOL, islineblock_371573)(Rstparser368482* p);
N_NIMCALL(void, rstmessage_368736)(Rstparser368482* p, NU8 msgkind);
N_NIMCALL(NIM_BOOL, isdeflist_371591)(Rstparser368482* p);
N_NIMCALL(NIM_BOOL, isoptionlist_371607)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, parseliteralblock_371468)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, parsebulletlist_372668)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, parselineblock_371624)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, parsedotdot_371464)(Rstparser368482* p);
N_NIMCALL(NimStringDesc*, getdirective_370436)(Rstparser368482* p);
N_NIMCALL(NU8, getdirkind_370629)(NimStringDesc* s);
static N_INLINE(NI, find_370634)(TY370626 a, NimStringDesc* item);
N_NIMCALL(Rstnode367012*, dirinclude_373357)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, parsedirective_373336)(Rstparser368482* p, NU8 flags, Sectionparser373206 contentparser);
N_NIMCALL(Rstnode367012*, parsedirective_373217)(Rstparser368482* p, NU8 flags);
N_NIMCALL(Rstnode367012*, newleaf_369177)(Rstparser368482* p);
N_NIMCALL(void, parseline_370684)(Rstparser368482* p, Rstnode367012* father);
N_NIMCALL(void, parseinline_370328)(Rstparser368482* p, Rstnode367012* father);
N_NIMCALL(NIM_BOOL, isinlinemarkupstart_369286)(Rstparser368482* p, NimStringDesc* markup);
N_NIMCALL(void, parseuntil_370201)(Rstparser368482* p, Rstnode367012* father, NimStringDesc* postfix, NIM_BOOL interpretbackslash);
N_NIMCALL(NIM_BOOL, isinlinemarkupend_369248)(Rstparser368482* p, NimStringDesc* markup);
N_NIMCALL(void, parsebackslash_369896)(Rstparser368482* p, Rstnode367012* father);
N_NIMCALL(void, rstmessage_368729)(Rstparser368482* p, NU8 msgkind, NimStringDesc* arg, NI line, NI col);
N_NIMCALL(Rstnode367012*, parsemarkdowncodeblock_370274)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, parsepostfix_369538)(Rstparser368482* p, Rstnode367012* n);
N_NIMCALL(void, fixupembeddedref_369471)(Rstnode367012* n, Rstnode367012* a, Rstnode367012* b);
N_NIMCALL(void, setref_369106)(Rstparser368482* p, NimStringDesc* key, Rstnode367012* value);
N_NIMCALL(Rstnode367012*, parsesmiley_369607)(Rstparser368482* p);
N_NIMCALL(NI, matchverbatim_369573)(Rstparser368482* p, NI start, NimStringDesc* expr);
N_NIMCALL(NIM_BOOL, nsuContinuesWith)(NimStringDesc* s, NimStringDesc* substr, NI start);
N_NIMCALL(void, parseurl_369859)(Rstparser368482* p, Rstnode367012* father);
N_NIMCALL(NIM_BOOL, isurl_369801)(Rstparser368482* p, NI i);
static N_INLINE(NIM_BOOL, contains_369819)(NimStringDesc** a, NI aLen0, NimStringDesc* item);
static N_INLINE(NI, find_369829)(NimStringDesc** a, NI aLen0, NimStringDesc* item);
N_NIMCALL(Rstnode367012*, parsefields_370728)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, parsefield_370701)(Rstparser368482* p);
N_NIMCALL(NIM_BOOL, indfollows_373323)(Rstparser368482* p);
N_NIMCALL(NimStringDesc*, findrelativefile_368719)(Rstparser368482* p, NimStringDesc* filename);
N_NIMCALL(NimStringDesc*, HEX2F_128265)(NimStringDesc* head, NimStringDesc* tail);
N_NIMCALL(void, nossplitFile)(NimStringDesc* path, TY128506* Result);
N_NIMCALL(NimStringDesc*, getfieldvalue_368055)(Rstnode367012* n, NimStringDesc* fieldname);
N_NIMCALL(NimStringDesc*, readfile_14868)(NimStringDesc* filename);
N_NIMCALL(Rstnode367012*, dirimage_374001)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, dirfigure_374007)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, dirtitle_374013)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, dircontainer_373602)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, dircontents_374019)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, dirraw_374043)(Rstparser368482* p);
N_NIMCALL(NI, nsuCmpIgnoreCase)(NimStringDesc* a, NimStringDesc* b);
N_NIMCALL(void, dirrawaux_374032)(Rstparser368482* p, Rstnode367012** result, NU8 kind, Sectionparser373206 contentparser);
N_NIMCALL(Rstnode367012*, parsedirbody_373351)(Rstparser368482* p, Sectionparser373206 contentparser);
N_NIMCALL(Rstnode367012*, dircodeblock_373380)(Rstparser368482* p, NIM_BOOL nimextension);
N_NIMCALL(Rstnode367012*, dirindex_374025)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, getreferencename_369182)(Rstparser368482* p, NimStringDesc* endstr);
N_NIMCALL(Rstnode367012*, untileol_369208)(Rstparser368482* p);
N_NIMCALL(void, expect_369234)(Rstparser368482* p, NimStringDesc* tok);
N_NIMCALL(void, setsub_369061)(Rstparser368482* p, NimStringDesc* key, Rstnode367012* value);
N_NIMCALL(Rstnode367012*, parsecomment_370544)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, parseenumlist_372883)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, parsedefinitionlist_372807)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, parsetransition_372546)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, parseheadline_371728)(Rstparser368482* p);
N_NIMCALL(void, parseuntilnewline_370690)(Rstparser368482* p, Rstnode367012* father);
N_NIMCALL(NI, getlevel_371533)(NI* map, NI* lvl, NIM_CHAR c);
N_NIMCALL(Rstnode367012*, parseoverline_372596)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, parsesimpletable_372261)(Rstparser368482* p);
N_NIMCALL(void, getcolumns_372020)(Rstparser368482* p, TY368503** cols);
N_NIMCALL(NI, tokend_372016)(Rstparser368482* p);
N_NIMCALL(Rstnode367012*, parseoptionlist_372722)(Rstparser368482* p);
N_NIMCALL(void, parseparagraph_371677)(Rstparser368482* p, Rstnode367012* result);
N_NIMCALL(void, addifnotnil_367156)(Rstnode367012* father, Rstnode367012* son);
N_NIMCALL(NU8, sonkind_372949)(Rstnode367012* father, NI i);
STRING_LITERAL(TMP2287, "", 0);
STRING_LITERAL(TMP2377, "\001\001", 2);
static NIM_CONST TY283404 TMP2400 = {
0x00, 0x3E, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
NIM_CONST struct {
  TGenericSeq Sup;
  NI data[1];
} CNSTSEQ2658 = {{1, 1}, {((NI) 0)}};
NIM_CONST TY368503* TMP2656 = ((TY368503*)&CNSTSEQ2658);
STRING_LITERAL(TMP2661, "cannot open \'$1\'", 16);
STRING_LITERAL(TMP2662, "\'$1\' expected", 13);
STRING_LITERAL(TMP2663, "grid table is not implemented", 29);
STRING_LITERAL(TMP2664, "new section expected", 20);
STRING_LITERAL(TMP2665, "general parse error", 19);
STRING_LITERAL(TMP2666, "invalid directive: \'$1\'", 23);
STRING_LITERAL(TMP2667, "redefinition of label \'$1\'", 26);
STRING_LITERAL(TMP2668, "unknown substitution \'$1\'", 25);
STRING_LITERAL(TMP2669, "language \'$1\' not supported", 27);
STRING_LITERAL(TMP2670, "field \'$1\' not supported", 24);
NIM_CONST TY368046 messages_368043 = {((NimStringDesc*) &TMP2661),
((NimStringDesc*) &TMP2662),
((NimStringDesc*) &TMP2663),
((NimStringDesc*) &TMP2664),
((NimStringDesc*) &TMP2665),
((NimStringDesc*) &TMP2666),
((NimStringDesc*) &TMP2667),
((NimStringDesc*) &TMP2668),
((NimStringDesc*) &TMP2669),
((NimStringDesc*) &TMP2670)}
;
STRING_LITERAL(TMP2671, "$1($2, $3) $4: $5", 17);
STRING_LITERAL(TMP2676, "\012", 1);
static NIM_CONST TY283404 TMP2678 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0xFE, 0xFF, 0xFF, 0x07, 0xFE, 0xFF, 0xFF, 0x07,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}
;
static NIM_CONST TY283404 TMP2679 = {
0x00, 0x02, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP2680, "#", 1);
static NIM_CONST TY283404 TMP2681 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP2682, "ii", 2);
STRING_LITERAL(TMP2683, " a", 2);
STRING_LITERAL(TMP2684, "i", 1);
STRING_LITERAL(TMP2685, "ai", 2);
STRING_LITERAL(TMP2686, "::", 2);
STRING_LITERAL(TMP2687, "+", 1);
STRING_LITERAL(TMP2688, "*", 1);
STRING_LITERAL(TMP2689, "-", 1);
STRING_LITERAL(TMP2690, "|", 1);
STRING_LITERAL(TMP2691, "..", 2);
STRING_LITERAL(TMP2692, ":w:", 3);
STRING_LITERAL(TMP2693, "(e) ", 4);
STRING_LITERAL(TMP2694, "+a+", 3);
STRING_LITERAL(TMP2695, "-w", 2);
STRING_LITERAL(TMP2696, "--w", 3);
STRING_LITERAL(TMP2697, "/w", 2);
STRING_LITERAL(TMP2698, "//w", 3);
STRING_LITERAL(TMP2699, "e) ", 3);
STRING_LITERAL(TMP2700, "e. ", 3);
STRING_LITERAL(TMP2701, "author", 6);
STRING_LITERAL(TMP2702, "authors", 7);
STRING_LITERAL(TMP2703, "code", 4);
STRING_LITERAL(TMP2704, "code-block", 10);
STRING_LITERAL(TMP2705, "container", 9);
STRING_LITERAL(TMP2706, "contents", 8);
STRING_LITERAL(TMP2707, "figure", 6);
STRING_LITERAL(TMP2708, "image", 5);
STRING_LITERAL(TMP2709, "include", 7);
STRING_LITERAL(TMP2710, "index", 5);
STRING_LITERAL(TMP2711, "raw", 3);
STRING_LITERAL(TMP2712, "title", 5);
NIM_CONST TY370626 Dirids_370624 = {((NimStringDesc*) &TMP2287),
((NimStringDesc*) &TMP2701),
((NimStringDesc*) &TMP2702),
((NimStringDesc*) &TMP2703),
((NimStringDesc*) &TMP2704),
((NimStringDesc*) &TMP2705),
((NimStringDesc*) &TMP2706),
((NimStringDesc*) &TMP2707),
((NimStringDesc*) &TMP2708),
((NimStringDesc*) &TMP2709),
((NimStringDesc*) &TMP2710),
((NimStringDesc*) &TMP2711),
((NimStringDesc*) &TMP2712)}
;
static NIM_CONST TY283404 TMP2713 = {
0x00, 0x00, 0x00, 0x00, 0x84, 0xA1, 0x00, 0x14,
0x00, 0x00, 0x00, 0x88, 0x00, 0x00, 0x00, 0x08,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP2714, "\\", 1);
STRING_LITERAL(TMP2715, "***", 3);
static NIM_CONST TY283404 TMP2716 = {
0x00, 0x00, 0x00, 0x00, 0x86, 0xF2, 0x00, 0xCC,
0x00, 0x00, 0x00, 0xB0, 0x00, 0x00, 0x00, 0x20,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP2717, "``", 2);
STRING_LITERAL(TMP2718, "\\\\", 2);
STRING_LITERAL(TMP2719, " ", 1);
STRING_LITERAL(TMP2720, "**", 2);
STRING_LITERAL(TMP2721, "```", 3);
STRING_LITERAL(TMP2722, "`", 1);
STRING_LITERAL(TMP2723, "_", 1);
STRING_LITERAL(TMP2724, "__", 2);
STRING_LITERAL(TMP2725, ">", 1);
STRING_LITERAL(TMP2726, "<", 1);
STRING_LITERAL(TMP2727, "idx", 3);
STRING_LITERAL(TMP2728, "literal", 7);
STRING_LITERAL(TMP2729, "strong", 6);
STRING_LITERAL(TMP2730, "emphasis", 8);
STRING_LITERAL(TMP2731, "sub", 3);
STRING_LITERAL(TMP2732, "subscript", 9);
STRING_LITERAL(TMP2733, "sup", 3);
STRING_LITERAL(TMP2734, "supscript", 9);
STRING_LITERAL(TMP2735, ":D", 2);
STRING_LITERAL(TMP2736, "icon_e_biggrin", 14);
STRING_LITERAL(TMP2737, ":-D", 3);
STRING_LITERAL(TMP2738, ":)", 2);
STRING_LITERAL(TMP2739, "icon_e_smile", 12);
STRING_LITERAL(TMP2740, ":-)", 3);
STRING_LITERAL(TMP2741, ";)", 2);
STRING_LITERAL(TMP2742, "icon_e_wink", 11);
STRING_LITERAL(TMP2743, ";-)", 3);
STRING_LITERAL(TMP2744, ":(", 2);
STRING_LITERAL(TMP2745, "icon_e_sad", 10);
STRING_LITERAL(TMP2746, ":-(", 3);
STRING_LITERAL(TMP2747, ":o", 2);
STRING_LITERAL(TMP2748, "icon_e_surprised", 16);
STRING_LITERAL(TMP2749, ":-o", 3);
STRING_LITERAL(TMP2750, ":shock:", 7);
STRING_LITERAL(TMP2751, "icon_eek", 8);
STRING_LITERAL(TMP2752, ":?", 2);
STRING_LITERAL(TMP2753, "icon_e_confused", 15);
STRING_LITERAL(TMP2754, ":-?", 3);
STRING_LITERAL(TMP2755, ":-/", 3);
STRING_LITERAL(TMP2756, "8-)", 3);
STRING_LITERAL(TMP2757, "icon_cool", 9);
STRING_LITERAL(TMP2758, ":lol:", 5);
STRING_LITERAL(TMP2759, "icon_lol", 8);
STRING_LITERAL(TMP2760, ":x", 2);
STRING_LITERAL(TMP2761, "icon_mad", 8);
STRING_LITERAL(TMP2762, ":-x", 3);
STRING_LITERAL(TMP2763, ":P", 2);
STRING_LITERAL(TMP2764, "icon_razz", 9);
STRING_LITERAL(TMP2765, ":-P", 3);
STRING_LITERAL(TMP2766, ":oops:", 6);
STRING_LITERAL(TMP2767, "icon_redface", 12);
STRING_LITERAL(TMP2768, ":cry:", 5);
STRING_LITERAL(TMP2769, "icon_cry", 8);
STRING_LITERAL(TMP2770, ":evil:", 6);
STRING_LITERAL(TMP2771, "icon_evil", 9);
STRING_LITERAL(TMP2772, ":twisted:", 9);
STRING_LITERAL(TMP2773, "icon_twisted", 12);
STRING_LITERAL(TMP2774, ":roll:", 6);
STRING_LITERAL(TMP2775, "icon_rolleyes", 13);
STRING_LITERAL(TMP2776, ":!:", 3);
STRING_LITERAL(TMP2777, "icon_exclaim", 12);
STRING_LITERAL(TMP2778, ":?:", 3);
STRING_LITERAL(TMP2779, "icon_question", 13);
STRING_LITERAL(TMP2780, ":idea:", 6);
STRING_LITERAL(TMP2781, "icon_idea", 9);
STRING_LITERAL(TMP2782, ":arrow:", 7);
STRING_LITERAL(TMP2783, "icon_arrow", 10);
STRING_LITERAL(TMP2784, ":|", 2);
STRING_LITERAL(TMP2785, "icon_neutral", 12);
STRING_LITERAL(TMP2786, ":-|", 3);
STRING_LITERAL(TMP2787, ":mrgreen:", 9);
STRING_LITERAL(TMP2788, "icon_mrgreen", 12);
STRING_LITERAL(TMP2789, ":geek:", 6);
STRING_LITERAL(TMP2790, "icon_e_geek", 11);
STRING_LITERAL(TMP2791, ":ugeek:", 7);
STRING_LITERAL(TMP2792, "icon_e_ugeek", 12);
NIM_CONST TY368069 Smilies_368068 = {{((NimStringDesc*) &TMP2735),
((NimStringDesc*) &TMP2736)}
,
{((NimStringDesc*) &TMP2737),
((NimStringDesc*) &TMP2736)}
,
{((NimStringDesc*) &TMP2738),
((NimStringDesc*) &TMP2739)}
,
{((NimStringDesc*) &TMP2740),
((NimStringDesc*) &TMP2739)}
,
{((NimStringDesc*) &TMP2741),
((NimStringDesc*) &TMP2742)}
,
{((NimStringDesc*) &TMP2743),
((NimStringDesc*) &TMP2742)}
,
{((NimStringDesc*) &TMP2744),
((NimStringDesc*) &TMP2745)}
,
{((NimStringDesc*) &TMP2746),
((NimStringDesc*) &TMP2745)}
,
{((NimStringDesc*) &TMP2747),
((NimStringDesc*) &TMP2748)}
,
{((NimStringDesc*) &TMP2749),
((NimStringDesc*) &TMP2748)}
,
{((NimStringDesc*) &TMP2750),
((NimStringDesc*) &TMP2751)}
,
{((NimStringDesc*) &TMP2752),
((NimStringDesc*) &TMP2753)}
,
{((NimStringDesc*) &TMP2754),
((NimStringDesc*) &TMP2753)}
,
{((NimStringDesc*) &TMP2755),
((NimStringDesc*) &TMP2753)}
,
{((NimStringDesc*) &TMP2756),
((NimStringDesc*) &TMP2757)}
,
{((NimStringDesc*) &TMP2758),
((NimStringDesc*) &TMP2759)}
,
{((NimStringDesc*) &TMP2760),
((NimStringDesc*) &TMP2761)}
,
{((NimStringDesc*) &TMP2762),
((NimStringDesc*) &TMP2761)}
,
{((NimStringDesc*) &TMP2763),
((NimStringDesc*) &TMP2764)}
,
{((NimStringDesc*) &TMP2765),
((NimStringDesc*) &TMP2764)}
,
{((NimStringDesc*) &TMP2766),
((NimStringDesc*) &TMP2767)}
,
{((NimStringDesc*) &TMP2768),
((NimStringDesc*) &TMP2769)}
,
{((NimStringDesc*) &TMP2770),
((NimStringDesc*) &TMP2771)}
,
{((NimStringDesc*) &TMP2772),
((NimStringDesc*) &TMP2773)}
,
{((NimStringDesc*) &TMP2774),
((NimStringDesc*) &TMP2775)}
,
{((NimStringDesc*) &TMP2776),
((NimStringDesc*) &TMP2777)}
,
{((NimStringDesc*) &TMP2778),
((NimStringDesc*) &TMP2779)}
,
{((NimStringDesc*) &TMP2780),
((NimStringDesc*) &TMP2781)}
,
{((NimStringDesc*) &TMP2782),
((NimStringDesc*) &TMP2783)}
,
{((NimStringDesc*) &TMP2784),
((NimStringDesc*) &TMP2785)}
,
{((NimStringDesc*) &TMP2786),
((NimStringDesc*) &TMP2785)}
,
{((NimStringDesc*) &TMP2787),
((NimStringDesc*) &TMP2788)}
,
{((NimStringDesc*) &TMP2789),
((NimStringDesc*) &TMP2790)}
,
{((NimStringDesc*) &TMP2791),
((NimStringDesc*) &TMP2792)}
}
;
STRING_LITERAL(TMP2793, ":", 1);
STRING_LITERAL(TMP2794, "//", 2);
STRING_LITERAL(TMP2796, "http", 4);
STRING_LITERAL(TMP2797, "https", 5);
STRING_LITERAL(TMP2798, "ftp", 3);
STRING_LITERAL(TMP2799, "telnet", 6);
STRING_LITERAL(TMP2800, "file", 4);
NIM_CONST TY368610 TMP2795 = {((NimStringDesc*) &TMP2796),
((NimStringDesc*) &TMP2797),
((NimStringDesc*) &TMP2798),
((NimStringDesc*) &TMP2799),
((NimStringDesc*) &TMP2800)}
;
STRING_LITERAL(TMP2801, "html", 4);
STRING_LITERAL(TMP2802, "latex", 5);
STRING_LITERAL(TMP2803, "default-language", 16);
STRING_LITERAL(TMP2804, "Nim", 3);
STRING_LITERAL(TMP2805, " _", 2);
STRING_LITERAL(TMP2806, " |", 2);
STRING_LITERAL(TMP2807, "replace", 7);
STRING_LITERAL(TMP2808, " [", 2);
STRING_LITERAL(TMP2809, "]", 1);
NIM_CONST TY372890 wildcards_372888 = {((NimStringDesc*) &TMP2693),
((NimStringDesc*) &TMP2699),
((NimStringDesc*) &TMP2700)}
;
NIM_CONST TY372895 wildpos_372893 = {((NI) 1),
((NI) 0),
((NI) 0)}
;
extern TNimType NTI3608; /* RootObj */
TNimType NTI368482; /* RstParser */
extern TNimType NTI104; /* int */
TNimType NTI368108; /* Token */
TNimType NTI368106; /* TokType */
extern TNimType NTI138; /* string */
TNimType NTI368110; /* TokenSeq */
TNimType NTI368478; /* SharedState */
TNimType NTI368004; /* RstParseOption */
TNimType NTI368006; /* RstParseOptions */
TNimType NTI368476; /* Substitution */
extern TNimType NTI367008; /* PRstNode */
TNimType NTI368492; /* seq[Substitution] */
extern TNimType NTI109518; /* SkipTable */
TNimType NTI368012; /* MsgHandler */
TNimType NTI368014; /* FindFileHandler */
TNimType NTI368480; /* PSharedState */
TNimType NTI368503; /* seq[int] */
extern TNimType NTI130; /* bool */
extern Gcheap49818 gch_49855;
TNimType NTI368010; /* MsgKind */
TNimType NTI368008; /* MsgClass */
extern TNimType NTI3646; /* ValueError */
TNimType NTI368484; /* EParseError */
TNimType NTI368633; /* ref EParseError */
TNimType NTI368112; /* Lexer */
extern TNimType NTI140; /* cstring */
extern TNimType NTI135002; /* seq[string] */

N_NIMCALL(void, rstnodetorefnameaux_368923)(Rstnode367012* n, NimStringDesc** r, NIM_BOOL* b) {
	{
		if (!((*n).kind == ((NU8) 64))) goto LA3;
		{
			NI i_368950;
			NI HEX3Atmp_368992;
			NI res_368995;
			i_368950 = 0;
			HEX3Atmp_368992 = 0;
			HEX3Atmp_368992 = (NI)(((*n).text ? (*n).text->Sup.len : 0) - ((NI) 1));
			res_368995 = ((NI) 0);
			{
				while (1) {
					if (!(res_368995 <= HEX3Atmp_368992)) goto LA7;
					i_368950 = res_368995;
					switch (((NU8)((*n).text->data[i_368950]))) {
					case 48 ... 57:
					{
						{
							if (!(*b)) goto LA11;
							(*r) = addChar((*r), 45);
							(*b) = NIM_FALSE;
						}
						LA11: ;
						{
							if (!(((*r) ? (*r)->Sup.len : 0) == ((NI) 0))) goto LA15;
							(*r) = addChar((*r), 90);
						}
						LA15: ;
						(*r) = addChar((*r), (*n).text->data[i_368950]);
					}
					break;
					case 97 ... 122:
					{
						{
							if (!(*b)) goto LA20;
							(*r) = addChar((*r), 45);
							(*b) = NIM_FALSE;
						}
						LA20: ;
						(*r) = addChar((*r), (*n).text->data[i_368950]);
					}
					break;
					case 65 ... 90:
					{
						{
							if (!(*b)) goto LA25;
							(*r) = addChar((*r), 45);
							(*b) = NIM_FALSE;
						}
						LA25: ;
						(*r) = addChar((*r), ((NIM_CHAR) (((NI) ((NI)(((NI) ((NI)(((NI) (((NU8)((*n).text->data[i_368950])))) - ((NI) 65)))) + ((NI) 97)))))));
					}
					break;
					default:
					{
						{
							if (!(((NI) 0) < ((*r) ? (*r)->Sup.len : 0))) goto LA30;
							(*b) = NIM_TRUE;
						}
						LA30: ;
					}
					break;
					}
					res_368995 += ((NI) 1);
				} LA7: ;
			}
		}
	}
	goto LA1;
	LA3: ;
	{
		{
			NI i_368990;
			NI HEX3Atmp_369000;
			NI LOC34;
			NI res_369003;
			i_368990 = 0;
			HEX3Atmp_369000 = 0;
			LOC34 = 0;
			LOC34 = len_367085(n);
			HEX3Atmp_369000 = (NI)(LOC34 - ((NI) 1));
			res_369003 = ((NI) 0);
			{
				while (1) {
					if (!(res_369003 <= HEX3Atmp_369000)) goto LA36;
					i_368990 = res_369003;
					rstnodetorefnameaux_368923((*n).sons->data[i_368990], r, b);
					res_369003 += ((NI) 1);
				} LA36: ;
			}
		}
	}
	LA1: ;
}

N_NIMCALL(NimStringDesc*, rstnodetorefname_368049)(Rstnode367012* n) {
	NimStringDesc* result;
	NIM_BOOL b;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP2287));
	b = NIM_FALSE;
	rstnodetorefnameaux_368923(n, (&result), (&b));
	return result;
}

static N_INLINE(void, copymem_7478)(void* dest, void* source, NI size) {
	void* LOC1;
	LOC1 = 0;
	LOC1 = memcpy(dest, source, ((size_t) (size)));
}

static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	copymem_7478(((void*) ((&(*dest).data[((*dest).Sup.len)- 0]))), ((void*) ((*src).data)), ((NI) ((NI)((*src).Sup.len + ((NI) 1)))));
	(*dest).Sup.len += (*src).Sup.len;
}

N_NIMCALL(void, addnodesaux_368884)(Rstnode367012* n, NimStringDesc** result) {
	{
		if (!((*n).kind == ((NU8) 64))) goto LA3;
		(*result) = resizeString((*result), (*n).text->Sup.len + 0);
appendString((*result), (*n).text);
	}
	goto LA1;
	LA3: ;
	{
		{
			NI i_368909;
			NI HEX3Atmp_368911;
			NI LOC7;
			NI res_368914;
			i_368909 = 0;
			HEX3Atmp_368911 = 0;
			LOC7 = 0;
			LOC7 = len_367085(n);
			HEX3Atmp_368911 = (NI)(LOC7 - ((NI) 1));
			res_368914 = ((NI) 0);
			{
				while (1) {
					if (!(res_368914 <= HEX3Atmp_368911)) goto LA9;
					i_368909 = res_368914;
					addnodesaux_368884((*n).sons->data[i_368909], result);
					res_368914 += ((NI) 1);
				} LA9: ;
			}
		}
	}
	LA1: ;
}

N_NIMCALL(NimStringDesc*, addnodes_368052)(Rstnode367012* n) {
	NimStringDesc* result;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP2287));
	addnodesaux_368884(n, (&result));
	return result;
}

N_NIMCALL(NimStringDesc*, getargument_368059)(Rstnode367012* n) {
	NimStringDesc* result;
	result = 0;
	{
		if (!((*n).sons->data[((NI) 0)] == NIM_NIL)) goto LA3;
		result = copyString(((NimStringDesc*) &TMP2287));
	}
	goto LA1;
	LA3: ;
	{
		result = addnodes_368052((*n).sons->data[((NI) 0)]);
	}
	LA1: ;
	return result;
}

N_NIMCALL(NimStringDesc*, getfieldvalue_368055)(Rstnode367012* n, NimStringDesc* fieldname) {
	NimStringDesc* result;
{	result = 0;
	result = copyString(((NimStringDesc*) &TMP2287));
	{
		if (!((*n).sons->data[((NI) 1)] == NIM_NIL)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	{
		if (!!(((*(*n).sons->data[((NI) 1)]).kind == ((NU8) 13)))) goto LA7;
		goto BeforeRet;
	}
	LA7: ;
	{
		NI i_371438;
		NI HEX3Atmp_371441;
		NI LOC10;
		NI res_371444;
		i_371438 = 0;
		HEX3Atmp_371441 = 0;
		LOC10 = 0;
		LOC10 = len_367085((*n).sons->data[((NI) 1)]);
		HEX3Atmp_371441 = (NI)(LOC10 - ((NI) 1));
		res_371444 = ((NI) 0);
		{
			while (1) {
				Rstnode367012* f;
				if (!(res_371444 <= HEX3Atmp_371441)) goto LA12;
				i_371438 = res_371444;
				f = (*(*n).sons->data[((NI) 1)]).sons->data[i_371438];
				{
					NimStringDesc* LOC15;
					NI LOC16;
					LOC15 = 0;
					LOC15 = addnodes_368052((*f).sons->data[((NI) 0)]);
					LOC16 = 0;
					LOC16 = nsuCmpIgnoreStyle(LOC15, fieldname);
					if (!(LOC16 == ((NI) 0))) goto LA17;
					result = addnodes_368052((*f).sons->data[((NI) 1)]);
					{
						if (!((result) && (result)->Sup.len == 0)) goto LA21;
						result = copyString(((NimStringDesc*) &TMP2377));
					}
					LA21: ;
					goto BeforeRet;
				}
				LA17: ;
				res_371444 += ((NI) 1);
			} LA12: ;
		}
	}
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NimStringDesc*, getfieldvalue_370772)(Rstnode367012* n) {
	NimStringDesc* result;
	NimStringDesc* LOC1;
	result = 0;
	LOC1 = 0;
	LOC1 = addnodes_368052((*n).sons->data[((NI) 1)]);
	result = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE, TMP2400);
	return result;
}
N_NIMCALL(void, TMP2641)(void* p, NI op) {
	Tokenseq368110* a;
	NI LOC1;
	a = (Tokenseq368110*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].symbol, op);
	}
}
N_NIMCALL(void, TMP2653)(void* p, NI op) {
	TY368492* a;
	NI LOC1;
	a = (TY368492*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].key, op);
	nimGCvisit((void*)a->data[LOC1].value, op);
	}
}
N_NIMCALL(void, TMP2654)(void* p, NI op) {
	Sharedstate368478* a;
	NI LOC1;
	NI LOC2;
	a = (Sharedstate368478*)p;
	nimGCvisit((void*)(*a).subs, op);
	nimGCvisit((void*)(*a).refs, op);
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < 256; LOC1++) {
	}
	LOC2 = 0;
	for (LOC2 = 0; LOC2 < 256; LOC2++) {
	}
}
N_NIMCALL(void, TMP2655)(void* p, NI op) {
	TY368503* a;
	NI LOC1;
	a = (TY368503*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	}
}

N_NIMCALL(void, initparser_368850)(Rstparser368482* p, Sharedstate368478* sharedstate) {
	genericSeqAssign((&(*p).indentstack), TMP2656, (&NTI368503));
	unsureAsgnRef((void**) (&(*p).tok), (Tokenseq368110*) newSeq((&NTI368110), 0));
	(*p).idx = ((NI) 0);
	unsureAsgnRef((void**) (&(*p).filename), copyString(((NimStringDesc*) &TMP2287)));
	(*p).hastoc = NIM_FALSE;
	(*p).col = ((NI) 0);
	(*p).line = ((NI) 1);
	unsureAsgnRef((void**) (&(*p).s), sharedstate);
}

static N_INLINE(Cell47305*, usrtocell_51440)(void* usr) {
	Cell47305* result;
	result = 0;
	result = ((Cell47305*) ((NI)((NU64)(((NI) (usr))) - (NU64)(((NI)sizeof(Cell47305))))));
	return result;
}

static N_INLINE(void, rtladdzct_52601)(Cell47305* c) {
	addzct_51417((&gch_49855.zct), c);
}

static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	Cell47305* c;
	c = usrtocell_51440(p);
	{
		(*c).refcount -= ((NI) 8);
		if (!((NU64)((*c).refcount) < (NU64)(((NI) 8)))) goto LA3;
		rtladdzct_52601(c);
	}
	LA3: ;
}

N_NIMCALL(NU8, whichmsgclass_368516)(NU8 k) {
	NU8 result;
	result = 0;
	switch (((NU8)(reprEnum(k, (&NTI368010))->data[((NI) 1)]))) {
	case 101:
	case 69:
	{
		result = ((NU8) 2);
	}
	break;
	case 119:
	case 87:
	{
		result = ((NU8) 1);
	}
	break;
	case 104:
	case 72:
	{
		result = ((NU8) 0);
	}
	break;
	default:
	{
	}
	break;
	}
	return result;
}
N_NIMCALL(void, TMP2675)(void* p, NI op) {
	Eparseerror368484* a;
	a = (Eparseerror368484*)p;
	nimGCvisit((void*)(*a).Sup.Sup.parent, op);
	nimGCvisit((void*)(*a).Sup.Sup.message, op);
	nimGCvisit((void*)(*a).Sup.Sup.trace, op);
}

static N_INLINE(void, writeline_171405)(FILE* f, NimStringDesc** x, NI xLen0) {
	{
		NimStringDesc* i_171420;
		NI i_171428;
		i_171420 = 0;
		i_171428 = ((NI) 0);
		{
			while (1) {
				if (!(i_171428 < xLen0)) goto LA3;
				i_171420 = x[i_171428];
				write_14891(f, i_171420);
				i_171428 += ((NI) 1);
			} LA3: ;
		}
	}
	write_14891(f, ((NimStringDesc*) &TMP2676));
}

N_NIMCALL(void, defaultmsghandler_368601)(NimStringDesc* filename, NI line, NI col, NU8 msgkind, NimStringDesc* arg) {
	NU8 mc;
	NimStringDesc* a;
	NimStringDesc* message;
	TY368610 LOC1;
	mc = whichmsgclass_368516(msgkind);
	a = nsuFormatSingleElem(messages_368043[(msgkind)- 0], arg);
	memset((void*)LOC1, 0, sizeof(LOC1));
	LOC1[0] = copyString(filename);
	LOC1[1] = nimIntToStr(line);
	LOC1[2] = nimIntToStr(col);
	LOC1[3] = copyString(reprEnum(mc, (&NTI368008)));
	LOC1[4] = copyString(a);
	message = nsuFormatOpenArray(((NimStringDesc*) &TMP2671), LOC1, 5);
	{
		Eparseerror368484* e_368632;
		NimStringDesc* LOC6;
		if (!(mc == ((NU8) 2))) goto LA4;
		e_368632 = 0;
		e_368632 = (Eparseerror368484*) newObj((&NTI368633), sizeof(Eparseerror368484));
		(*e_368632).Sup.Sup.Sup.m_type = (&NTI368484);
		LOC6 = 0;
		LOC6 = (*e_368632).Sup.Sup.message; (*e_368632).Sup.Sup.message = copyStringRC1(message);
		if (LOC6) nimGCunrefNoCycle(LOC6);
		raiseException((Exception*)e_368632, "EParseError");
	}
	goto LA2;
	LA4: ;
	{
		TY193732 LOC8;
		memset((void*)LOC8, 0, sizeof(LOC8));
		LOC8[0] = copyString(message);
		writeline_171405(stdout, LOC8, 1);
	}
	LA2: ;
}

N_NIMCALL(NimStringDesc*, defaultfindfile_368655)(NimStringDesc* filename) {
	NimStringDesc* result;
	result = 0;
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = nosexistsFile(filename);
		if (!LOC3) goto LA4;
		result = copyString(filename);
	}
	goto LA1;
	LA4: ;
	{
		result = copyString(((NimStringDesc*) &TMP2287));
	}
	LA1: ;
	return result;
}

N_NIMCALL(Sharedstate368478*, newsharedstate_368659)(NU8 options, Findfilehandler368014 findfile, Msghandler368012 msghandler) {
	Sharedstate368478* result;
	result = 0;
	result = (Sharedstate368478*) newObj((&NTI368480), sizeof(Sharedstate368478));
	if ((*result).subs) nimGCunrefNoCycle((*result).subs);
	(*result).subs = (TY368492*) newSeqRC1((&NTI368492), 0);
	if ((*result).refs) nimGCunrefNoCycle((*result).refs);
	(*result).refs = (TY368492*) newSeqRC1((&NTI368492), 0);
	(*result).options = options;
	{
		if (!!(msghandler == 0)) goto LA3;
		(*result).msghandler = msghandler;
	}
	goto LA1;
	LA3: ;
	{
		(*result).msghandler = defaultmsghandler_368601;
	}
	LA1: ;
	{
		if (!!(findfile == 0)) goto LA8;
		(*result).findfile = findfile;
	}
	goto LA6;
	LA8: ;
	{
		(*result).findfile = defaultfindfile_368655;
	}
	LA6: ;
	return result;
}

N_NIMCALL(void, getthing_368135)(Lexer368112* L, Token368108* tok, TY283404 s) {
	NI pos;
	(*tok).kind = ((NU8) 3);
	(*tok).line = (*L).line;
	(*tok).col = (*L).col;
	pos = (*L).bufpos;
	{
		while (1) {
			(*tok).symbol = addChar((*tok).symbol, (*L).buf[pos]);
			pos += ((NI) 1);
			{
				if (!!(((s[(NU)(((NU8)((*L).buf[pos])))>>3] &(1U<<((NU)(((NU8)((*L).buf[pos])))&7U)))!=0))) goto LA5;
				goto LA1;
			}
			LA5: ;
		}
	} LA1: ;
	(*L).col += (NI)(pos - (*L).bufpos);
	(*L).bufpos = pos;
}

N_NIMCALL(NI, getindentaux_368200)(Lexer368112* L, NI start) {
	NI result;
	NI pos;
	NCSTRING buf;
	result = 0;
	pos = start;
	buf = (*L).buf;
	{
		if (!((NU8)(buf[pos]) == (NU8)(13))) goto LA3;
		{
			if (!((NU8)(buf[(NI)(pos + ((NI) 1))]) == (NU8)(10))) goto LA7;
			pos += ((NI) 2);
		}
		goto LA5;
		LA7: ;
		{
			pos += ((NI) 1);
		}
		LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		if (!((NU8)(buf[pos]) == (NU8)(10))) goto LA11;
		pos += ((NI) 1);
	}
	goto LA1;
	LA11: ;
	LA1: ;
	{
		if (!(*L).skippounds) goto LA15;
		{
			if (!((NU8)(buf[pos]) == (NU8)(35))) goto LA19;
			pos += ((NI) 1);
		}
		LA19: ;
		{
			if (!((NU8)(buf[pos]) == (NU8)(35))) goto LA23;
			pos += ((NI) 1);
		}
		LA23: ;
	}
	LA15: ;
	{
		while (1) {
			switch (((NU8)(buf[pos]))) {
			case 32:
			case 11:
			case 12:
			{
				pos += ((NI) 1);
				result += ((NI) 1);
			}
			break;
			case 9:
			{
				pos += ((NI) 1);
				result = (NI)((NI)(result - ((NI) ((NI)(result % ((NI) 8))))) + ((NI) 8));
			}
			break;
			default:
			{
				goto LA25;
			}
			break;
			}
		}
	} LA25: ;
	{
		if (!((NU8)(buf[pos]) == (NU8)(0))) goto LA32;
		result = ((NI) 0);
	}
	goto LA30;
	LA32: ;
	{
		NIM_BOOL LOC35;
		LOC35 = 0;
		LOC35 = ((NU8)(buf[pos]) == (NU8)(10));
		if (LOC35) goto LA36;
		LOC35 = ((NU8)(buf[pos]) == (NU8)(13));
		LA36: ;
		if (!LOC35) goto LA37;
		result = getindentaux_368200(L, pos);
	}
	goto LA30;
	LA37: ;
	LA30: ;
	(*L).bufpos = pos;
	return result;
}

N_NIMCALL(void, getindent_368282)(Lexer368112* L, Token368108* tok) {
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	(*tok).col = ((NI) 0);
	(*tok).kind = ((NU8) 1);
	(*tok).ival = getindentaux_368200(L, (*L).bufpos);
	(*L).line += ((NI) 1);
	(*tok).line = (*L).line;
	(*L).col = (*tok).ival;
	(*tok).ival = (((NI)((*tok).ival - (*L).baseindent) >= ((NI) 0)) ? (NI)((*tok).ival - (*L).baseindent) : ((NI) 0));
	LOC1 = 0;
	LOC2 = 0;
	LOC2 = nsuRepeatChar(32, ((NI) ((*tok).ival)));
	LOC1 = rawNewString(LOC2->Sup.len + 1);
appendString(LOC1, ((NimStringDesc*) &TMP2676));
appendString(LOC1, LOC2);
	unsureAsgnRef((void**) (&(*tok).symbol), LOC1);
}

N_NIMCALL(void, getadornment_368173)(Lexer368112* L, Token368108* tok) {
	NI pos;
	NIM_CHAR c;
	(*tok).kind = ((NU8) 4);
	(*tok).line = (*L).line;
	(*tok).col = (*L).col;
	pos = (*L).bufpos;
	c = (*L).buf[pos];
	{
		while (1) {
			(*tok).symbol = addChar((*tok).symbol, (*L).buf[pos]);
			pos += ((NI) 1);
			{
				if (!!(((NU8)((*L).buf[pos]) == (NU8)(c)))) goto LA5;
				goto LA1;
			}
			LA5: ;
		}
	} LA1: ;
	(*L).col += (NI)(pos - (*L).bufpos);
	(*L).bufpos = pos;
}

N_NIMCALL(void, rawgettok_368301)(Lexer368112* L, Token368108* tok) {
	NIM_CHAR c;
	unsureAsgnRef((void**) (&(*tok).symbol), copyString(((NimStringDesc*) &TMP2287)));
	(*tok).ival = ((NI) 0);
	c = (*L).buf[(*L).bufpos];
	switch (((NU8)(c))) {
	case 97 ... 122:
	case 65 ... 90:
	case 128 ... 255:
	case 48 ... 57:
	{
		getthing_368135(L, tok, TMP2678);
	}
	break;
	case 32:
	case 9:
	case 11:
	case 12:
	{
		getthing_368135(L, tok, TMP2679);
		(*tok).kind = ((NU8) 2);
		{
			if (!(((NU8)((*L).buf[(*L).bufpos])) == ((NU8)(13)) || ((NU8)((*L).buf[(*L).bufpos])) == ((NU8)(10)))) goto LA5;
			rawgettok_368301(L, tok);
		}
		LA5: ;
	}
	break;
	case 13:
	case 10:
	{
		getindent_368282(L, tok);
	}
	break;
	case 33:
	case 34:
	case 35:
	case 36:
	case 37:
	case 38:
	case 39:
	case 40:
	case 41:
	case 42:
	case 43:
	case 44:
	case 45:
	case 46:
	case 47:
	case 58:
	case 59:
	case 60:
	case 61:
	case 62:
	case 63:
	case 64:
	case 91:
	case 92:
	case 93:
	case 94:
	case 95:
	case 96:
	case 123:
	case 124:
	case 125:
	case 126:
	{
		getadornment_368173(L, tok);
		{
			if (!(((*tok).symbol ? (*tok).symbol->Sup.len : 0) <= ((NI) 3))) goto LA11;
			(*tok).kind = ((NU8) 5);
		}
		LA11: ;
	}
	break;
	default:
	{
		(*tok).line = (*L).line;
		(*tok).col = (*L).col;
		{
			if (!((NU8)(c) == (NU8)(0))) goto LA16;
			(*tok).kind = ((NU8) 0);
		}
		goto LA14;
		LA16: ;
		{
			(*tok).kind = ((NU8) 6);
			(*tok).symbol = addChar((*tok).symbol, c);
			(*L).bufpos += ((NI) 1);
			(*L).col += ((NI) 1);
		}
		LA14: ;
	}
	break;
	}
	(*tok).col = (((NI)((*tok).col - (*L).baseindent) >= ((NI) 0)) ? (NI)((*tok).col - (*L).baseindent) : ((NI) 0));
}

N_NIMCALL(NI, gettokens_368342)(NimStringDesc* buffer, NIM_BOOL skippounds, Tokenseq368110** tokens) {
	NI result;
	Lexer368112 L;
	NI length;
	result = 0;
	memset((void*)(&L), 0, sizeof(L));
	L.Sup.m_type = (&NTI368112);
	length = ((*tokens) ? (*tokens)->Sup.len : 0);
	L.buf = buffer->data;
	L.line = ((NI) 0);
	{
		NIM_BOOL LOC3;
		NIM_BOOL LOC4;
		LOC3 = 0;
		LOC4 = 0;
		LOC4 = ((NU8)(L.buf[((NI) 0)]) == (NU8)(239));
		if (!(LOC4)) goto LA5;
		LOC4 = ((NU8)(L.buf[((NI) 1)]) == (NU8)(187));
		LA5: ;
		LOC3 = LOC4;
		if (!(LOC3)) goto LA6;
		LOC3 = ((NU8)(L.buf[((NI) 2)]) == (NU8)(191));
		LA6: ;
		if (!LOC3) goto LA7;
		L.bufpos += ((NI) 3);
	}
	LA7: ;
	L.skippounds = skippounds;
	{
		if (!skippounds) goto LA11;
		{
			if (!((NU8)(L.buf[L.bufpos]) == (NU8)(35))) goto LA15;
			L.bufpos += ((NI) 1);
			result += ((NI) 1);
		}
		LA15: ;
		{
			if (!((NU8)(L.buf[L.bufpos]) == (NU8)(35))) goto LA19;
			L.bufpos += ((NI) 1);
			result += ((NI) 1);
		}
		LA19: ;
		L.baseindent = ((NI) 0);
		{
			while (1) {
				if (!((NU8)(L.buf[L.bufpos]) == (NU8)(32))) goto LA22;
				L.bufpos += ((NI) 1);
				L.baseindent += ((NI) 1);
				result += ((NI) 1);
			} LA22: ;
		}
	}
	LA11: ;
	{
		while (1) {
			length += ((NI) 1);
			(*tokens) = (Tokenseq368110*) setLengthSeq(&((*tokens))->Sup, sizeof(Token368108), ((NI) (length)));
			rawgettok_368301((&L), (&(*tokens)->data[(NI)(length - ((NI) 1))]));
			{
				if (!((*tokens)->data[(NI)(length - ((NI) 1))].kind == ((NU8) 0))) goto LA27;
				goto LA23;
			}
			LA27: ;
		}
	} LA23: ;
	{
		if (!((*tokens)->data[((NI) 0)].kind == ((NU8) 2))) goto LA31;
		(*tokens)->data[((NI) 0)].ival = ((*tokens)->data[((NI) 0)].symbol ? (*tokens)->data[((NI) 0)].symbol->Sup.len : 0);
		(*tokens)->data[((NI) 0)].kind = ((NU8) 1);
	}
	LA31: ;
	return result;
}

static N_INLINE(NIM_BOOL, equalmem_7488)(void* a, void* b, NI size) {
	NIM_BOOL result;
	int LOC1;
	result = 0;
	LOC1 = 0;
	LOC1 = memcmp(a, b, ((size_t) (size)));
	result = (LOC1 == ((NI32) 0));
	return result;
}

static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b) {
	NIM_BOOL result;
	NIM_BOOL LOC11;
{	result = 0;
	{
		if (!(a == b)) goto LA3;
		result = NIM_TRUE;
		goto BeforeRet;
	}
	LA3: ;
	{
		NIM_BOOL LOC7;
		LOC7 = 0;
		LOC7 = (a == NIM_NIL);
		if (LOC7) goto LA8;
		LOC7 = (b == NIM_NIL);
		LA8: ;
		if (!LOC7) goto LA9;
		result = NIM_FALSE;
		goto BeforeRet;
	}
	LA9: ;
	LOC11 = 0;
	LOC11 = ((*a).Sup.len == (*b).Sup.len);
	if (!(LOC11)) goto LA12;
	LOC11 = equalmem_7488(((void*) ((*a).data)), ((void*) ((*b).data)), ((NI) ((*a).Sup.len)));
	LA12: ;
	result = LOC11;
	goto BeforeRet;
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NI, findsub_369014)(Rstparser368482* p, Rstnode367012* n) {
	NI result;
	NimStringDesc* key;
{	result = 0;
	key = addnodes_368052(n);
	{
		NI i_369032;
		NI HEX3Atmp_369046;
		NI res_369049;
		i_369032 = 0;
		HEX3Atmp_369046 = 0;
		HEX3Atmp_369046 = ((*(*p).s).subs ? ((*(*p).s).subs->Sup.len-1) : -1);
		res_369049 = ((NI) 0);
		{
			while (1) {
				if (!(res_369049 <= HEX3Atmp_369046)) goto LA3;
				i_369032 = res_369049;
				{
					if (!eqStrings(key, (*(*p).s).subs->data[i_369032].key)) goto LA6;
					result = i_369032;
					goto BeforeRet;
				}
				LA6: ;
				res_369049 += ((NI) 1);
			} LA3: ;
		}
	}
	{
		NI i_369044;
		NI HEX3Atmp_369054;
		NI res_369057;
		i_369044 = 0;
		HEX3Atmp_369054 = 0;
		HEX3Atmp_369054 = ((*(*p).s).subs ? ((*(*p).s).subs->Sup.len-1) : -1);
		res_369057 = ((NI) 0);
		{
			while (1) {
				if (!(res_369057 <= HEX3Atmp_369054)) goto LA10;
				i_369044 = res_369057;
				{
					NI LOC13;
					LOC13 = 0;
					LOC13 = nsuCmpIgnoreStyle(key, (*(*p).s).subs->data[i_369044].key);
					if (!(LOC13 == ((NI) 0))) goto LA14;
					result = i_369044;
					goto BeforeRet;
				}
				LA14: ;
				res_369057 += ((NI) 1);
			} LA10: ;
		}
	}
	result = ((NI) -1);
	}BeforeRet: ;
	return result;
}

N_NIMCALL(void, rstmessage_368724)(Rstparser368482* p, NU8 msgkind, NimStringDesc* arg) {
	(*(*p).s).msghandler((*p).filename, (NI)((*p).line + (*p).tok->data[(*p).idx].line), (NI)((*p).col + (*p).tok->data[(*p).idx].col), msgkind, arg);
}

N_NIMCALL(Rstnode367012*, findref_369151)(Rstparser368482* p, NimStringDesc* key) {
	Rstnode367012* result;
{	result = 0;
	{
		NI i_369168;
		NI HEX3Atmp_369170;
		NI res_369173;
		i_369168 = 0;
		HEX3Atmp_369170 = 0;
		HEX3Atmp_369170 = ((*(*p).s).refs ? ((*(*p).s).refs->Sup.len-1) : -1);
		res_369173 = ((NI) 0);
		{
			while (1) {
				if (!(res_369173 <= HEX3Atmp_369170)) goto LA3;
				i_369168 = res_369173;
				{
					if (!eqStrings(key, (*(*p).s).refs->data[i_369168].key)) goto LA6;
					result = (*(*p).s).refs->data[i_369168].value;
					goto BeforeRet;
				}
				LA6: ;
				res_369173 += ((NI) 1);
			} LA3: ;
		}
	}
	}BeforeRet: ;
	return result;
}

static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src) {
	{
		Cell47305* c;
		if (!!((src == NIM_NIL))) goto LA3;
		c = usrtocell_51440(src);
		(*c).refcount += ((NI) 8);
	}
	LA3: ;
	{
		Cell47305* c;
		if (!!(((*dest) == NIM_NIL))) goto LA7;
		c = usrtocell_51440((*dest));
		{
			(*c).refcount -= ((NI) 8);
			if (!((NU64)((*c).refcount) < (NU64)(((NI) 8)))) goto LA11;
			rtladdzct_52601(c);
		}
		LA11: ;
	}
	LA7: ;
	(*dest) = src;
}

N_NIMCALL(Rstnode367012*, resolvesubs_374196)(Rstparser368482* p, Rstnode367012* n) {
	Rstnode367012* result;
{	result = 0;
	result = n;
	{
		if (!(n == NIM_NIL)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	switch ((*n).kind) {
	case ((NU8) 62):
	{
		NI x;
		x = findsub_369014(p, n);
		{
			if (!(((NI) 0) <= x)) goto LA8;
			result = (*(*p).s).subs->data[x].value;
		}
		goto LA6;
		LA8: ;
		{
			NimStringDesc* key;
			NimStringDesc* e;
			key = addnodes_368052(n);
			e = getenv_135625(key);
			{
				if (!!(((e) && (e)->Sup.len == 0))) goto LA13;
				result = newrstnode_367125(((NU8) 64), e);
			}
			goto LA11;
			LA13: ;
			{
				rstmessage_368724((&(*p)), ((NU8) 7), key);
			}
			LA11: ;
		}
		LA6: ;
	}
	break;
	case ((NU8) 39):
	{
		Rstnode367012* y;
		NimStringDesc* LOC17;
		LOC17 = 0;
		LOC17 = rstnodetorefname_368049(n);
		y = findref_369151(p, LOC17);
		{
			if (!!((y == NIM_NIL))) goto LA20;
			result = newrstnode_367097(((NU8) 38));
			(*n).kind = ((NU8) 0);
			add_367142(result, n);
			add_367142(result, y);
		}
		LA20: ;
	}
	break;
	case ((NU8) 64):
	{
	}
	break;
	case ((NU8) 44):
	{
		(*p).hastoc = NIM_TRUE;
	}
	break;
	default:
	{
		{
			NI i_374241;
			NI HEX3Atmp_374243;
			NI LOC26;
			NI res_374246;
			i_374241 = 0;
			HEX3Atmp_374243 = 0;
			LOC26 = 0;
			LOC26 = len_367085(n);
			HEX3Atmp_374243 = (NI)(LOC26 - ((NI) 1));
			res_374246 = ((NI) 0);
			{
				while (1) {
					if (!(res_374246 <= HEX3Atmp_374243)) goto LA28;
					i_374241 = res_374246;
					asgnRefNoCycle((void**) (&(*n).sons->data[i_374241]), resolvesubs_374196(p, (*n).sons->data[i_374241]));
					res_374246 += ((NI) 1);
				} LA28: ;
			}
		}
	}
	break;
	}
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NI, currind_368801)(Rstparser368482* p) {
	NI result;
	result = 0;
	result = (*p).indentstack->data[((*p).indentstack ? ((*p).indentstack->Sup.len-1) : -1)];
	return result;
}

N_NIMCALL(void, pushind_368805)(Rstparser368482* p, NI ind) {
	(*p).indentstack = (TY368503*) incrSeqV2(&((*p).indentstack)->Sup, sizeof(NI));
	(*p).indentstack->data[(*p).indentstack->Sup.len] = ind;
	++(*p).indentstack->Sup.len;
}

N_NIMCALL(void, popind_368820)(Rstparser368482* p) {
	{
		if (!(((NI) 1) < ((*p).indentstack ? (*p).indentstack->Sup.len : 0))) goto LA3;
		(*p).indentstack = (TY368503*) setLengthSeq(&((*p).indentstack)->Sup, sizeof(NI), ((NI) ((NI)(((*p).indentstack ? (*p).indentstack->Sup.len : 0) - ((NI) 1)))));
	}
	LA3: ;
}

N_NIMCALL(NIM_BOOL, match_369327)(Rstparser368482* p, NI start, NimStringDesc* expr) {
	NIM_BOOL result;
	NI i;
	NI j;
	NI last;
{	result = 0;
	i = ((NI) 0);
	j = start;
	last = (NI)((expr ? expr->Sup.len : 0) - ((NI) 1));
	{
		while (1) {
			if (!(i <= last)) goto LA2;
			switch (((NU8)(expr->data[i]))) {
			case 119:
			{
				result = ((*p).tok->data[j].kind == ((NU8) 3));
			}
			break;
			case 32:
			{
				result = ((*p).tok->data[j].kind == ((NU8) 2));
			}
			break;
			case 105:
			{
				result = ((*p).tok->data[j].kind == ((NU8) 1));
			}
			break;
			case 112:
			{
				result = ((*p).tok->data[j].kind == ((NU8) 5));
			}
			break;
			case 97:
			{
				result = ((*p).tok->data[j].kind == ((NU8) 4));
			}
			break;
			case 111:
			{
				result = ((*p).tok->data[j].kind == ((NU8) 6));
			}
			break;
			case 84:
			{
				result = NIM_TRUE;
			}
			break;
			case 69:
			{
				result = ((7 &(1U<<((NU)((*p).tok->data[j].kind)&7U)))!=0);
			}
			break;
			case 101:
			{
				NIM_BOOL LOC12;
				LOC12 = 0;
				LOC12 = ((*p).tok->data[j].kind == ((NU8) 3));
				if (LOC12) goto LA13;
				LOC12 = eqStrings((*p).tok->data[j].symbol, ((NimStringDesc*) &TMP2680));
				LA13: ;
				result = LOC12;
				{
					if (!result) goto LA16;
					switch (((NU8)((*p).tok->data[j].symbol->data[((NI) 0)]))) {
					case 97 ... 122:
					case 65 ... 90:
					{
						result = (((*p).tok->data[j].symbol ? (*p).tok->data[j].symbol->Sup.len : 0) == ((NI) 1));
					}
					break;
					case 48 ... 57:
					{
						result = allcharsinset_109382((*p).tok->data[j].symbol, TMP2681);
					}
					break;
					default:
					{
					}
					break;
					}
				}
				LA16: ;
			}
			break;
			default:
			{
				NIM_CHAR c;
				NI length;
				NIM_BOOL LOC26;
				NIM_BOOL LOC27;
				c = expr->data[i];
				length = ((NI) 0);
				{
					while (1) {
						NIM_BOOL LOC24;
						LOC24 = 0;
						LOC24 = (i <= last);
						if (!(LOC24)) goto LA25;
						LOC24 = ((NU8)(expr->data[i]) == (NU8)(c));
						LA25: ;
						if (!LOC24) goto LA23;
						i += ((NI) 1);
						length += ((NI) 1);
					} LA23: ;
				}
				i -= ((NI) 1);
				LOC26 = 0;
				LOC27 = 0;
				LOC27 = ((48 &(1U<<((NU)((*p).tok->data[j].kind)&7U)))!=0);
				if (!(LOC27)) goto LA28;
				LOC27 = (((*p).tok->data[j].symbol ? (*p).tok->data[j].symbol->Sup.len : 0) == length);
				LA28: ;
				LOC26 = LOC27;
				if (!(LOC26)) goto LA29;
				LOC26 = ((NU8)((*p).tok->data[j].symbol->data[((NI) 0)]) == (NU8)(c));
				LA29: ;
				result = LOC26;
			}
			break;
			}
			{
				if (!!(result)) goto LA32;
				goto BeforeRet;
			}
			LA32: ;
			j += ((NI) 1);
			i += ((NI) 1);
		} LA2: ;
	}
	result = NIM_TRUE;
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NI, tokenafternewline_371550)(Rstparser368482* p) {
	NI result;
	result = 0;
	result = (*p).idx;
	{
		while (1) {
			switch ((*p).tok->data[result].kind) {
			case ((NU8) 0):
			{
				goto LA1;
			}
			break;
			case ((NU8) 1):
			{
				result += ((NI) 1);
				goto LA1;
			}
			break;
			default:
			{
				result += ((NI) 1);
			}
			break;
			}
		}
	} LA1: ;
	return result;
}

N_NIMCALL(NIM_BOOL, prednl_371578)(Rstparser368482* p) {
	NIM_BOOL result;
	result = 0;
	result = NIM_TRUE;
	{
		NIM_BOOL LOC5;
		NI LOC7;
		if (!(((NI) 0) < (*p).idx)) goto LA3;
		LOC5 = 0;
		LOC5 = ((*p).tok->data[(NI)((*p).idx - ((NI) 1))].kind == ((NU8) 1));
		if (!(LOC5)) goto LA6;
		LOC7 = 0;
		LOC7 = currind_368801(p);
		LOC5 = ((*p).tok->data[(NI)((*p).idx - ((NI) 1))].ival == LOC7);
		LA6: ;
		result = LOC5;
	}
	LA3: ;
	return result;
}

N_NIMCALL(NIM_BOOL, islineblock_371573)(Rstparser368482* p) {
	NIM_BOOL result;
	NI j;
	NIM_BOOL LOC1;
	NIM_BOOL LOC2;
	result = 0;
	j = tokenafternewline_371550(p);
	LOC1 = 0;
	LOC2 = 0;
	LOC2 = ((*p).tok->data[(*p).idx].col == (*p).tok->data[j].col);
	if (!(LOC2)) goto LA3;
	LOC2 = eqStrings((*p).tok->data[j].symbol, ((NimStringDesc*) &TMP2690));
	LA3: ;
	LOC1 = LOC2;
	if (LOC1) goto LA4;
	LOC1 = ((*p).tok->data[(*p).idx].col < (*p).tok->data[j].col);
	LA4: ;
	result = LOC1;
	return result;
}

N_NIMCALL(void, rstmessage_368736)(Rstparser368482* p, NU8 msgkind) {
	(*(*p).s).msghandler((*p).filename, (NI)((*p).line + (*p).tok->data[(*p).idx].line), (NI)((*p).col + (*p).tok->data[(*p).idx].col), msgkind, (*p).tok->data[(*p).idx].symbol);
}

N_NIMCALL(NIM_BOOL, isdeflist_371591)(Rstparser368482* p) {
	NIM_BOOL result;
	NI j;
	NIM_BOOL LOC1;
	NIM_BOOL LOC2;
	result = 0;
	j = tokenafternewline_371550(p);
	LOC1 = 0;
	LOC2 = 0;
	LOC2 = ((*p).tok->data[(*p).idx].col < (*p).tok->data[j].col);
	if (!(LOC2)) goto LA3;
	LOC2 = ((104 &(1U<<((NU)((*p).tok->data[j].kind)&7U)))!=0);
	LA3: ;
	LOC1 = LOC2;
	if (!(LOC1)) goto LA4;
	LOC1 = !(eqStrings((*p).tok->data[(NI)(j - ((NI) 2))].symbol, ((NimStringDesc*) &TMP2686)));
	LA4: ;
	result = LOC1;
	return result;
}

N_NIMCALL(NIM_BOOL, isoptionlist_371607)(Rstparser368482* p) {
	NIM_BOOL result;
	NIM_BOOL LOC1;
	NIM_BOOL LOC2;
	NIM_BOOL LOC3;
	result = 0;
	LOC1 = 0;
	LOC2 = 0;
	LOC3 = 0;
	LOC3 = match_369327(p, (*p).idx, ((NimStringDesc*) &TMP2695));
	if (LOC3) goto LA4;
	LOC3 = match_369327(p, (*p).idx, ((NimStringDesc*) &TMP2696));
	LA4: ;
	LOC2 = LOC3;
	if (LOC2) goto LA5;
	LOC2 = match_369327(p, (*p).idx, ((NimStringDesc*) &TMP2697));
	LA5: ;
	LOC1 = LOC2;
	if (LOC1) goto LA6;
	LOC1 = match_369327(p, (*p).idx, ((NimStringDesc*) &TMP2698));
	LA6: ;
	result = LOC1;
	return result;
}

N_NIMCALL(NU8, whichsection_371611)(Rstparser368482* p) {
	NU8 result;
	result = 0;
	switch ((*p).tok->data[(*p).idx].kind) {
	case ((NU8) 4):
	{
		{
			NIM_BOOL LOC4;
			LOC4 = 0;
			LOC4 = match_369327(p, (NI)((*p).idx + ((NI) 1)), ((NimStringDesc*) &TMP2682));
			if (!LOC4) goto LA5;
			result = ((NU8) 3);
		}
		goto LA2;
		LA5: ;
		{
			NIM_BOOL LOC8;
			LOC8 = 0;
			LOC8 = match_369327(p, (NI)((*p).idx + ((NI) 1)), ((NimStringDesc*) &TMP2683));
			if (!LOC8) goto LA9;
			result = ((NU8) 29);
		}
		goto LA2;
		LA9: ;
		{
			NIM_BOOL LOC12;
			LOC12 = 0;
			LOC12 = match_369327(p, (NI)((*p).idx + ((NI) 1)), ((NimStringDesc*) &TMP2684));
			if (!LOC12) goto LA13;
			result = ((NU8) 2);
		}
		goto LA2;
		LA13: ;
		{
			result = ((NU8) 64);
		}
		LA2: ;
	}
	break;
	case ((NU8) 5):
	{
		{
			NI LOC19;
			NIM_BOOL LOC20;
			LOC19 = 0;
			LOC19 = tokenafternewline_371550(p);
			LOC20 = 0;
			LOC20 = match_369327(p, LOC19, ((NimStringDesc*) &TMP2685));
			if (!LOC20) goto LA21;
			result = ((NU8) 1);
		}
		goto LA17;
		LA21: ;
		{
			if (!eqStrings((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2686))) goto LA24;
			result = ((NU8) 24);
		}
		goto LA17;
		LA24: ;
		{
			NIM_BOOL LOC27;
			NIM_BOOL LOC28;
			NIM_BOOL LOC30;
			NIM_BOOL LOC31;
			LOC27 = 0;
			LOC28 = 0;
			LOC28 = prednl_371578(p);
			if (!(LOC28)) goto LA29;
			LOC30 = 0;
			LOC31 = 0;
			LOC31 = eqStrings((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2687));
			if (LOC31) goto LA32;
			LOC31 = eqStrings((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2688));
			LA32: ;
			LOC30 = LOC31;
			if (LOC30) goto LA33;
			LOC30 = eqStrings((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2689));
			LA33: ;
			LOC28 = LOC30;
			LA29: ;
			LOC27 = LOC28;
			if (!(LOC27)) goto LA34;
			LOC27 = ((*p).tok->data[(NI)((*p).idx + ((NI) 1))].kind == ((NU8) 2));
			LA34: ;
			if (!LOC27) goto LA35;
			result = ((NU8) 5);
		}
		goto LA17;
		LA35: ;
		{
			NIM_BOOL LOC38;
			LOC38 = 0;
			LOC38 = eqStrings((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2690));
			if (!(LOC38)) goto LA39;
			LOC38 = islineblock_371573(p);
			LA39: ;
			if (!LOC38) goto LA40;
			result = ((NU8) 26);
		}
		goto LA17;
		LA40: ;
		{
			NIM_BOOL LOC43;
			LOC43 = 0;
			LOC43 = eqStrings((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2691));
			if (!(LOC43)) goto LA44;
			LOC43 = prednl_371578(p);
			LA44: ;
			if (!LOC43) goto LA45;
			result = ((NU8) 40);
		}
		goto LA17;
		LA45: ;
		{
			NIM_BOOL LOC48;
			LOC48 = 0;
			LOC48 = match_369327(p, (*p).idx, ((NimStringDesc*) &TMP2692));
			if (!(LOC48)) goto LA49;
			LOC48 = prednl_371578(p);
			LA49: ;
			if (!LOC48) goto LA50;
			result = ((NU8) 13);
		}
		goto LA17;
		LA50: ;
		{
			NIM_BOOL LOC53;
			LOC53 = 0;
			LOC53 = match_369327(p, (*p).idx, ((NimStringDesc*) &TMP2693));
			if (!LOC53) goto LA54;
			result = ((NU8) 7);
		}
		goto LA17;
		LA54: ;
		{
			NIM_BOOL LOC57;
			LOC57 = 0;
			LOC57 = match_369327(p, (*p).idx, ((NimStringDesc*) &TMP2694));
			if (!LOC57) goto LA58;
			result = ((NU8) 30);
			rstmessage_368736(p, ((NU8) 2));
		}
		goto LA17;
		LA58: ;
		{
			NIM_BOOL LOC61;
			LOC61 = 0;
			LOC61 = isdeflist_371591(p);
			if (!LOC61) goto LA62;
			result = ((NU8) 9);
		}
		goto LA17;
		LA62: ;
		{
			NIM_BOOL LOC65;
			LOC65 = 0;
			LOC65 = isoptionlist_371607(p);
			if (!LOC65) goto LA66;
			result = ((NU8) 17);
		}
		goto LA17;
		LA66: ;
		{
			result = ((NU8) 4);
		}
		LA17: ;
	}
	break;
	case ((NU8) 3):
	case ((NU8) 6):
	case ((NU8) 2):
	{
		{
			NI LOC72;
			NIM_BOOL LOC73;
			LOC72 = 0;
			LOC72 = tokenafternewline_371550(p);
			LOC73 = 0;
			LOC73 = match_369327(p, LOC72, ((NimStringDesc*) &TMP2685));
			if (!LOC73) goto LA74;
			result = ((NU8) 1);
		}
		goto LA70;
		LA74: ;
		{
			NIM_BOOL LOC77;
			LOC77 = 0;
			LOC77 = match_369327(p, (*p).idx, ((NimStringDesc*) &TMP2699));
			if (LOC77) goto LA78;
			LOC77 = match_369327(p, (*p).idx, ((NimStringDesc*) &TMP2700));
			LA78: ;
			if (!LOC77) goto LA79;
			result = ((NU8) 7);
		}
		goto LA70;
		LA79: ;
		{
			NIM_BOOL LOC82;
			LOC82 = 0;
			LOC82 = isdeflist_371591(p);
			if (!LOC82) goto LA83;
			result = ((NU8) 9);
		}
		goto LA70;
		LA83: ;
		{
			result = ((NU8) 4);
		}
		LA70: ;
	}
	break;
	default:
	{
		result = ((NU8) 64);
	}
	break;
	}
	return result;
}

N_NIMCALL(Rstnode367012*, parseliteralblock_371468)(Rstparser368482* p) {
	Rstnode367012* result;
	Rstnode367012* n;
	result = 0;
	result = newrstnode_367097(((NU8) 24));
	n = newrstnode_367125(((NU8) 64), ((NimStringDesc*) &TMP2287));
	{
		NI indent;
		if (!((*p).tok->data[(*p).idx].kind == ((NU8) 1))) goto LA3;
		indent = (*p).tok->data[(*p).idx].ival;
		(*p).idx += ((NI) 1);
		{
			while (1) {
				switch ((*p).tok->data[(*p).idx].kind) {
				case ((NU8) 0):
				{
					goto LA5;
				}
				break;
				case ((NU8) 1):
				{
					{
						if (!((*p).tok->data[(*p).idx].ival < indent)) goto LA11;
						goto LA5;
					}
					goto LA9;
					LA11: ;
					{
						NimStringDesc* LOC14;
						(*n).text = resizeString((*n).text, 1);
appendString((*n).text, ((NimStringDesc*) &TMP2676));
						LOC14 = 0;
						LOC14 = nsuRepeatChar(32, ((NI) ((NI)((*p).tok->data[(*p).idx].ival - indent))));
						(*n).text = resizeString((*n).text, LOC14->Sup.len + 0);
appendString((*n).text, LOC14);
						(*p).idx += ((NI) 1);
					}
					LA9: ;
				}
				break;
				default:
				{
					(*n).text = resizeString((*n).text, (*p).tok->data[(*p).idx].symbol->Sup.len + 0);
appendString((*n).text, (*p).tok->data[(*p).idx].symbol);
					(*p).idx += ((NI) 1);
				}
				break;
				}
			}
		} LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		{
			while (1) {
				if (!!(((3 &(1U<<((NU)((*p).tok->data[(*p).idx].kind)&7U)))!=0))) goto LA18;
				(*n).text = resizeString((*n).text, (*p).tok->data[(*p).idx].symbol->Sup.len + 0);
appendString((*n).text, (*p).tok->data[(*p).idx].symbol);
				(*p).idx += ((NI) 1);
			} LA18: ;
		}
	}
	LA1: ;
	add_367142(result, n);
	return result;
}

N_NIMCALL(Rstnode367012*, parsebulletlist_372668)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	result = NIM_NIL;
	{
		NimStringDesc* bullet;
		NI col;
		if (!((*p).tok->data[(NI)((*p).idx + ((NI) 1))].kind == ((NU8) 2))) goto LA3;
		bullet = copyString((*p).tok->data[(*p).idx].symbol);
		col = (*p).tok->data[(*p).idx].col;
		result = newrstnode_367097(((NU8) 5));
		pushind_368805(p, (*p).tok->data[(NI)((*p).idx + ((NI) 2))].col);
		(*p).idx += ((NI) 2);
		{
			while (1) {
				Rstnode367012* item;
				item = newrstnode_367097(((NU8) 6));
				parsesection_370696(p, item);
				add_367142(result, item);
				{
					NIM_BOOL LOC9;
					NIM_BOOL LOC10;
					NIM_BOOL LOC11;
					LOC9 = 0;
					LOC10 = 0;
					LOC11 = 0;
					LOC11 = ((*p).tok->data[(*p).idx].kind == ((NU8) 1));
					if (!(LOC11)) goto LA12;
					LOC11 = ((*p).tok->data[(*p).idx].ival == col);
					LA12: ;
					LOC10 = LOC11;
					if (!(LOC10)) goto LA13;
					LOC10 = eqStrings((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol, bullet);
					LA13: ;
					LOC9 = LOC10;
					if (!(LOC9)) goto LA14;
					LOC9 = ((*p).tok->data[(NI)((*p).idx + ((NI) 2))].kind == ((NU8) 2));
					LA14: ;
					if (!LOC9) goto LA15;
					(*p).idx += ((NI) 3);
				}
				goto LA7;
				LA15: ;
				{
					goto LA5;
				}
				LA7: ;
			}
		} LA5: ;
		popind_368820(p);
	}
	LA3: ;
	return result;
}

N_NIMCALL(Rstnode367012*, parselineblock_371624)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	result = NIM_NIL;
	{
		NI col;
		if (!((*p).tok->data[(NI)((*p).idx + ((NI) 1))].kind == ((NU8) 2))) goto LA3;
		col = (*p).tok->data[(*p).idx].col;
		result = newrstnode_367097(((NU8) 26));
		pushind_368805(p, (*p).tok->data[(NI)((*p).idx + ((NI) 2))].col);
		(*p).idx += ((NI) 2);
		{
			while (1) {
				Rstnode367012* item;
				item = newrstnode_367097(((NU8) 27));
				parsesection_370696(p, item);
				add_367142(result, item);
				{
					NIM_BOOL LOC9;
					NIM_BOOL LOC10;
					NIM_BOOL LOC11;
					LOC9 = 0;
					LOC10 = 0;
					LOC11 = 0;
					LOC11 = ((*p).tok->data[(*p).idx].kind == ((NU8) 1));
					if (!(LOC11)) goto LA12;
					LOC11 = ((*p).tok->data[(*p).idx].ival == col);
					LA12: ;
					LOC10 = LOC11;
					if (!(LOC10)) goto LA13;
					LOC10 = eqStrings((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol, ((NimStringDesc*) &TMP2690));
					LA13: ;
					LOC9 = LOC10;
					if (!(LOC9)) goto LA14;
					LOC9 = ((*p).tok->data[(NI)((*p).idx + ((NI) 2))].kind == ((NU8) 2));
					LA14: ;
					if (!LOC9) goto LA15;
					(*p).idx += ((NI) 3);
				}
				goto LA7;
				LA15: ;
				{
					goto LA5;
				}
				LA7: ;
			}
		} LA5: ;
		popind_368820(p);
	}
	LA3: ;
	return result;
}

N_NIMCALL(NimStringDesc*, getdirective_370436)(Rstparser368482* p) {
	NimStringDesc* result;
	result = 0;
	{
		NIM_BOOL LOC3;
		NI j;
		LOC3 = 0;
		LOC3 = ((*p).tok->data[(*p).idx].kind == ((NU8) 2));
		if (!(LOC3)) goto LA4;
		LOC3 = ((*p).tok->data[(NI)((*p).idx + ((NI) 1))].kind == ((NU8) 3));
		LA4: ;
		if (!LOC3) goto LA5;
		j = (*p).idx;
		(*p).idx += ((NI) 1);
		result = copyString((*p).tok->data[(*p).idx].symbol);
		(*p).idx += ((NI) 1);
		{
			while (1) {
				if (!((120 &(1U<<((NU)((*p).tok->data[(*p).idx].kind)&7U)))!=0)) goto LA8;
				{
					if (!eqStrings((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2686))) goto LA11;
					goto LA7;
				}
				LA11: ;
				result = resizeString(result, (*p).tok->data[(*p).idx].symbol->Sup.len + 0);
appendString(result, (*p).tok->data[(*p).idx].symbol);
				(*p).idx += ((NI) 1);
			} LA8: ;
		} LA7: ;
		{
			if (!((*p).tok->data[(*p).idx].kind == ((NU8) 2))) goto LA15;
			(*p).idx += ((NI) 1);
		}
		LA15: ;
		{
			if (!eqStrings((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2686))) goto LA19;
			(*p).idx += ((NI) 1);
			{
				if (!((*p).tok->data[(*p).idx].kind == ((NU8) 2))) goto LA23;
				(*p).idx += ((NI) 1);
			}
			LA23: ;
		}
		goto LA17;
		LA19: ;
		{
			(*p).idx = j;
			result = copyString(((NimStringDesc*) &TMP2287));
		}
		LA17: ;
	}
	goto LA1;
	LA5: ;
	{
		result = copyString(((NimStringDesc*) &TMP2287));
	}
	LA1: ;
	return result;
}

static N_INLINE(NI, find_370634)(TY370626 a, NimStringDesc* item) {
	NI result;
{	result = 0;
	{
		NimStringDesc* i_370669;
		NI i_370682;
		i_370669 = 0;
		i_370682 = ((NI) 0);
		{
			if (!(((NI) (i_370682)) <= ((NI) 12))) goto LA4;
			{
				while (1) {
					i_370669 = a[(i_370682)- 0];
					{
						if (!eqStrings(i_370669, item)) goto LA10;
						goto BeforeRet;
					}
					LA10: ;
					result += ((NI) 1);
					{
						if (!(((NI) 12) <= ((NI) (i_370682)))) goto LA14;
						goto LA6;
					}
					LA14: ;
					i_370682 += ((NI) 1);
				}
			} LA6: ;
		}
		LA4: ;
	}
	result = ((NI) -1);
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NU8, getdirkind_370629)(NimStringDesc* s) {
	NU8 result;
	NI i;
	result = 0;
	i = find_370634(Dirids_370624, s);
	{
		if (!(((NI) 0) <= i)) goto LA3;
		result = ((NU8) (i));
	}
	goto LA1;
	LA3: ;
	{
		result = ((NU8) 0);
	}
	LA1: ;
	return result;
}

N_NIMCALL(Rstnode367012*, newleaf_369177)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	result = newrstnode_367125(((NU8) 64), (*p).tok->data[(*p).idx].symbol);
	return result;
}

N_NIMCALL(NIM_BOOL, isinlinemarkupstart_369286)(Rstparser368482* p, NimStringDesc* markup) {
	NIM_BOOL result;
	NIM_CHAR d;
	NIM_BOOL LOC5;
	NIM_BOOL LOC6;
{	result = 0;
	d = 0;
	result = eqStrings((*p).tok->data[(*p).idx].symbol, markup);
	{
		if (!!(result)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	LOC5 = 0;
	LOC6 = 0;
	LOC6 = ((*p).idx == ((NI) 0));
	if (LOC6) goto LA7;
	LOC6 = ((6 &(1U<<((NU)((*p).tok->data[(NI)((*p).idx - ((NI) 1))].kind)&7U)))!=0);
	LA7: ;
	LOC5 = LOC6;
	if (LOC5) goto LA8;
	LOC5 = ((TMP2713[(NU)(((NU8)((*p).tok->data[(NI)((*p).idx - ((NI) 1))].symbol->data[((NI) 0)])))>>3] &(1U<<((NU)(((NU8)((*p).tok->data[(NI)((*p).idx - ((NI) 1))].symbol->data[((NI) 0)])))&7U)))!=0);
	LA8: ;
	result = LOC5;
	{
		if (!!(result)) goto LA11;
		goto BeforeRet;
	}
	LA11: ;
	result = !(((7 &(1U<<((NU)((*p).tok->data[(NI)((*p).idx + ((NI) 1))].kind)&7U)))!=0));
	{
		if (!!(result)) goto LA15;
		goto BeforeRet;
	}
	LA15: ;
	{
		if (!(((NI) 0) < (*p).idx)) goto LA19;
		{
			if (!eqStrings((*p).tok->data[(NI)((*p).idx - ((NI) 1))].symbol, ((NimStringDesc*) &TMP2714))) goto LA23;
			result = NIM_FALSE;
		}
		goto LA21;
		LA23: ;
		{
			NIM_CHAR c;
			c = (*p).tok->data[(NI)((*p).idx - ((NI) 1))].symbol->data[((NI) 0)];
			switch (((NU8)(c))) {
			case 39:
			case 34:
			{
				d = c;
			}
			break;
			case 40:
			{
				d = 41;
			}
			break;
			case 91:
			{
				d = 93;
			}
			break;
			case 123:
			{
				d = 125;
			}
			break;
			case 60:
			{
				d = 62;
			}
			break;
			default:
			{
				d = 0;
			}
			break;
			}
			{
				if (!!(((NU8)(d) == (NU8)(0)))) goto LA34;
				result = !(((NU8)((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol->data[((NI) 0)]) == (NU8)(d)));
			}
			LA34: ;
		}
		LA21: ;
	}
	LA19: ;
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NIM_BOOL, isinlinemarkupend_369248)(Rstparser368482* p, NimStringDesc* markup) {
	NIM_BOOL result;
	NIM_BOOL LOC9;
{	result = 0;
	result = eqStrings((*p).tok->data[(*p).idx].symbol, markup);
	{
		if (!!(result)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	result = !(((6 &(1U<<((NU)((*p).tok->data[(NI)((*p).idx - ((NI) 1))].kind)&7U)))!=0));
	{
		if (!!(result)) goto LA7;
		goto BeforeRet;
	}
	LA7: ;
	LOC9 = 0;
	LOC9 = ((7 &(1U<<((NU)((*p).tok->data[(NI)((*p).idx + ((NI) 1))].kind)&7U)))!=0);
	if (LOC9) goto LA10;
	LOC9 = ((TMP2716[(NU)(((NU8)((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol->data[((NI) 0)])))>>3] &(1U<<((NU)(((NU8)((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol->data[((NI) 0)])))&7U)))!=0);
	LA10: ;
	result = LOC9;
	{
		if (!!(result)) goto LA13;
		goto BeforeRet;
	}
	LA13: ;
	{
		if (!(((NI) 0) < (*p).idx)) goto LA17;
		{
			NIM_BOOL LOC21;
			LOC21 = 0;
			LOC21 = !(eqStrings(markup, ((NimStringDesc*) &TMP2717)));
			if (!(LOC21)) goto LA22;
			LOC21 = eqStrings((*p).tok->data[(NI)((*p).idx - ((NI) 1))].symbol, ((NimStringDesc*) &TMP2714));
			LA22: ;
			if (!LOC21) goto LA23;
			result = NIM_FALSE;
		}
		LA23: ;
	}
	LA17: ;
	}BeforeRet: ;
	return result;
}

N_NIMCALL(void, parsebackslash_369896)(Rstparser368482* p, Rstnode367012* father) {
	{
		Rstnode367012* LOC5;
		if (!eqStrings((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2718))) goto LA3;
		LOC5 = 0;
		LOC5 = newrstnode_367125(((NU8) 64), ((NimStringDesc*) &TMP2714));
		add_367142(father, LOC5);
		(*p).idx += ((NI) 1);
	}
	goto LA1;
	LA3: ;
	{
		if (!eqStrings((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2714))) goto LA7;
		(*p).idx += ((NI) 1);
		{
			Rstnode367012* LOC13;
			if (!!(((*p).tok->data[(*p).idx].kind == ((NU8) 2)))) goto LA11;
			LOC13 = 0;
			LOC13 = newleaf_369177(p);
			add_367142(father, LOC13);
		}
		LA11: ;
		{
			if (!!(((*p).tok->data[(*p).idx].kind == ((NU8) 0)))) goto LA16;
			(*p).idx += ((NI) 1);
		}
		LA16: ;
	}
	goto LA1;
	LA7: ;
	{
		Rstnode367012* LOC19;
		LOC19 = 0;
		LOC19 = newleaf_369177(p);
		add_367142(father, LOC19);
		(*p).idx += ((NI) 1);
	}
	LA1: ;
}

N_NIMCALL(void, rstmessage_368729)(Rstparser368482* p, NU8 msgkind, NimStringDesc* arg, NI line, NI col) {
	(*(*p).s).msghandler((*p).filename, (NI)((*p).line + line), (NI)((*p).col + col), msgkind, arg);
}

N_NIMCALL(void, parseuntil_370201)(Rstparser368482* p, Rstnode367012* father, NimStringDesc* postfix, NIM_BOOL interpretbackslash) {
	NI line;
	NI col;
	line = (*p).tok->data[(*p).idx].line;
	col = (*p).tok->data[(*p).idx].col;
	(*p).idx += ((NI) 1);
	{
		while (1) {
			switch ((*p).tok->data[(*p).idx].kind) {
			case ((NU8) 5):
			{
				{
					NIM_BOOL LOC6;
					LOC6 = 0;
					LOC6 = isinlinemarkupend_369248((&(*p)), postfix);
					if (!LOC6) goto LA7;
					(*p).idx += ((NI) 1);
					goto LA1;
				}
				goto LA4;
				LA7: ;
				{
					if (!interpretbackslash) goto LA10;
					parsebackslash_369896(p, father);
				}
				goto LA4;
				LA10: ;
				{
					Rstnode367012* LOC13;
					LOC13 = 0;
					LOC13 = newleaf_369177(p);
					add_367142(father, LOC13);
					(*p).idx += ((NI) 1);
				}
				LA4: ;
			}
			break;
			case ((NU8) 4):
			case ((NU8) 3):
			case ((NU8) 6):
			{
				Rstnode367012* LOC15;
				LOC15 = 0;
				LOC15 = newleaf_369177(p);
				add_367142(father, LOC15);
				(*p).idx += ((NI) 1);
			}
			break;
			case ((NU8) 1):
			{
				Rstnode367012* LOC17;
				LOC17 = 0;
				LOC17 = newrstnode_367125(((NU8) 64), ((NimStringDesc*) &TMP2719));
				add_367142(father, LOC17);
				(*p).idx += ((NI) 1);
				{
					if (!((*p).tok->data[(*p).idx].kind == ((NU8) 1))) goto LA20;
					rstmessage_368729((&(*p)), ((NU8) 1), postfix, line, col);
					goto LA1;
				}
				LA20: ;
			}
			break;
			case ((NU8) 2):
			{
				Rstnode367012* LOC23;
				LOC23 = 0;
				LOC23 = newrstnode_367125(((NU8) 64), ((NimStringDesc*) &TMP2719));
				add_367142(father, LOC23);
				(*p).idx += ((NI) 1);
			}
			break;
			default:
			{
				rstmessage_368729((&(*p)), ((NU8) 1), postfix, line, col);
			}
			break;
			}
		}
	} LA1: ;
}

N_NIMCALL(Rstnode367012*, parsemarkdowncodeblock_370274)(Rstparser368482* p) {
	Rstnode367012* result;
	Rstnode367012* args;
	Rstnode367012* n;
	Rstnode367012* lb;
	result = 0;
	args = newrstnode_367097(((NU8) 41));
	{
		Rstnode367012* LOC5;
		if (!((*p).tok->data[(*p).idx].kind == ((NU8) 3))) goto LA3;
		LOC5 = 0;
		LOC5 = newleaf_369177(p);
		add_367142(args, LOC5);
		(*p).idx += ((NI) 1);
	}
	goto LA1;
	LA3: ;
	{
		args = NIM_NIL;
	}
	LA1: ;
	n = newrstnode_367125(((NU8) 64), ((NimStringDesc*) &TMP2287));
	{
		while (1) {
			switch ((*p).tok->data[(*p).idx].kind) {
			case ((NU8) 0):
			{
				rstmessage_368724((&(*p)), ((NU8) 1), ((NimStringDesc*) &TMP2721));
				goto LA7;
			}
			break;
			case ((NU8) 5):
			{
				{
					if (!eqStrings((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2721))) goto LA13;
					(*p).idx += ((NI) 1);
					goto LA7;
				}
				goto LA11;
				LA13: ;
				{
					(*n).text = resizeString((*n).text, (*p).tok->data[(*p).idx].symbol->Sup.len + 0);
appendString((*n).text, (*p).tok->data[(*p).idx].symbol);
					(*p).idx += ((NI) 1);
				}
				LA11: ;
			}
			break;
			default:
			{
				(*n).text = resizeString((*n).text, (*p).tok->data[(*p).idx].symbol->Sup.len + 0);
appendString((*n).text, (*p).tok->data[(*p).idx].symbol);
				(*p).idx += ((NI) 1);
			}
			break;
			}
		}
	} LA7: ;
	lb = newrstnode_367097(((NU8) 24));
	add_367142(lb, n);
	result = newrstnode_367097(((NU8) 47));
	add_367142(result, args);
	add_367142(result, NIM_NIL);
	add_367142(result, lb);
	return result;
}

N_NIMCALL(void, fixupembeddedref_369471)(Rstnode367012* n, Rstnode367012* a, Rstnode367012* b) {
	NI sep;
	NI incr;
	sep = ((NI) -1);
	{
		NI i_369487;
		NI HEX3Atmp_369514;
		NI LOC2;
		NI res_369517;
		i_369487 = 0;
		HEX3Atmp_369514 = 0;
		LOC2 = 0;
		LOC2 = len_367085(n);
		HEX3Atmp_369514 = (NI)(LOC2 - ((NI) 2));
		res_369517 = HEX3Atmp_369514;
		{
			while (1) {
				if (!(((NI) 0) <= res_369517)) goto LA4;
				i_369487 = res_369517;
				{
					if (!eqStrings((*(*n).sons->data[i_369487]).text, ((NimStringDesc*) &TMP2726))) goto LA7;
					sep = i_369487;
					goto LA1;
				}
				LA7: ;
				res_369517 -= ((NI) 1);
			} LA4: ;
		}
	} LA1: ;
	{
		NIM_BOOL LOC11;
		LOC11 = 0;
		LOC11 = (((NI) 0) < sep);
		if (!(LOC11)) goto LA12;
		LOC11 = ((NU8)((*(*n).sons->data[(NI)(sep - ((NI) 1))]).text->data[((NI) 0)]) == (NU8)(32));
		LA12: ;
		if (!LOC11) goto LA13;
		incr = ((NI) 2);
	}
	goto LA9;
	LA13: ;
	{
		incr = ((NI) 1);
	}
	LA9: ;
	{
		NI i_369500;
		NI HEX3Atmp_369522;
		NI res_369525;
		i_369500 = 0;
		HEX3Atmp_369522 = 0;
		HEX3Atmp_369522 = (NI)(sep - incr);
		res_369525 = ((NI) 0);
		{
			while (1) {
				if (!(res_369525 <= HEX3Atmp_369522)) goto LA18;
				i_369500 = res_369525;
				add_367142(a, (*n).sons->data[i_369500]);
				res_369525 += ((NI) 1);
			} LA18: ;
		}
	}
	{
		NI i_369512;
		NI HEX3Atmp_369530;
		NI HEX3Atmp_369531;
		NI LOC20;
		NI res_369534;
		i_369512 = 0;
		HEX3Atmp_369530 = 0;
		HEX3Atmp_369531 = 0;
		HEX3Atmp_369530 = (NI)(sep + ((NI) 1));
		LOC20 = 0;
		LOC20 = len_367085(n);
		HEX3Atmp_369531 = (NI)(LOC20 - ((NI) 2));
		res_369534 = HEX3Atmp_369530;
		{
			while (1) {
				if (!(res_369534 <= HEX3Atmp_369531)) goto LA22;
				i_369512 = res_369534;
				add_367142(b, (*n).sons->data[i_369512]);
				res_369534 += ((NI) 1);
			} LA22: ;
		}
	}
}

N_NIMCALL(void, setref_369106)(Rstparser368482* p, NimStringDesc* key, Rstnode367012* value) {
	NI length;
	NimStringDesc* LOC14;
{	length = ((*(*p).s).refs ? (*(*p).s).refs->Sup.len : 0);
	{
		NI i_369132;
		NI HEX3Atmp_369144;
		NI res_369147;
		i_369132 = 0;
		HEX3Atmp_369144 = 0;
		HEX3Atmp_369144 = (NI)(length - ((NI) 1));
		res_369147 = ((NI) 0);
		{
			while (1) {
				if (!(res_369147 <= HEX3Atmp_369144)) goto LA3;
				i_369132 = res_369147;
				{
					if (!eqStrings(key, (*(*p).s).refs->data[i_369132].key)) goto LA6;
					{
						NimStringDesc* LOC10;
						NimStringDesc* LOC11;
						LOC10 = 0;
						LOC10 = addnodes_368052((*(*p).s).refs->data[i_369132].value);
						LOC11 = 0;
						LOC11 = addnodes_368052(value);
						if (!!(eqStrings(LOC10, LOC11))) goto LA12;
						rstmessage_368724((&(*p)), ((NU8) 6), key);
					}
					LA12: ;
					asgnRefNoCycle((void**) (&(*(*p).s).refs->data[i_369132].value), value);
					goto BeforeRet;
				}
				LA6: ;
				res_369147 += ((NI) 1);
			} LA3: ;
		}
	}
	(*(*p).s).refs = (TY368492*) setLengthSeq(&((*(*p).s).refs)->Sup, sizeof(Substitution368476), ((NI) ((NI)(length + ((NI) 1)))));
	LOC14 = 0;
	LOC14 = (*(*p).s).refs->data[length].key; (*(*p).s).refs->data[length].key = copyStringRC1(key);
	if (LOC14) nimGCunrefNoCycle(LOC14);
	asgnRefNoCycle((void**) (&(*(*p).s).refs->data[length].value), value);
	}BeforeRet: ;
}

N_NIMCALL(Rstnode367012*, parsepostfix_369538)(Rstparser368482* p, Rstnode367012* n) {
	Rstnode367012* result;
	result = 0;
	result = n;
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = isinlinemarkupend_369248((&(*p)), ((NimStringDesc*) &TMP2723));
		if (LOC3) goto LA4;
		LOC3 = isinlinemarkupend_369248((&(*p)), ((NimStringDesc*) &TMP2724));
		LA4: ;
		if (!LOC3) goto LA5;
		(*p).idx += ((NI) 1);
		{
			NIM_BOOL LOC9;
			Rstnode367012* a;
			Rstnode367012* b;
			LOC9 = 0;
			LOC9 = eqStrings((*p).tok->data[(NI)((*p).idx - ((NI) 2))].symbol, ((NimStringDesc*) &TMP2722));
			if (!(LOC9)) goto LA10;
			LOC9 = eqStrings((*p).tok->data[(NI)((*p).idx - ((NI) 3))].symbol, ((NimStringDesc*) &TMP2725));
			LA10: ;
			if (!LOC9) goto LA11;
			a = newrstnode_367097(((NU8) 0));
			b = newrstnode_367097(((NU8) 0));
			fixupembeddedref_369471(n, a, b);
			{
				NI LOC15;
				LOC15 = 0;
				LOC15 = len_367085(a);
				if (!(LOC15 == ((NI) 0))) goto LA16;
				result = newrstnode_367097(((NU8) 37));
				add_367142(result, b);
			}
			goto LA13;
			LA16: ;
			{
				NimStringDesc* LOC19;
				result = newrstnode_367097(((NU8) 38));
				add_367142(result, a);
				add_367142(result, b);
				LOC19 = 0;
				LOC19 = rstnodetorefname_368049(a);
				setref_369106(p, LOC19, b);
			}
			LA13: ;
		}
		goto LA7;
		LA11: ;
		{
			if (!((*n).kind == ((NU8) 60))) goto LA21;
			(*n).kind = ((NU8) 39);
		}
		goto LA7;
		LA21: ;
		{
			result = newrstnode_367097(((NU8) 39));
			add_367142(result, n);
		}
		LA7: ;
	}
	goto LA1;
	LA5: ;
	{
		NIM_BOOL LOC25;
		LOC25 = 0;
		LOC25 = match_369327((&(*p)), (*p).idx, ((NimStringDesc*) &TMP2692));
		if (!LOC25) goto LA26;
		{
			if (!eqStrings((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol, ((NimStringDesc*) &TMP2727))) goto LA30;
			(*n).kind = ((NU8) 56);
		}
		goto LA28;
		LA30: ;
		{
			if (!eqStrings((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol, ((NimStringDesc*) &TMP2728))) goto LA33;
			(*n).kind = ((NU8) 61);
		}
		goto LA28;
		LA33: ;
		{
			if (!eqStrings((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol, ((NimStringDesc*) &TMP2729))) goto LA36;
			(*n).kind = ((NU8) 58);
		}
		goto LA28;
		LA36: ;
		{
			if (!eqStrings((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol, ((NimStringDesc*) &TMP2730))) goto LA39;
			(*n).kind = ((NU8) 57);
		}
		goto LA28;
		LA39: ;
		{
			NIM_BOOL LOC42;
			LOC42 = 0;
			LOC42 = eqStrings((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol, ((NimStringDesc*) &TMP2731));
			if (LOC42) goto LA43;
			LOC42 = eqStrings((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol, ((NimStringDesc*) &TMP2732));
			LA43: ;
			if (!LOC42) goto LA44;
			(*n).kind = ((NU8) 54);
		}
		goto LA28;
		LA44: ;
		{
			NIM_BOOL LOC47;
			LOC47 = 0;
			LOC47 = eqStrings((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol, ((NimStringDesc*) &TMP2733));
			if (LOC47) goto LA48;
			LOC47 = eqStrings((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol, ((NimStringDesc*) &TMP2734));
			LA48: ;
			if (!LOC47) goto LA49;
			(*n).kind = ((NU8) 55);
		}
		goto LA28;
		LA49: ;
		{
			Rstnode367012* LOC52;
			result = newrstnode_367097(((NU8) 53));
			(*n).kind = ((NU8) 0);
			add_367142(result, n);
			LOC52 = 0;
			LOC52 = newrstnode_367125(((NU8) 64), (*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol);
			add_367142(result, LOC52);
		}
		LA28: ;
		(*p).idx += ((NI) 3);
	}
	goto LA1;
	LA26: ;
	LA1: ;
	return result;
}

N_NIMCALL(NI, matchverbatim_369573)(Rstparser368482* p, NI start, NimStringDesc* expr) {
	NI result;
	NI j;
	result = 0;
	result = start;
	j = ((NI) 0);
	{
		while (1) {
			NIM_BOOL LOC3;
			NIM_BOOL LOC4;
			LOC3 = 0;
			LOC4 = 0;
			LOC4 = (j < (expr ? expr->Sup.len : 0));
			if (!(LOC4)) goto LA5;
			LOC4 = (result < ((*p).tok ? (*p).tok->Sup.len : 0));
			LA5: ;
			LOC3 = LOC4;
			if (!(LOC3)) goto LA6;
			LOC3 = nsuContinuesWith(expr, (*p).tok->data[result].symbol, ((NI) (j)));
			LA6: ;
			if (!LOC3) goto LA2;
			j += ((*p).tok->data[result].symbol ? (*p).tok->data[result].symbol->Sup.len : 0);
			result += ((NI) 1);
		} LA2: ;
	}
	{
		if (!(j < (expr ? expr->Sup.len : 0))) goto LA9;
		result = ((NI) 0);
	}
	LA9: ;
	return result;
}

N_NIMCALL(Rstnode367012*, parsesmiley_369607)(Rstparser368482* p) {
	Rstnode367012* result;
{	result = 0;
	{
		if (!!((((NU8)((*p).tok->data[(*p).idx].symbol->data[((NI) 0)])) == ((NU8)(58)) || ((NU8)((*p).tok->data[(*p).idx].symbol->data[((NI) 0)])) == ((NU8)(59)) || ((NU8)((*p).tok->data[(*p).idx].symbol->data[((NI) 0)])) == ((NU8)(56))))) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	{
		NimStringDesc* key_369648;
		NimStringDesc* val_369649;
		NI i_369654;
		key_369648 = 0;
		val_369649 = 0;
		i_369654 = ((NI) 0);
		{
			if (!(((NI) (i_369654)) <= ((NI) 33))) goto LA8;
			{
				while (1) {
					NI m;
					key_369648 = copyString(Smilies_368068[(i_369654)- 0].Field0);
					val_369649 = copyString(Smilies_368068[(i_369654)- 0].Field1);
					m = matchverbatim_369573((&(*p)), (*p).idx, key_369648);
					{
						NimStringDesc* LOC16;
						if (!(((NI) 0) < m)) goto LA14;
						(*p).idx = m;
						result = newrstnode_367097(((NU8) 63));
						LOC16 = 0;
						LOC16 = (*result).text; (*result).text = copyStringRC1(val_369649);
						if (LOC16) nimGCunrefNoCycle(LOC16);
						goto BeforeRet;
					}
					LA14: ;
					{
						if (!(((NI) 33) <= ((NI) (i_369654)))) goto LA19;
						goto LA10;
					}
					LA19: ;
					i_369654 += ((NI) 1);
				}
			} LA10: ;
		}
		LA8: ;
	}
	}BeforeRet: ;
	return result;
}

static N_INLINE(NI, find_369829)(NimStringDesc** a, NI aLen0, NimStringDesc* item) {
	NI result;
{	result = 0;
	{
		NimStringDesc* i_369845;
		NI i_369858;
		i_369845 = 0;
		i_369858 = ((NI) 0);
		{
			while (1) {
				if (!(i_369858 < aLen0)) goto LA3;
				i_369845 = a[i_369858];
				{
					if (!eqStrings(i_369845, item)) goto LA6;
					goto BeforeRet;
				}
				LA6: ;
				result += ((NI) 1);
				i_369858 += ((NI) 1);
			} LA3: ;
		}
	}
	result = ((NI) -1);
	}BeforeRet: ;
	return result;
}

static N_INLINE(NIM_BOOL, contains_369819)(NimStringDesc** a, NI aLen0, NimStringDesc* item) {
	NIM_BOOL result;
	NI LOC1;
{	result = 0;
	LOC1 = 0;
	LOC1 = find_369829(a, aLen0, item);
	result = (((NI) 0) <= LOC1);
	goto BeforeRet;
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NIM_BOOL, isurl_369801)(Rstparser368482* p, NI i) {
	NIM_BOOL result;
	NIM_BOOL LOC1;
	NIM_BOOL LOC2;
	NIM_BOOL LOC3;
	result = 0;
	LOC1 = 0;
	LOC2 = 0;
	LOC3 = 0;
	LOC3 = eqStrings((*p).tok->data[(NI)(i + ((NI) 1))].symbol, ((NimStringDesc*) &TMP2793));
	if (!(LOC3)) goto LA4;
	LOC3 = eqStrings((*p).tok->data[(NI)(i + ((NI) 2))].symbol, ((NimStringDesc*) &TMP2794));
	LA4: ;
	LOC2 = LOC3;
	if (!(LOC2)) goto LA5;
	LOC2 = ((*p).tok->data[(NI)(i + ((NI) 3))].kind == ((NU8) 3));
	LA5: ;
	LOC1 = LOC2;
	if (!(LOC1)) goto LA6;
	LOC1 = contains_369819(TMP2795, 5, (*p).tok->data[i].symbol);
	LA6: ;
	result = LOC1;
	return result;
}

N_NIMCALL(void, parseurl_369859)(Rstparser368482* p, Rstnode367012* father) {
	{
		NIM_BOOL LOC3;
		Rstnode367012* n;
		LOC3 = 0;
		LOC3 = isurl_369801((&(*p)), (*p).idx);
		if (!LOC3) goto LA4;
		n = newrstnode_367097(((NU8) 37));
		{
			while (1) {
				Rstnode367012* LOC15;
				switch ((*p).tok->data[(*p).idx].kind) {
				case ((NU8) 3):
				case ((NU8) 4):
				case ((NU8) 6):
				{
				}
				break;
				case ((NU8) 5):
				{
					{
						if (!!(((120 &(1U<<((NU)((*p).tok->data[(NI)((*p).idx + ((NI) 1))].kind)&7U)))!=0))) goto LA12;
						goto LA6;
					}
					LA12: ;
				}
				break;
				default:
				{
					goto LA6;
				}
				break;
				}
				LOC15 = 0;
				LOC15 = newleaf_369177(p);
				add_367142(n, LOC15);
				(*p).idx += ((NI) 1);
			}
		} LA6: ;
		add_367142(father, n);
	}
	goto LA1;
	LA4: ;
	{
		Rstnode367012* n;
		n = newleaf_369177(p);
		(*p).idx += ((NI) 1);
		{
			if (!eqStrings((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2723))) goto LA19;
			n = parsepostfix_369538(p, n);
		}
		LA19: ;
		add_367142(father, n);
	}
	LA1: ;
}

N_NIMCALL(void, parseinline_370328)(Rstparser368482* p, Rstnode367012* father) {
{	switch ((*p).tok->data[(*p).idx].kind) {
	case ((NU8) 5):
	{
		{
			NIM_BOOL LOC4;
			Rstnode367012* n;
			LOC4 = 0;
			LOC4 = isinlinemarkupstart_369286((&(*p)), ((NimStringDesc*) &TMP2715));
			if (!LOC4) goto LA5;
			n = newrstnode_367097(((NU8) 59));
			parseuntil_370201(p, n, ((NimStringDesc*) &TMP2715), NIM_TRUE);
			add_367142(father, n);
		}
		goto LA2;
		LA5: ;
		{
			NIM_BOOL LOC8;
			Rstnode367012* n;
			LOC8 = 0;
			LOC8 = isinlinemarkupstart_369286((&(*p)), ((NimStringDesc*) &TMP2720));
			if (!LOC8) goto LA9;
			n = newrstnode_367097(((NU8) 58));
			parseuntil_370201(p, n, ((NimStringDesc*) &TMP2720), NIM_TRUE);
			add_367142(father, n);
		}
		goto LA2;
		LA9: ;
		{
			NIM_BOOL LOC12;
			Rstnode367012* n;
			LOC12 = 0;
			LOC12 = isinlinemarkupstart_369286((&(*p)), ((NimStringDesc*) &TMP2688));
			if (!LOC12) goto LA13;
			n = newrstnode_367097(((NU8) 57));
			parseuntil_370201(p, n, ((NimStringDesc*) &TMP2688), NIM_TRUE);
			add_367142(father, n);
		}
		goto LA2;
		LA13: ;
		{
			NIM_BOOL LOC16;
			Rstnode367012* LOC20;
			LOC16 = 0;
			LOC16 = (((*(*p).s).options &(1U<<((NU)(((NU8) 3))&7U)))!=0);
			if (!(LOC16)) goto LA17;
			LOC16 = eqStrings((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2721));
			LA17: ;
			if (!LOC16) goto LA18;
			(*p).idx += ((NI) 1);
			LOC20 = 0;
			LOC20 = parsemarkdowncodeblock_370274(p);
			add_367142(father, LOC20);
		}
		goto LA2;
		LA18: ;
		{
			NIM_BOOL LOC22;
			Rstnode367012* n;
			LOC22 = 0;
			LOC22 = isinlinemarkupstart_369286((&(*p)), ((NimStringDesc*) &TMP2717));
			if (!LOC22) goto LA23;
			n = newrstnode_367097(((NU8) 61));
			parseuntil_370201(p, n, ((NimStringDesc*) &TMP2717), NIM_FALSE);
			add_367142(father, n);
		}
		goto LA2;
		LA23: ;
		{
			NIM_BOOL LOC26;
			Rstnode367012* n;
			LOC26 = 0;
			LOC26 = isinlinemarkupstart_369286((&(*p)), ((NimStringDesc*) &TMP2722));
			if (!LOC26) goto LA27;
			n = newrstnode_367097(((NU8) 60));
			parseuntil_370201(p, n, ((NimStringDesc*) &TMP2722), NIM_TRUE);
			n = parsepostfix_369538(p, n);
			add_367142(father, n);
		}
		goto LA2;
		LA27: ;
		{
			NIM_BOOL LOC30;
			Rstnode367012* n;
			LOC30 = 0;
			LOC30 = isinlinemarkupstart_369286((&(*p)), ((NimStringDesc*) &TMP2690));
			if (!LOC30) goto LA31;
			n = newrstnode_367097(((NU8) 62));
			parseuntil_370201(p, n, ((NimStringDesc*) &TMP2690), NIM_FALSE);
			add_367142(father, n);
		}
		goto LA2;
		LA31: ;
		{
			{
				Rstnode367012* n;
				if (!(((*(*p).s).options &(1U<<((NU)(((NU8) 1))&7U)))!=0)) goto LA36;
				n = parsesmiley_369607(p);
				{
					if (!!((n == NIM_NIL))) goto LA40;
					add_367142(father, n);
					goto BeforeRet;
				}
				LA40: ;
			}
			LA36: ;
			parsebackslash_369896(p, father);
		}
		LA2: ;
	}
	break;
	case ((NU8) 3):
	{
		{
			Rstnode367012* n;
			if (!(((*(*p).s).options &(1U<<((NU)(((NU8) 1))&7U)))!=0)) goto LA45;
			n = parsesmiley_369607(p);
			{
				if (!!((n == NIM_NIL))) goto LA49;
				add_367142(father, n);
				goto BeforeRet;
			}
			LA49: ;
		}
		LA45: ;
		parseurl_369859(p, father);
	}
	break;
	case ((NU8) 4):
	case ((NU8) 6):
	case ((NU8) 2):
	{
		Rstnode367012* LOC60;
		{
			Rstnode367012* n;
			if (!(((*(*p).s).options &(1U<<((NU)(((NU8) 1))&7U)))!=0)) goto LA54;
			n = parsesmiley_369607(p);
			{
				if (!!((n == NIM_NIL))) goto LA58;
				add_367142(father, n);
				goto BeforeRet;
			}
			LA58: ;
		}
		LA54: ;
		LOC60 = 0;
		LOC60 = newleaf_369177(p);
		add_367142(father, LOC60);
		(*p).idx += ((NI) 1);
	}
	break;
	default:
	{
	}
	break;
	}
	}BeforeRet: ;
}

N_NIMCALL(void, parseline_370684)(Rstparser368482* p, Rstnode367012* father) {
	{
		while (1) {
			switch ((*p).tok->data[(*p).idx].kind) {
			case ((NU8) 2):
			case ((NU8) 3):
			case ((NU8) 6):
			case ((NU8) 5):
			{
				parseinline_370328(p, father);
			}
			break;
			default:
			{
				goto LA1;
			}
			break;
			}
		}
	} LA1: ;
}

N_NIMCALL(Rstnode367012*, parsefield_370701)(Rstparser368482* p) {
	Rstnode367012* result;
	NI col;
	Rstnode367012* fieldname;
	Rstnode367012* fieldbody;
	result = 0;
	result = newrstnode_367097(((NU8) 14));
	col = (*p).tok->data[(*p).idx].col;
	fieldname = newrstnode_367097(((NU8) 15));
	parseuntil_370201(p, fieldname, ((NimStringDesc*) &TMP2793), NIM_FALSE);
	fieldbody = newrstnode_367097(((NU8) 16));
	{
		if (!!(((*p).tok->data[(*p).idx].kind == ((NU8) 1)))) goto LA3;
		parseline_370684(p, fieldbody);
	}
	LA3: ;
	{
		NI indent;
		if (!((*p).tok->data[(*p).idx].kind == ((NU8) 1))) goto LA7;
		indent = (*p).tok->data[(*p).idx].ival;
		{
			if (!(col < indent)) goto LA11;
			pushind_368805(p, indent);
			parsesection_370696(p, fieldbody);
			popind_368820(p);
		}
		LA11: ;
	}
	LA7: ;
	add_367142(result, fieldname);
	add_367142(result, fieldbody);
	return result;
}

N_NIMCALL(Rstnode367012*, parsefields_370728)(Rstparser368482* p) {
	Rstnode367012* result;
	NIM_BOOL atstart;
	NIM_BOOL LOC1;
	result = 0;
	result = NIM_NIL;
	LOC1 = 0;
	LOC1 = ((*p).idx == ((NI) 0));
	if (!(LOC1)) goto LA2;
	LOC1 = eqStrings((*p).tok->data[((NI) 0)].symbol, ((NimStringDesc*) &TMP2793));
	LA2: ;
	atstart = LOC1;
	{
		NIM_BOOL LOC5;
		NIM_BOOL LOC6;
		NI col;
		LOC5 = 0;
		LOC6 = 0;
		LOC6 = ((*p).tok->data[(*p).idx].kind == ((NU8) 1));
		if (!(LOC6)) goto LA7;
		LOC6 = eqStrings((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol, ((NimStringDesc*) &TMP2793));
		LA7: ;
		LOC5 = LOC6;
		if (LOC5) goto LA8;
		LOC5 = atstart;
		LA8: ;
		if (!LOC5) goto LA9;
		{
			if (!atstart) goto LA13;
			col = (*p).tok->data[(*p).idx].col;
		}
		goto LA11;
		LA13: ;
		{
			col = (*p).tok->data[(*p).idx].ival;
		}
		LA11: ;
		result = newrstnode_367097(((NU8) 13));
		{
			if (!!(atstart)) goto LA18;
			(*p).idx += ((NI) 1);
		}
		LA18: ;
		{
			while (1) {
				Rstnode367012* LOC22;
				LOC22 = 0;
				LOC22 = parsefield_370701(p);
				add_367142(result, LOC22);
				{
					NIM_BOOL LOC25;
					NIM_BOOL LOC26;
					LOC25 = 0;
					LOC26 = 0;
					LOC26 = ((*p).tok->data[(*p).idx].kind == ((NU8) 1));
					if (!(LOC26)) goto LA27;
					LOC26 = ((*p).tok->data[(*p).idx].ival == col);
					LA27: ;
					LOC25 = LOC26;
					if (!(LOC25)) goto LA28;
					LOC25 = eqStrings((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol, ((NimStringDesc*) &TMP2793));
					LA28: ;
					if (!LOC25) goto LA29;
					(*p).idx += ((NI) 1);
				}
				goto LA23;
				LA29: ;
				{
					goto LA20;
				}
				LA23: ;
			}
		} LA20: ;
	}
	LA9: ;
	return result;
}

N_NIMCALL(Rstnode367012*, parsedirective_373217)(Rstparser368482* p, NU8 flags) {
	Rstnode367012* result;
	Rstnode367012* args;
	Rstnode367012* options;
	result = 0;
	result = newrstnode_367097(((NU8) 40));
	args = NIM_NIL;
	options = NIM_NIL;
	{
		if (!((flags &(1U<<((NU)(((NU8) 0))&7U)))!=0)) goto LA3;
		args = newrstnode_367097(((NU8) 41));
		{
			if (!((flags &(1U<<((NU)(((NU8) 2))&7U)))!=0)) goto LA7;
			{
				while (1) {
					switch ((*p).tok->data[(*p).idx].kind) {
					case ((NU8) 3):
					case ((NU8) 6):
					case ((NU8) 5):
					case ((NU8) 4):
					{
						Rstnode367012* LOC12;
						LOC12 = 0;
						LOC12 = newleaf_369177(p);
						add_367142(args, LOC12);
						(*p).idx += ((NI) 1);
					}
					break;
					default:
					{
						goto LA9;
					}
					break;
					}
				}
			} LA9: ;
		}
		goto LA5;
		LA7: ;
		{
			if (!((flags &(1U<<((NU)(((NU8) 3))&7U)))!=0)) goto LA15;
			{
				while (1) {
					if (!((*p).tok->data[(*p).idx].kind == ((NU8) 2))) goto LA18;
					(*p).idx += ((NI) 1);
				} LA18: ;
			}
			{
				Rstnode367012* LOC23;
				if (!((*p).tok->data[(*p).idx].kind == ((NU8) 3))) goto LA21;
				LOC23 = 0;
				LOC23 = newleaf_369177(p);
				add_367142(args, LOC23);
				(*p).idx += ((NI) 1);
			}
			goto LA19;
			LA21: ;
			{
				args = NIM_NIL;
			}
			LA19: ;
		}
		goto LA5;
		LA15: ;
		{
			parseline_370684(p, args);
		}
		LA5: ;
	}
	LA3: ;
	add_367142(result, args);
	{
		if (!((flags &(1U<<((NU)(((NU8) 1))&7U)))!=0)) goto LA28;
		{
			NIM_BOOL LOC32;
			NIM_BOOL LOC33;
			LOC32 = 0;
			LOC33 = 0;
			LOC33 = ((*p).tok->data[(*p).idx].kind == ((NU8) 1));
			if (!(LOC33)) goto LA34;
			LOC33 = (((NI) 3) <= (*p).tok->data[(*p).idx].ival);
			LA34: ;
			LOC32 = LOC33;
			if (!(LOC32)) goto LA35;
			LOC32 = eqStrings((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol, ((NimStringDesc*) &TMP2793));
			LA35: ;
			if (!LOC32) goto LA36;
			options = parsefields_370728(p);
		}
		LA36: ;
	}
	LA28: ;
	add_367142(result, options);
	return result;
}

N_NIMCALL(NIM_BOOL, indfollows_373323)(Rstparser368482* p) {
	NIM_BOOL result;
	NIM_BOOL LOC1;
	NI LOC3;
	result = 0;
	LOC1 = 0;
	LOC1 = ((*p).tok->data[(*p).idx].kind == ((NU8) 1));
	if (!(LOC1)) goto LA2;
	LOC3 = 0;
	LOC3 = currind_368801(p);
	LOC1 = (LOC3 < (*p).tok->data[(*p).idx].ival);
	LA2: ;
	result = LOC1;
	return result;
}

N_NIMCALL(Rstnode367012*, parsedirective_373336)(Rstparser368482* p, NU8 flags, Sectionparser373206 contentparser) {
	Rstnode367012* result;
	result = 0;
	result = parsedirective_373217(p, flags);
	{
		NIM_BOOL LOC3;
		Rstnode367012* content;
		LOC3 = 0;
		LOC3 = !(contentparser == 0);
		if (!(LOC3)) goto LA4;
		LOC3 = indfollows_373323((&(*p)));
		LA4: ;
		if (!LOC3) goto LA5;
		pushind_368805(p, (*p).tok->data[(*p).idx].ival);
		content = contentparser(p);
		popind_368820(p);
		add_367142(result, content);
	}
	goto LA1;
	LA5: ;
	{
		add_367142(result, NIM_NIL);
	}
	LA1: ;
	return result;
}

N_NIMCALL(NimStringDesc*, findrelativefile_368719)(Rstparser368482* p, NimStringDesc* filename) {
	NimStringDesc* result;
	TY128506 LOC1;
	result = 0;
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	nossplitFile((*p).filename, (&LOC1));
	result = HEX2F_128265(LOC1.Field0, filename);
	{
		NIM_BOOL LOC4;
		LOC4 = 0;
		LOC4 = nosexistsFile(result);
		if (!!(LOC4)) goto LA5;
		result = (*(*p).s).findfile(filename);
	}
	LA5: ;
	return result;
}

N_NIMCALL(Rstnode367012*, dirinclude_373357)(Rstparser368482* p) {
	Rstnode367012* result;
	Rstnode367012* n;
	NimStringDesc* filename;
	NimStringDesc* LOC1;
	NimStringDesc* path;
	result = 0;
	result = NIM_NIL;
	n = parsedirective_373336(p, 7, NIM_NIL);
	LOC1 = 0;
	LOC1 = addnodes_368052((*n).sons->data[((NI) 0)]);
	filename = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE, TMP2400);
	path = findrelativefile_368719((&(*p)), filename);
	{
		if (!((path) && (path)->Sup.len == 0)) goto LA4;
		rstmessage_368724((&(*p)), ((NU8) 0), filename);
	}
	goto LA2;
	LA4: ;
	{
		{
			NimStringDesc* LOC9;
			NimStringDesc* LOC12;
			Rstnode367012* LOC13;
			LOC9 = 0;
			LOC9 = getfieldvalue_368055(n, ((NimStringDesc*) &TMP2728));
			if (!!(((LOC9) && (LOC9)->Sup.len == 0))) goto LA10;
			result = newrstnode_367097(((NU8) 24));
			LOC12 = 0;
			LOC12 = readfile_14868(path);
			LOC13 = 0;
			LOC13 = newrstnode_367125(((NU8) 64), LOC12);
			add_367142(result, LOC13);
		}
		goto LA7;
		LA10: ;
		{
			Rstparser368482 q;
			NimStringDesc* LOC15;
			NI LOC16;
			memset((void*)(&q), 0, sizeof(q));
			q.Sup.m_type = (&NTI368482);
			initparser_368850((&q), (*p).s);
			q.filename = copyString(path);
			LOC15 = 0;
			LOC15 = readfile_14868(path);
			LOC16 = 0;
			LOC16 = gettokens_368342(LOC15, NIM_FALSE, (&q.tok));
			q.col += LOC16;
			result = parsedoc_372257((&q));
		}
		LA7: ;
	}
	LA2: ;
	return result;
}

N_NIMCALL(Rstnode367012*, dirimage_374001)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	result = parsedirective_373336(p, 7, NIM_NIL);
	(*result).kind = ((NU8) 45);
	return result;
}

N_NIMCALL(Rstnode367012*, dirfigure_374007)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	result = parsedirective_373336(p, 7, parsesectionwrapper_373091);
	(*result).kind = ((NU8) 46);
	return result;
}

N_NIMCALL(Rstnode367012*, dirtitle_374013)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	result = parsedirective_373336(p, 1, NIM_NIL);
	(*result).kind = ((NU8) 43);
	return result;
}

N_NIMCALL(Rstnode367012*, dircontainer_373602)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	result = parsedirective_373336(p, 1, parsesectionwrapper_373091);
	(*result).kind = ((NU8) 50);
	return result;
}

N_NIMCALL(Rstnode367012*, dircontents_374019)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	result = parsedirective_373336(p, 1, NIM_NIL);
	(*result).kind = ((NU8) 44);
	return result;
}

N_NIMCALL(Rstnode367012*, parsedirbody_373351)(Rstparser368482* p, Sectionparser373206 contentparser) {
	Rstnode367012* result;
	result = 0;
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = indfollows_373323((&(*p)));
		if (!LOC3) goto LA4;
		pushind_368805(p, (*p).tok->data[(*p).idx].ival);
		result = contentparser(p);
		popind_368820(p);
	}
	LA4: ;
	return result;
}

N_NIMCALL(void, dirrawaux_374032)(Rstparser368482* p, Rstnode367012** result, NU8 kind, Sectionparser373206 contentparser) {
	NimStringDesc* filename;
	filename = getfieldvalue_368055((*result), ((NimStringDesc*) &TMP2800));
	{
		NimStringDesc* path;
		if (!(((NI) 0) < (filename ? filename->Sup.len : 0))) goto LA3;
		path = findrelativefile_368719((&(*p)), filename);
		{
			if (!((path ? path->Sup.len : 0) == ((NI) 0))) goto LA7;
			rstmessage_368724((&(*p)), ((NU8) 0), filename);
		}
		goto LA5;
		LA7: ;
		{
			NimStringDesc* f;
			Rstnode367012* LOC10;
			f = readfile_14868(path);
			unsureAsgnRef((void**) (&(*result)), newrstnode_367097(kind));
			LOC10 = 0;
			LOC10 = newrstnode_367125(((NU8) 64), f);
			add_367142((*result), LOC10);
		}
		LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		Rstnode367012* LOC12;
		(*(*result)).kind = kind;
		LOC12 = 0;
		LOC12 = parsedirbody_373351(p, contentparser);
		add_367142((*result), LOC12);
	}
	LA1: ;
}

N_NIMCALL(Rstnode367012*, dirraw_374043)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	result = parsedirective_373217(p, 11);
	{
		if (!!(((*result).sons->data[((NI) 0)] == NIM_NIL))) goto LA3;
		{
			NI LOC7;
			LOC7 = 0;
			LOC7 = nsuCmpIgnoreCase((*(*(*result).sons->data[((NI) 0)]).sons->data[((NI) 0)]).text, ((NimStringDesc*) &TMP2801));
			if (!(LOC7 == ((NI) 0))) goto LA8;
			dirrawaux_374032(p, &result, ((NU8) 48), parseliteralblock_371468);
		}
		goto LA5;
		LA8: ;
		{
			NI LOC11;
			LOC11 = 0;
			LOC11 = nsuCmpIgnoreCase((*(*(*result).sons->data[((NI) 0)]).sons->data[((NI) 0)]).text, ((NimStringDesc*) &TMP2802));
			if (!(LOC11 == ((NI) 0))) goto LA12;
			dirrawaux_374032(p, &result, ((NU8) 49), parseliteralblock_371468);
		}
		goto LA5;
		LA12: ;
		{
			rstmessage_368724((&(*p)), ((NU8) 5), (*(*(*result).sons->data[((NI) 0)]).sons->data[((NI) 0)]).text);
		}
		LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		dirrawaux_374032(p, &result, ((NU8) 42), parsesectionwrapper_373091);
	}
	LA1: ;
	return result;
}

N_NIMCALL(Rstnode367012*, dircodeblock_373380)(Rstparser368482* p, NIM_BOOL nimextension) {
	Rstnode367012* result;
	NimStringDesc* filename;
	NimStringDesc* LOC1;
	result = 0;
	result = parsedirective_373336(p, 3, parseliteralblock_371468);
	LOC1 = 0;
	LOC1 = getfieldvalue_368055(result, ((NimStringDesc*) &TMP2800));
	filename = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE, TMP2400);
	{
		NimStringDesc* path;
		Rstnode367012* n;
		NimStringDesc* LOC10;
		Rstnode367012* LOC11;
		if (!!(((filename) && (filename)->Sup.len == 0))) goto LA4;
		path = findrelativefile_368719((&(*p)), filename);
		{
			if (!((path) && (path)->Sup.len == 0)) goto LA8;
			rstmessage_368724((&(*p)), ((NU8) 0), filename);
		}
		LA8: ;
		n = newrstnode_367097(((NU8) 24));
		LOC10 = 0;
		LOC10 = readfile_14868(path);
		LOC11 = 0;
		LOC11 = newrstnode_367125(((NU8) 64), LOC10);
		add_367142(n, LOC11);
		asgnRefNoCycle((void**) (&(*result).sons->data[((NI) 2)]), n);
	}
	LA4: ;
	{
		Rstnode367012* extranode;
		Rstnode367012* LOC20;
		Rstnode367012* LOC21;
		Rstnode367012* LOC22;
		Rstnode367012* LOC23;
		if (!nimextension) goto LA14;
		{
			if (!(*result).sons->data[((NI) 1)] == 0) goto LA18;
			asgnRefNoCycle((void**) (&(*result).sons->data[((NI) 1)]), newrstnode_367097(((NU8) 13)));
		}
		LA18: ;
		extranode = newrstnode_367097(((NU8) 14));
		LOC20 = 0;
		LOC20 = newrstnode_367097(((NU8) 15));
		add_367142(extranode, LOC20);
		LOC21 = 0;
		LOC21 = newrstnode_367097(((NU8) 16));
		add_367142(extranode, LOC21);
		LOC22 = 0;
		LOC22 = newrstnode_367125(((NU8) 64), ((NimStringDesc*) &TMP2803));
		add_367142((*extranode).sons->data[((NI) 0)], LOC22);
		LOC23 = 0;
		LOC23 = newrstnode_367125(((NU8) 64), ((NimStringDesc*) &TMP2804));
		add_367142((*extranode).sons->data[((NI) 1)], LOC23);
		add_367142((*result).sons->data[((NI) 1)], extranode);
	}
	LA14: ;
	(*result).kind = ((NU8) 47);
	return result;
}

N_NIMCALL(Rstnode367012*, dirindex_374025)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	result = parsedirective_373336(p, 0, parsesectionwrapper_373091);
	(*result).kind = ((NU8) 51);
	return result;
}

N_NIMCALL(Rstnode367012*, getreferencename_369182)(Rstparser368482* p, NimStringDesc* endstr) {
	Rstnode367012* result;
	Rstnode367012* res;
	result = 0;
	res = newrstnode_367097(((NU8) 0));
	{
		while (1) {
			switch ((*p).tok->data[(*p).idx].kind) {
			case ((NU8) 3):
			case ((NU8) 6):
			case ((NU8) 2):
			{
				Rstnode367012* LOC4;
				LOC4 = 0;
				LOC4 = newleaf_369177(p);
				add_367142(res, LOC4);
			}
			break;
			case ((NU8) 5):
			{
				{
					if (!eqStrings((*p).tok->data[(*p).idx].symbol, endstr)) goto LA8;
					(*p).idx += ((NI) 1);
					goto LA1;
				}
				goto LA6;
				LA8: ;
				{
					Rstnode367012* LOC11;
					LOC11 = 0;
					LOC11 = newleaf_369177(p);
					add_367142(res, LOC11);
				}
				LA6: ;
			}
			break;
			default:
			{
				rstmessage_368724((&(*p)), ((NU8) 1), endstr);
				goto LA1;
			}
			break;
			}
			(*p).idx += ((NI) 1);
		}
	} LA1: ;
	result = res;
	return result;
}

N_NIMCALL(Rstnode367012*, untileol_369208)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	result = newrstnode_367097(((NU8) 0));
	{
		while (1) {
			Rstnode367012* LOC3;
			if (!!(((3 &(1U<<((NU)((*p).tok->data[(*p).idx].kind)&7U)))!=0))) goto LA2;
			LOC3 = 0;
			LOC3 = newleaf_369177(p);
			add_367142(result, LOC3);
			(*p).idx += ((NI) 1);
		} LA2: ;
	}
	return result;
}

N_NIMCALL(void, expect_369234)(Rstparser368482* p, NimStringDesc* tok) {
	{
		if (!eqStrings((*p).tok->data[(*p).idx].symbol, tok)) goto LA3;
		(*p).idx += ((NI) 1);
	}
	goto LA1;
	LA3: ;
	{
		rstmessage_368724((&(*p)), ((NU8) 1), tok);
	}
	LA1: ;
}

N_NIMCALL(void, setsub_369061)(Rstparser368482* p, NimStringDesc* key, Rstnode367012* value) {
	NI length;
	NimStringDesc* LOC8;
{	length = ((*(*p).s).subs ? (*(*p).s).subs->Sup.len : 0);
	{
		NI i_369087;
		NI HEX3Atmp_369099;
		NI res_369102;
		i_369087 = 0;
		HEX3Atmp_369099 = 0;
		HEX3Atmp_369099 = (NI)(length - ((NI) 1));
		res_369102 = ((NI) 0);
		{
			while (1) {
				if (!(res_369102 <= HEX3Atmp_369099)) goto LA3;
				i_369087 = res_369102;
				{
					if (!eqStrings(key, (*(*p).s).subs->data[i_369087].key)) goto LA6;
					asgnRefNoCycle((void**) (&(*(*p).s).subs->data[i_369087].value), value);
					goto BeforeRet;
				}
				LA6: ;
				res_369102 += ((NI) 1);
			} LA3: ;
		}
	}
	(*(*p).s).subs = (TY368492*) setLengthSeq(&((*(*p).s).subs)->Sup, sizeof(Substitution368476), ((NI) ((NI)(length + ((NI) 1)))));
	LOC8 = 0;
	LOC8 = (*(*p).s).subs->data[length].key; (*(*p).s).subs->data[length].key = copyStringRC1(key);
	if (LOC8) nimGCunrefNoCycle(LOC8);
	asgnRefNoCycle((void**) (&(*(*p).s).subs->data[length].value), value);
	}BeforeRet: ;
}

N_NIMCALL(Rstnode367012*, parsecomment_370544)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	switch ((*p).tok->data[(*p).idx].kind) {
	case ((NU8) 1):
	case ((NU8) 0):
	{
		{
			NIM_BOOL LOC4;
			LOC4 = 0;
			LOC4 = !(((*p).tok->data[(*p).idx].kind == ((NU8) 0)));
			if (!(LOC4)) goto LA5;
			LOC4 = ((*p).tok->data[(NI)((*p).idx + ((NI) 1))].kind == ((NU8) 1));
			LA5: ;
			if (!LOC4) goto LA6;
			(*p).idx += ((NI) 1);
		}
		goto LA2;
		LA6: ;
		{
			NI indent;
			indent = (*p).tok->data[(*p).idx].ival;
			{
				while (1) {
					switch ((*p).tok->data[(*p).idx].kind) {
					case ((NU8) 0):
					{
						goto LA9;
					}
					break;
					case ((NU8) 1):
					{
						{
							if (!((*p).tok->data[(*p).idx].ival < indent)) goto LA15;
							goto LA9;
						}
						LA15: ;
					}
					break;
					default:
					{
					}
					break;
					}
					(*p).idx += ((NI) 1);
				}
			} LA9: ;
		}
		LA2: ;
	}
	break;
	default:
	{
		{
			while (1) {
				if (!!(((3 &(1U<<((NU)((*p).tok->data[(*p).idx].kind)&7U)))!=0))) goto LA20;
				(*p).idx += ((NI) 1);
			} LA20: ;
		}
	}
	break;
	}
	result = NIM_NIL;
	return result;
}

N_NIMCALL(Rstnode367012*, parsedotdot_371464)(Rstparser368482* p) {
	Rstnode367012* result;
	NI col;
	NimStringDesc* d;
	result = 0;
	result = NIM_NIL;
	col = (*p).tok->data[(*p).idx].col;
	(*p).idx += ((NI) 1);
	d = getdirective_370436(p);
	{
		NU8 LOC5;
		if (!!(((d) && (d)->Sup.len == 0))) goto LA3;
		pushind_368805(p, col);
		LOC5 = 0;
		LOC5 = getdirkind_370629(d);
		switch (LOC5) {
		case ((NU8) 9):
		{
			result = dirinclude_373357(p);
		}
		break;
		case ((NU8) 8):
		{
			result = dirimage_374001(p);
		}
		break;
		case ((NU8) 7):
		{
			result = dirfigure_374007(p);
		}
		break;
		case ((NU8) 12):
		{
			result = dirtitle_374013(p);
		}
		break;
		case ((NU8) 5):
		{
			result = dircontainer_373602(p);
		}
		break;
		case ((NU8) 6):
		{
			result = dircontents_374019(p);
		}
		break;
		case ((NU8) 11):
		{
			{
				if (!(((*(*p).s).options &(1U<<((NU)(((NU8) 2))&7U)))!=0)) goto LA15;
				result = dirraw_374043(p);
			}
			goto LA13;
			LA15: ;
			{
				rstmessage_368724((&(*p)), ((NU8) 5), d);
			}
			LA13: ;
		}
		break;
		case ((NU8) 3):
		{
			result = dircodeblock_373380(p, NIM_FALSE);
		}
		break;
		case ((NU8) 4):
		{
			result = dircodeblock_373380(p, NIM_TRUE);
		}
		break;
		case ((NU8) 10):
		{
			result = dirindex_374025(p);
		}
		break;
		default:
		{
			rstmessage_368724((&(*p)), ((NU8) 5), d);
		}
		break;
		}
		popind_368820(p);
	}
	goto LA1;
	LA3: ;
	{
		NIM_BOOL LOC23;
		Rstnode367012* a;
		Rstnode367012* b;
		NimStringDesc* LOC30;
		LOC23 = 0;
		LOC23 = match_369327((&(*p)), (*p).idx, ((NimStringDesc*) &TMP2805));
		if (!LOC23) goto LA24;
		(*p).idx += ((NI) 2);
		a = getreferencename_369182(p, ((NimStringDesc*) &TMP2793));
		{
			if (!((*p).tok->data[(*p).idx].kind == ((NU8) 2))) goto LA28;
			(*p).idx += ((NI) 1);
		}
		LA28: ;
		b = untileol_369208(p);
		LOC30 = 0;
		LOC30 = rstnodetorefname_368049(a);
		setref_369106(p, LOC30, b);
	}
	goto LA1;
	LA24: ;
	{
		NIM_BOOL LOC32;
		Rstnode367012* a;
		Rstnode367012* b;
		NimStringDesc* LOC49;
		LOC32 = 0;
		LOC32 = match_369327((&(*p)), (*p).idx, ((NimStringDesc*) &TMP2806));
		if (!LOC32) goto LA33;
		(*p).idx += ((NI) 2);
		a = getreferencename_369182(p, ((NimStringDesc*) &TMP2690));
		b = 0;
		{
			if (!((*p).tok->data[(*p).idx].kind == ((NU8) 2))) goto LA37;
			(*p).idx += ((NI) 1);
		}
		LA37: ;
		{
			NI LOC41;
			LOC41 = 0;
			LOC41 = nsuCmpIgnoreStyle((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2807));
			if (!(LOC41 == ((NI) 0))) goto LA42;
			(*p).idx += ((NI) 1);
			expect_369234(p, ((NimStringDesc*) &TMP2686));
			b = untileol_369208(p);
		}
		goto LA39;
		LA42: ;
		{
			NI LOC45;
			LOC45 = 0;
			LOC45 = nsuCmpIgnoreStyle((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2708));
			if (!(LOC45 == ((NI) 0))) goto LA46;
			(*p).idx += ((NI) 1);
			b = dirimage_374001(p);
		}
		goto LA39;
		LA46: ;
		{
			rstmessage_368724((&(*p)), ((NU8) 5), (*p).tok->data[(*p).idx].symbol);
		}
		LA39: ;
		LOC49 = 0;
		LOC49 = addnodes_368052(a);
		setsub_369061(p, LOC49, b);
	}
	goto LA1;
	LA33: ;
	{
		NIM_BOOL LOC51;
		Rstnode367012* a;
		Rstnode367012* b;
		NimStringDesc* LOC58;
		LOC51 = 0;
		LOC51 = match_369327((&(*p)), (*p).idx, ((NimStringDesc*) &TMP2808));
		if (!LOC51) goto LA52;
		(*p).idx += ((NI) 2);
		a = getreferencename_369182(p, ((NimStringDesc*) &TMP2809));
		{
			if (!((*p).tok->data[(*p).idx].kind == ((NU8) 2))) goto LA56;
			(*p).idx += ((NI) 1);
		}
		LA56: ;
		b = untileol_369208(p);
		LOC58 = 0;
		LOC58 = rstnodetorefname_368049(a);
		setref_369106(p, LOC58, b);
	}
	goto LA1;
	LA52: ;
	{
		result = parsecomment_370544(p);
	}
	LA1: ;
	return result;
}

N_NIMCALL(Rstnode367012*, parseenumlist_372883)(Rstparser368482* p) {
	Rstnode367012* result;
	NI w;
	result = 0;
	result = NIM_NIL;
	w = ((NI) 0);
	{
		while (1) {
			if (!(w <= ((NI) 2))) goto LA2;
			{
				NIM_BOOL LOC5;
				LOC5 = 0;
				LOC5 = match_369327((&(*p)), (*p).idx, wildcards_372888[(w)- 0]);
				if (!LOC5) goto LA6;
				goto LA1;
			}
			LA6: ;
			w += ((NI) 1);
		} LA2: ;
	} LA1: ;
	{
		NI col;
		NI j;
		if (!(w <= ((NI) 2))) goto LA10;
		col = (*p).tok->data[(*p).idx].col;
		result = newrstnode_367097(((NU8) 7));
		(*p).idx += (NI)(wildpos_372893[(w)- 0] + ((NI) 3));
		j = tokenafternewline_371550((&(*p)));
		{
			NIM_BOOL LOC14;
			LOC14 = 0;
			LOC14 = ((*p).tok->data[j].col == (*p).tok->data[(*p).idx].col);
			if (LOC14) goto LA15;
			LOC14 = match_369327((&(*p)), j, wildcards_372888[(w)- 0]);
			LA15: ;
			if (!LOC14) goto LA16;
			pushind_368805(p, (*p).tok->data[(*p).idx].col);
			{
				while (1) {
					Rstnode367012* item;
					item = newrstnode_367097(((NU8) 8));
					parsesection_370696(p, item);
					add_367142(result, item);
					{
						NIM_BOOL LOC22;
						NIM_BOOL LOC23;
						LOC22 = 0;
						LOC23 = 0;
						LOC23 = ((*p).tok->data[(*p).idx].kind == ((NU8) 1));
						if (!(LOC23)) goto LA24;
						LOC23 = ((*p).tok->data[(*p).idx].ival == col);
						LA24: ;
						LOC22 = LOC23;
						if (!(LOC22)) goto LA25;
						LOC22 = match_369327((&(*p)), (NI)((*p).idx + ((NI) 1)), wildcards_372888[(w)- 0]);
						LA25: ;
						if (!LOC22) goto LA26;
						(*p).idx += (NI)(wildpos_372893[(w)- 0] + ((NI) 4));
					}
					goto LA20;
					LA26: ;
					{
						goto LA18;
					}
					LA20: ;
				}
			} LA18: ;
			popind_368820(p);
		}
		goto LA12;
		LA16: ;
		{
			(*p).idx -= (NI)(wildpos_372893[(w)- 0] + ((NI) 3));
			result = NIM_NIL;
		}
		LA12: ;
	}
	LA10: ;
	return result;
}

N_NIMCALL(Rstnode367012*, parsedefinitionlist_372807)(Rstparser368482* p) {
	Rstnode367012* result;
	NI j;
	NI LOC1;
	result = 0;
	result = NIM_NIL;
	LOC1 = 0;
	LOC1 = tokenafternewline_371550((&(*p)));
	j = (NI)(LOC1 - ((NI) 1));
	{
		NIM_BOOL LOC4;
		NIM_BOOL LOC5;
		NIM_BOOL LOC6;
		NI LOC9;
		NI col;
		LOC4 = 0;
		LOC5 = 0;
		LOC6 = 0;
		LOC6 = (((NI) 1) <= j);
		if (!(LOC6)) goto LA7;
		LOC6 = ((*p).tok->data[j].kind == ((NU8) 1));
		LA7: ;
		LOC5 = LOC6;
		if (!(LOC5)) goto LA8;
		LOC9 = 0;
		LOC9 = currind_368801((&(*p)));
		LOC5 = (LOC9 < (*p).tok->data[j].ival);
		LA8: ;
		LOC4 = LOC5;
		if (!(LOC4)) goto LA10;
		LOC4 = !(eqStrings((*p).tok->data[(NI)(j - ((NI) 1))].symbol, ((NimStringDesc*) &TMP2686)));
		LA10: ;
		if (!LOC4) goto LA11;
		col = (*p).tok->data[(*p).idx].col;
		result = newrstnode_367097(((NU8) 9));
		{
			while (1) {
				Rstnode367012* a;
				j = (*p).idx;
				a = newrstnode_367097(((NU8) 11));
				parseline_370684(p, a);
				{
					NIM_BOOL LOC17;
					NIM_BOOL LOC18;
					NIM_BOOL LOC19;
					NI LOC21;
					Rstnode367012* b;
					Rstnode367012* c;
					LOC17 = 0;
					LOC18 = 0;
					LOC19 = 0;
					LOC19 = ((*p).tok->data[(*p).idx].kind == ((NU8) 1));
					if (!(LOC19)) goto LA20;
					LOC21 = 0;
					LOC21 = currind_368801((&(*p)));
					LOC19 = (LOC21 < (*p).tok->data[(*p).idx].ival);
					LA20: ;
					LOC18 = LOC19;
					if (!(LOC18)) goto LA22;
					LOC18 = !(eqStrings((*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol, ((NimStringDesc*) &TMP2686)));
					LA22: ;
					LOC17 = LOC18;
					if (!(LOC17)) goto LA23;
					LOC17 = !(((3 &(1U<<((NU)((*p).tok->data[(NI)((*p).idx + ((NI) 1))].kind)&7U)))!=0));
					LA23: ;
					if (!LOC17) goto LA24;
					pushind_368805(p, (*p).tok->data[(*p).idx].ival);
					b = newrstnode_367097(((NU8) 12));
					parsesection_370696(p, b);
					c = newrstnode_367097(((NU8) 10));
					add_367142(c, a);
					add_367142(c, b);
					add_367142(result, c);
					popind_368820(p);
				}
				goto LA15;
				LA24: ;
				{
					(*p).idx = j;
					goto LA13;
				}
				LA15: ;
				{
					NIM_BOOL LOC29;
					NI LOC33;
					LOC29 = 0;
					LOC29 = ((*p).tok->data[(*p).idx].kind == ((NU8) 1));
					if (!(LOC29)) goto LA30;
					LOC29 = ((*p).tok->data[(*p).idx].ival == col);
					LA30: ;
					if (!LOC29) goto LA31;
					(*p).idx += ((NI) 1);
					LOC33 = 0;
					LOC33 = tokenafternewline_371550((&(*p)));
					j = (NI)(LOC33 - ((NI) 1));
					{
						NIM_BOOL LOC36;
						NIM_BOOL LOC37;
						NIM_BOOL LOC38;
						NIM_BOOL LOC39;
						LOC36 = 0;
						LOC37 = 0;
						LOC38 = 0;
						LOC39 = 0;
						LOC39 = (((NI) 1) <= j);
						if (!(LOC39)) goto LA40;
						LOC39 = ((*p).tok->data[j].kind == ((NU8) 1));
						LA40: ;
						LOC38 = LOC39;
						if (!(LOC38)) goto LA41;
						LOC38 = (col < (*p).tok->data[j].ival);
						LA41: ;
						LOC37 = LOC38;
						if (!(LOC37)) goto LA42;
						LOC37 = !(eqStrings((*p).tok->data[(NI)(j - ((NI) 1))].symbol, ((NimStringDesc*) &TMP2686)));
						LA42: ;
						LOC36 = LOC37;
						if (!(LOC36)) goto LA43;
						LOC36 = !(((*p).tok->data[(NI)(j + ((NI) 1))].kind == ((NU8) 1)));
						LA43: ;
						if (!LOC36) goto LA44;
					}
					goto LA34;
					LA44: ;
					{
						goto LA13;
					}
					LA34: ;
				}
				LA31: ;
			}
		} LA13: ;
		{
			NI LOC49;
			LOC49 = 0;
			LOC49 = len_367085(result);
			if (!(LOC49 == ((NI) 0))) goto LA50;
			result = NIM_NIL;
		}
		LA50: ;
	}
	LA11: ;
	return result;
}

N_NIMCALL(Rstnode367012*, parsetransition_372546)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	result = newrstnode_367097(((NU8) 3));
	(*p).idx += ((NI) 1);
	{
		if (!((*p).tok->data[(*p).idx].kind == ((NU8) 1))) goto LA3;
		(*p).idx += ((NI) 1);
	}
	LA3: ;
	{
		if (!((*p).tok->data[(*p).idx].kind == ((NU8) 1))) goto LA7;
		(*p).idx += ((NI) 1);
	}
	LA7: ;
	return result;
}

N_NIMCALL(void, parseuntilnewline_370690)(Rstparser368482* p, Rstnode367012* father) {
	{
		while (1) {
			switch ((*p).tok->data[(*p).idx].kind) {
			case ((NU8) 2):
			case ((NU8) 3):
			case ((NU8) 4):
			case ((NU8) 6):
			case ((NU8) 5):
			{
				parseinline_370328(p, father);
			}
			break;
			case ((NU8) 0):
			case ((NU8) 1):
			{
				goto LA1;
			}
			break;
			}
		}
	} LA1: ;
}

N_NIMCALL(NI, getlevel_371533)(NI* map, NI* lvl, NIM_CHAR c) {
	NI result;
	result = 0;
	{
		if (!(map[(((NU8)(c)))- 0] == ((NI) 0))) goto LA3;
		(*lvl) += ((NI) 1);
		map[(((NU8)(c)))- 0] = (*lvl);
	}
	LA3: ;
	result = map[(((NU8)(c)))- 0];
	return result;
}

N_NIMCALL(Rstnode367012*, parseheadline_371728)(Rstparser368482* p) {
	Rstnode367012* result;
	NIM_CHAR c;
	result = 0;
	result = newrstnode_367097(((NU8) 1));
	parseuntilnewline_370690(p, result);
	c = (*p).tok->data[(NI)((*p).idx + ((NI) 1))].symbol->data[((NI) 0)];
	(*p).idx += ((NI) 2);
	(*result).level = getlevel_371533((*(*p).s).underlinetolevel, (&(*(*p).s).ulevel), c);
	return result;
}

N_NIMCALL(Rstnode367012*, parseoverline_372596)(Rstparser368482* p) {
	Rstnode367012* result;
	NIM_CHAR c;
	result = 0;
	c = (*p).tok->data[(*p).idx].symbol->data[((NI) 0)];
	(*p).idx += ((NI) 2);
	result = newrstnode_367097(((NU8) 2));
	{
		while (1) {
			parseuntilnewline_370690(p, result);
			{
				if (!((*p).tok->data[(*p).idx].kind == ((NU8) 1))) goto LA5;
				(*p).idx += ((NI) 1);
				{
					NI LOC9;
					Rstnode367012* LOC12;
					LOC9 = 0;
					LOC9 = currind_368801((&(*p)));
					if (!(LOC9 < (*p).tok->data[(NI)((*p).idx - ((NI) 1))].ival)) goto LA10;
					LOC12 = 0;
					LOC12 = newrstnode_367125(((NU8) 64), ((NimStringDesc*) &TMP2719));
					add_367142(result, LOC12);
				}
				goto LA7;
				LA10: ;
				{
					goto LA1;
				}
				LA7: ;
			}
			goto LA3;
			LA5: ;
			{
				goto LA1;
			}
			LA3: ;
		}
	} LA1: ;
	(*result).level = getlevel_371533((*(*p).s).overlinetolevel, (&(*(*p).s).olevel), c);
	{
		if (!((*p).tok->data[(*p).idx].kind == ((NU8) 4))) goto LA17;
		(*p).idx += ((NI) 1);
		{
			if (!((*p).tok->data[(*p).idx].kind == ((NU8) 1))) goto LA21;
			(*p).idx += ((NI) 1);
		}
		LA21: ;
	}
	LA17: ;
	return result;
}

N_NIMCALL(NI, tokend_372016)(Rstparser368482* p) {
	NI result;
	result = 0;
	result = (NI)((NI)((*p).tok->data[(*p).idx].col + ((*p).tok->data[(*p).idx].symbol ? (*p).tok->data[(*p).idx].symbol->Sup.len : 0)) - ((NI) 1));
	return result;
}

N_NIMCALL(void, getcolumns_372020)(Rstparser368482* p, TY368503** cols) {
	NI L;
	L = ((NI) 0);
	{
		while (1) {
			L += ((NI) 1);
			(*cols) = (TY368503*) setLengthSeq(&((*cols))->Sup, sizeof(NI), ((NI) (L)));
			(*cols)->data[(NI)(L - ((NI) 1))] = tokend_372016((&(*p)));
			(*p).idx += ((NI) 1);
			{
				if (!!(((*p).tok->data[(*p).idx].kind == ((NU8) 2)))) goto LA5;
				goto LA1;
			}
			LA5: ;
			(*p).idx += ((NI) 1);
			{
				if (!!(((*p).tok->data[(*p).idx].kind == ((NU8) 4)))) goto LA9;
				goto LA1;
			}
			LA9: ;
		}
	} LA1: ;
	{
		if (!((*p).tok->data[(*p).idx].kind == ((NU8) 1))) goto LA13;
		(*p).idx += ((NI) 1);
	}
	LA13: ;
	(*cols)->data[(NI)(L - ((NI) 1))] = ((NI) 32000);
}

N_NIMCALL(Rstnode367012*, parsesimpletable_372261)(Rstparser368482* p) {
	Rstnode367012* result;
	TY368503* cols;
	TY135002* row;
	NI i;
	NI last;
	NI line;
	NIM_CHAR c;
	Rstparser368482 q;
	Rstnode367012* a;
	Rstnode367012* b;
	result = 0;
	cols = 0;
	row = 0;
	i = 0;
	last = 0;
	line = 0;
	c = 0;
	memset((void*)(&q), 0, sizeof(q));
	q.Sup.m_type = (&NTI368482);
	a = 0;
	b = 0;
	result = newrstnode_367097(((NU8) 29));
	cols = (TY368503*) newSeq((&NTI368503), 0);
	row = (TY135002*) newSeq((&NTI135002), 0);
	a = NIM_NIL;
	c = (*p).tok->data[(*p).idx].symbol->data[((NI) 0)];
	{
		while (1) {
			{
				if (!((*p).tok->data[(*p).idx].kind == ((NU8) 4))) goto LA5;
				last = tokenafternewline_371550((&(*p)));
				{
					if (!((3 &(1U<<((NU)((*p).tok->data[last].kind)&7U)))!=0)) goto LA9;
					(*p).idx = last;
					goto LA1;
				}
				LA9: ;
				getcolumns_372020(p, (&cols));
				row = (TY135002*) setLengthSeq(&(row)->Sup, sizeof(NimStringDesc*), ((NI) ((cols ? cols->Sup.len : 0))));
				{
					if (!!((a == NIM_NIL))) goto LA13;
					{
						NI j_372368;
						NI HEX3Atmp_372513;
						NI LOC16;
						NI res_372516;
						j_372368 = 0;
						HEX3Atmp_372513 = 0;
						LOC16 = 0;
						LOC16 = len_367085(a);
						HEX3Atmp_372513 = (NI)(LOC16 - ((NI) 1));
						res_372516 = ((NI) 0);
						{
							while (1) {
								if (!(res_372516 <= HEX3Atmp_372513)) goto LA18;
								j_372368 = res_372516;
								(*(*a).sons->data[j_372368]).kind = ((NU8) 32);
								res_372516 += ((NI) 1);
							} LA18: ;
						}
					}
				}
				LA13: ;
			}
			LA5: ;
			{
				if (!((*p).tok->data[(*p).idx].kind == ((NU8) 0))) goto LA21;
				goto LA1;
			}
			LA21: ;
			{
				NI j_372389;
				NI HEX3Atmp_372521;
				NI res_372524;
				j_372389 = 0;
				HEX3Atmp_372521 = 0;
				HEX3Atmp_372521 = (row ? (row->Sup.len-1) : -1);
				res_372524 = ((NI) 0);
				{
					while (1) {
						NimStringDesc* LOC26;
						if (!(res_372524 <= HEX3Atmp_372521)) goto LA25;
						j_372389 = res_372524;
						LOC26 = 0;
						LOC26 = row->data[j_372389]; row->data[j_372389] = copyStringRC1(((NimStringDesc*) &TMP2287));
						if (LOC26) nimGCunrefNoCycle(LOC26);
						res_372524 += ((NI) 1);
					} LA25: ;
				}
			}
			line = (*p).tok->data[(*p).idx].line;
			{
				while (1) {
					i = ((NI) 0);
					{
						while (1) {
							if (!!(((3 &(1U<<((NU)((*p).tok->data[(*p).idx].kind)&7U)))!=0))) goto LA30;
							{
								NI LOC33;
								LOC33 = 0;
								LOC33 = tokend_372016((&(*p)));
								if (!(LOC33 <= cols->data[i])) goto LA34;
								row->data[i] = resizeString(row->data[i], (*p).tok->data[(*p).idx].symbol->Sup.len + 0);
appendString(row->data[i], (*p).tok->data[(*p).idx].symbol);
								(*p).idx += ((NI) 1);
							}
							goto LA31;
							LA34: ;
							{
								{
									if (!((*p).tok->data[(*p).idx].kind == ((NU8) 2))) goto LA39;
									(*p).idx += ((NI) 1);
								}
								LA39: ;
								i += ((NI) 1);
							}
							LA31: ;
						} LA30: ;
					}
					{
						if (!((*p).tok->data[(*p).idx].kind == ((NU8) 1))) goto LA43;
						(*p).idx += ((NI) 1);
					}
					LA43: ;
					{
						NI LOC47;
						LOC47 = 0;
						LOC47 = tokend_372016((&(*p)));
						if (!(LOC47 <= cols->data[((NI) 0)])) goto LA48;
						goto LA27;
					}
					LA48: ;
					{
						if (!((17 &(1U<<((NU)((*p).tok->data[(*p).idx].kind)&7U)))!=0)) goto LA52;
						goto LA27;
					}
					LA52: ;
					{
						NI j_372477;
						NI HEX3Atmp_372531;
						NI res_372534;
						j_372477 = 0;
						HEX3Atmp_372531 = 0;
						HEX3Atmp_372531 = (row ? (row->Sup.len-1) : -1);
						res_372534 = ((NI) 1);
						{
							while (1) {
								if (!(res_372534 <= HEX3Atmp_372531)) goto LA56;
								j_372477 = res_372534;
								row->data[j_372477] = addChar(row->data[j_372477], 10);
								res_372534 += ((NI) 1);
							} LA56: ;
						}
					}
				}
			} LA27: ;
			a = newrstnode_367097(((NU8) 31));
			{
				NI j_372489;
				NI HEX3Atmp_372539;
				NI res_372542;
				j_372489 = 0;
				HEX3Atmp_372539 = 0;
				HEX3Atmp_372539 = (row ? (row->Sup.len-1) : -1);
				res_372542 = ((NI) 0);
				{
					while (1) {
						NI LOC60;
						Rstnode367012* LOC61;
						if (!(res_372542 <= HEX3Atmp_372539)) goto LA59;
						j_372489 = res_372542;
						initparser_368850((&q), (*p).s);
						q.col = cols->data[j_372489];
						q.line = (NI)(line - ((NI) 1));
						q.filename = copyString((*p).filename);
						LOC60 = 0;
						LOC60 = gettokens_368342(row->data[j_372489], NIM_FALSE, (&q.tok));
						q.col += LOC60;
						b = newrstnode_367097(((NU8) 33));
						LOC61 = 0;
						LOC61 = parsedoc_372257((&q));
						add_367142(b, LOC61);
						add_367142(a, b);
						res_372542 += ((NI) 1);
					} LA59: ;
				}
			}
			add_367142(result, a);
		}
	} LA1: ;
	return result;
}

N_NIMCALL(Rstnode367012*, parseoptionlist_372722)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	result = newrstnode_367097(((NU8) 17));
	{
		while (1) {
			{
				NIM_BOOL LOC5;
				Rstnode367012* a;
				Rstnode367012* b;
				Rstnode367012* c;
				NI j;
				LOC5 = 0;
				LOC5 = isoptionlist_371607((&(*p)));
				if (!LOC5) goto LA6;
				a = newrstnode_367097(((NU8) 19));
				b = newrstnode_367097(((NU8) 23));
				c = newrstnode_367097(((NU8) 18));
				{
					NIM_BOOL LOC10;
					LOC10 = 0;
					LOC10 = match_369327((&(*p)), (*p).idx, ((NimStringDesc*) &TMP2698));
					if (!LOC10) goto LA11;
					(*p).idx += ((NI) 1);
				}
				LA11: ;
				{
					while (1) {
						Rstnode367012* LOC21;
						if (!!(((3 &(1U<<((NU)((*p).tok->data[(*p).idx].kind)&7U)))!=0))) goto LA14;
						{
							NIM_BOOL LOC17;
							LOC17 = 0;
							LOC17 = ((*p).tok->data[(*p).idx].kind == ((NU8) 2));
							if (!(LOC17)) goto LA18;
							LOC17 = (((NI) 1) < ((*p).tok->data[(*p).idx].symbol ? (*p).tok->data[(*p).idx].symbol->Sup.len : 0));
							LA18: ;
							if (!LOC17) goto LA19;
							(*p).idx += ((NI) 1);
							goto LA13;
						}
						LA19: ;
						LOC21 = 0;
						LOC21 = newleaf_369177(p);
						add_367142(a, LOC21);
						(*p).idx += ((NI) 1);
					} LA14: ;
				} LA13: ;
				j = tokenafternewline_371550((&(*p)));
				{
					NIM_BOOL LOC24;
					NIM_BOOL LOC25;
					NI LOC28;
					LOC24 = 0;
					LOC25 = 0;
					LOC25 = (((NI) 0) < j);
					if (!(LOC25)) goto LA26;
					LOC25 = ((*p).tok->data[(NI)(j - ((NI) 1))].kind == ((NU8) 1));
					LA26: ;
					LOC24 = LOC25;
					if (!(LOC24)) goto LA27;
					LOC28 = 0;
					LOC28 = currind_368801((&(*p)));
					LOC24 = (LOC28 < (*p).tok->data[(NI)(j - ((NI) 1))].ival);
					LA27: ;
					if (!LOC24) goto LA29;
					pushind_368805(p, (*p).tok->data[(NI)(j - ((NI) 1))].ival);
					parsesection_370696(p, b);
					popind_368820(p);
				}
				goto LA22;
				LA29: ;
				{
					parseline_370684(p, b);
				}
				LA22: ;
				{
					if (!((*p).tok->data[(*p).idx].kind == ((NU8) 1))) goto LA34;
					(*p).idx += ((NI) 1);
				}
				LA34: ;
				add_367142(c, a);
				add_367142(c, b);
				add_367142(result, c);
			}
			goto LA3;
			LA6: ;
			{
				goto LA1;
			}
			LA3: ;
		}
	} LA1: ;
	return result;
}

N_NIMCALL(void, parseparagraph_371677)(Rstparser368482* p, Rstnode367012* result) {
	{
		while (1) {
			switch ((*p).tok->data[(*p).idx].kind) {
			case ((NU8) 1):
			{
				{
					if (!((*p).tok->data[(NI)((*p).idx + ((NI) 1))].kind == ((NU8) 1))) goto LA6;
					(*p).idx += ((NI) 1);
					goto LA1;
				}
				goto LA4;
				LA6: ;
				{
					NI LOC9;
					NU8 LOC12;
					LOC9 = 0;
					LOC9 = currind_368801((&(*p)));
					if (!((*p).tok->data[(*p).idx].ival == LOC9)) goto LA10;
					(*p).idx += ((NI) 1);
					LOC12 = 0;
					LOC12 = whichsection_371611((&(*p)));
					switch (LOC12) {
					case ((NU8) 4):
					case ((NU8) 64):
					case ((NU8) 1):
					case ((NU8) 2):
					case ((NU8) 40):
					{
						Rstnode367012* LOC14;
						LOC14 = 0;
						LOC14 = newrstnode_367125(((NU8) 64), ((NimStringDesc*) &TMP2719));
						add_367142(result, LOC14);
					}
					break;
					case ((NU8) 26):
					{
						Rstnode367012* LOC16;
						LOC16 = 0;
						LOC16 = parselineblock_371624(p);
						addifnotnil_367156(result, LOC16);
					}
					break;
					default:
					{
						goto LA1;
					}
					break;
					}
				}
				goto LA4;
				LA10: ;
				{
					goto LA1;
				}
				LA4: ;
			}
			break;
			case ((NU8) 5):
			{
				{
					NIM_BOOL LOC22;
					NIM_BOOL LOC23;
					NI LOC26;
					Rstnode367012* LOC29;
					Rstnode367012* LOC30;
					LOC22 = 0;
					LOC23 = 0;
					LOC23 = eqStrings((*p).tok->data[(*p).idx].symbol, ((NimStringDesc*) &TMP2686));
					if (!(LOC23)) goto LA24;
					LOC23 = ((*p).tok->data[(NI)((*p).idx + ((NI) 1))].kind == ((NU8) 1));
					LA24: ;
					LOC22 = LOC23;
					if (!(LOC22)) goto LA25;
					LOC26 = 0;
					LOC26 = currind_368801((&(*p)));
					LOC22 = (LOC26 < (*p).tok->data[(NI)((*p).idx + ((NI) 1))].ival);
					LA25: ;
					if (!LOC22) goto LA27;
					LOC29 = 0;
					LOC29 = newrstnode_367125(((NU8) 64), ((NimStringDesc*) &TMP2793));
					add_367142(result, LOC29);
					(*p).idx += ((NI) 1);
					LOC30 = 0;
					LOC30 = parseliteralblock_371468(p);
					add_367142(result, LOC30);
					goto LA1;
				}
				goto LA20;
				LA27: ;
				{
					parseinline_370328(p, result);
				}
				LA20: ;
			}
			break;
			case ((NU8) 2):
			case ((NU8) 3):
			case ((NU8) 4):
			case ((NU8) 6):
			{
				parseinline_370328(p, result);
			}
			break;
			default:
			{
				goto LA1;
			}
			break;
			}
		}
	} LA1: ;
}

N_NIMCALL(NU8, sonkind_372949)(Rstnode367012* father, NI i) {
	NU8 result;
	result = 0;
	result = ((NU8) 64);
	{
		NI LOC3;
		LOC3 = 0;
		LOC3 = len_367085(father);
		if (!(i < LOC3)) goto LA4;
		result = (*(*father).sons->data[i]).kind;
	}
	LA4: ;
	return result;
}

N_NIMCALL(void, parsesection_370696)(Rstparser368482* p, Rstnode367012* result) {
	{
		while (1) {
			NIM_BOOL leave;
			Rstnode367012* a;
			NU8 k;
			leave = NIM_FALSE;
			{
				while (1) {
					if (!((*p).tok->data[(*p).idx].kind == ((NU8) 1))) goto LA4;
					{
						NI LOC7;
						LOC7 = 0;
						LOC7 = currind_368801((&(*p)));
						if (!(LOC7 == (*p).tok->data[(*p).idx].ival)) goto LA8;
						(*p).idx += ((NI) 1);
					}
					goto LA5;
					LA8: ;
					{
						NI LOC11;
						Rstnode367012* a;
						LOC11 = 0;
						LOC11 = currind_368801((&(*p)));
						if (!(LOC11 < (*p).tok->data[(*p).idx].ival)) goto LA12;
						pushind_368805(p, (*p).tok->data[(*p).idx].ival);
						a = newrstnode_367097(((NU8) 28));
						parsesection_370696(p, a);
						add_367142(result, a);
						popind_368820(p);
					}
					goto LA5;
					LA12: ;
					{
						leave = NIM_TRUE;
						goto LA3;
					}
					LA5: ;
				} LA4: ;
			} LA3: ;
			{
				NIM_BOOL LOC17;
				LOC17 = 0;
				LOC17 = leave;
				if (LOC17) goto LA18;
				LOC17 = ((*p).tok->data[(*p).idx].kind == ((NU8) 0));
				LA18: ;
				if (!LOC17) goto LA19;
				goto LA1;
			}
			LA19: ;
			a = NIM_NIL;
			k = whichsection_371611((&(*p)));
			switch (k) {
			case ((NU8) 24):
			{
				(*p).idx += ((NI) 1);
				a = parseliteralblock_371468(p);
			}
			break;
			case ((NU8) 5):
			{
				a = parsebulletlist_372668(p);
			}
			break;
			case ((NU8) 26):
			{
				a = parselineblock_371624(p);
			}
			break;
			case ((NU8) 40):
			{
				a = parsedotdot_371464(p);
			}
			break;
			case ((NU8) 7):
			{
				a = parseenumlist_372883(p);
			}
			break;
			case ((NU8) 64):
			{
				rstmessage_368736((&(*p)), ((NU8) 3));
			}
			break;
			case ((NU8) 4):
			{
			}
			break;
			case ((NU8) 9):
			{
				a = parsedefinitionlist_372807(p);
			}
			break;
			case ((NU8) 13):
			{
				{
					if (!(((NI) 0) < (*p).idx)) goto LA32;
					(*p).idx -= ((NI) 1);
				}
				LA32: ;
				a = parsefields_370728(p);
			}
			break;
			case ((NU8) 3):
			{
				a = parsetransition_372546(p);
			}
			break;
			case ((NU8) 1):
			{
				a = parseheadline_371728(p);
			}
			break;
			case ((NU8) 2):
			{
				a = parseoverline_372596(p);
			}
			break;
			case ((NU8) 29):
			{
				a = parsesimpletable_372261(p);
			}
			break;
			case ((NU8) 17):
			{
				a = parseoptionlist_372722(p);
			}
			break;
			default:
			{
			}
			break;
			}
			{
				NIM_BOOL LOC42;
				LOC42 = 0;
				LOC42 = (a == NIM_NIL);
				if (!(LOC42)) goto LA43;
				LOC42 = !((k == ((NU8) 40)));
				LA43: ;
				if (!LOC42) goto LA44;
				a = newrstnode_367097(((NU8) 4));
				parseparagraph_371677(p, a);
			}
			LA44: ;
			addifnotnil_367156(result, a);
		}
	} LA1: ;
	{
		NIM_BOOL LOC48;
		NU8 LOC49;
		NU8 LOC51;
		LOC48 = 0;
		LOC49 = 0;
		LOC49 = sonkind_372949(result, ((NI) 0));
		LOC48 = (LOC49 == ((NU8) 4));
		if (!(LOC48)) goto LA50;
		LOC51 = 0;
		LOC51 = sonkind_372949(result, ((NI) 1));
		LOC48 = !((LOC51 == ((NU8) 4)));
		LA50: ;
		if (!LOC48) goto LA52;
		(*(*result).sons->data[((NI) 0)]).kind = ((NU8) 0);
	}
	LA52: ;
}

N_NIMCALL(Rstnode367012*, parsesectionwrapper_373091)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	result = newrstnode_367097(((NU8) 0));
	parsesection_370696(p, result);
	{
		while (1) {
			NIM_BOOL LOC3;
			NI LOC5;
			LOC3 = 0;
			LOC3 = ((*result).kind == ((NU8) 0));
			if (!(LOC3)) goto LA4;
			LOC5 = 0;
			LOC5 = len_367085(result);
			LOC3 = (LOC5 == ((NI) 1));
			LA4: ;
			if (!LOC3) goto LA2;
			result = (*result).sons->data[((NI) 0)];
		} LA2: ;
	}
	return result;
}

N_NIMCALL(Rstnode367012*, parsedoc_372257)(Rstparser368482* p) {
	Rstnode367012* result;
	result = 0;
	result = parsesectionwrapper_373091(p);
	{
		if (!!(((*p).tok->data[(*p).idx].kind == ((NU8) 0)))) goto LA3;
		rstmessage_368736((&(*p)), ((NU8) 4));
	}
	LA3: ;
	return result;
}

N_NIMCALL(Rstnode367012*, rstparse_374250)(NimStringDesc* text, NimStringDesc* filename, NI line, NI column, NIM_BOOL* hastoc, NU8 options, Findfilehandler368014 findfile, Msghandler368012 msghandler) {
	Rstnode367012* result;
	Rstparser368482 p;
	Sharedstate368478* LOC1;
	NI LOC2;
	Rstnode367012* LOC3;
	result = 0;
	memset((void*)(&p), 0, sizeof(p));
	p.Sup.m_type = (&NTI368482);
	LOC1 = 0;
	LOC1 = newsharedstate_368659(options, findfile, msghandler);
	initparser_368850((&p), LOC1);
	p.filename = copyString(filename);
	p.line = line;
	LOC2 = 0;
	LOC2 = gettokens_368342(text, ((options &(1U<<((NU)(((NU8) 0))&7U)))!=0), (&p.tok));
	p.col = (NI)(column + LOC2);
	LOC3 = 0;
	LOC3 = parsedoc_372257((&p));
	result = resolvesubs_374196((&p), LOC3);
	(*hastoc) = p.hastoc;
	return result;
}
NIM_EXTERNC N_NOINLINE(void, docutils_rstInit000)(void) {
}

NIM_EXTERNC N_NOINLINE(void, docutils_rstDatInit000)(void) {
static TNimNode* TMP2636[8];
static TNimNode* TMP2637[5];
static TNimNode* TMP2638[7];
NI TMP2640;
static char* NIM_CONST TMP2639[7] = {
"tkEof", 
"tkIndent", 
"tkWhite", 
"tkWord", 
"tkAdornment", 
"tkPunct", 
"tkOther"};
static TNimNode* TMP2642[9];
static TNimNode* TMP2643[4];
NI TMP2645;
static char* NIM_CONST TMP2644[4] = {
"roSkipPounds", 
"roSupportSmilies", 
"roSupportRawDirective", 
"roSupportMarkdown"};
static TNimNode* TMP2646[2];
static TNimNode* TMP2658[10];
NI TMP2660;
static char* NIM_CONST TMP2659[10] = {
"meCannotOpenFile", 
"meExpected", 
"meGridTableNotImplemented", 
"meNewSectionExpected", 
"meGeneralParseError", 
"meInvalidDirective", 
"mwRedefinitionOfLabel", 
"mwUnknownSubstitution", 
"mwUnsupportedLanguage", 
"mwUnsupportedField"};
static TNimNode* TMP2672[3];
NI TMP2674;
static char* NIM_CONST TMP2673[3] = {
"Hint", 
"Warning", 
"Error"};
static TNimNode* TMP2677[6];
static TNimNode TMP986[65];
NTI368482.size = sizeof(Rstparser368482);
NTI368482.kind = 17;
NTI368482.base = (&NTI3608);
TMP2636[0] = &TMP986[1];
TMP986[1].kind = 1;
TMP986[1].offset = offsetof(Rstparser368482, idx);
TMP986[1].typ = (&NTI104);
TMP986[1].name = "idx";
TMP2636[1] = &TMP986[2];
NTI368108.size = sizeof(Token368108);
NTI368108.kind = 18;
NTI368108.base = 0;
NTI368108.flags = 2;
TMP2637[0] = &TMP986[4];
NTI368106.size = sizeof(NU8);
NTI368106.kind = 14;
NTI368106.base = 0;
NTI368106.flags = 3;
for (TMP2640 = 0; TMP2640 < 7; TMP2640++) {
TMP986[TMP2640+5].kind = 1;
TMP986[TMP2640+5].offset = TMP2640;
TMP986[TMP2640+5].name = TMP2639[TMP2640];
TMP2638[TMP2640] = &TMP986[TMP2640+5];
}
TMP986[12].len = 7; TMP986[12].kind = 2; TMP986[12].sons = &TMP2638[0];
NTI368106.node = &TMP986[12];
TMP986[4].kind = 1;
TMP986[4].offset = offsetof(Token368108, kind);
TMP986[4].typ = (&NTI368106);
TMP986[4].name = "kind";
TMP2637[1] = &TMP986[13];
TMP986[13].kind = 1;
TMP986[13].offset = offsetof(Token368108, ival);
TMP986[13].typ = (&NTI104);
TMP986[13].name = "ival";
TMP2637[2] = &TMP986[14];
TMP986[14].kind = 1;
TMP986[14].offset = offsetof(Token368108, symbol);
TMP986[14].typ = (&NTI138);
TMP986[14].name = "symbol";
TMP2637[3] = &TMP986[15];
TMP986[15].kind = 1;
TMP986[15].offset = offsetof(Token368108, line);
TMP986[15].typ = (&NTI104);
TMP986[15].name = "line";
TMP2637[4] = &TMP986[16];
TMP986[16].kind = 1;
TMP986[16].offset = offsetof(Token368108, col);
TMP986[16].typ = (&NTI104);
TMP986[16].name = "col";
TMP986[3].len = 5; TMP986[3].kind = 2; TMP986[3].sons = &TMP2637[0];
NTI368108.node = &TMP986[3];
NTI368110.size = sizeof(Tokenseq368110*);
NTI368110.kind = 24;
NTI368110.base = (&NTI368108);
NTI368110.flags = 2;
NTI368110.marker = TMP2641;
TMP986[2].kind = 1;
TMP986[2].offset = offsetof(Rstparser368482, tok);
TMP986[2].typ = (&NTI368110);
TMP986[2].name = "tok";
TMP2636[2] = &TMP986[17];
NTI368478.size = sizeof(Sharedstate368478);
NTI368478.kind = 18;
NTI368478.base = 0;
NTI368478.flags = 2;
TMP2642[0] = &TMP986[19];
NTI368004.size = sizeof(NU8);
NTI368004.kind = 14;
NTI368004.base = 0;
NTI368004.flags = 3;
for (TMP2645 = 0; TMP2645 < 4; TMP2645++) {
TMP986[TMP2645+20].kind = 1;
TMP986[TMP2645+20].offset = TMP2645;
TMP986[TMP2645+20].name = TMP2644[TMP2645];
TMP2643[TMP2645] = &TMP986[TMP2645+20];
}
TMP986[24].len = 4; TMP986[24].kind = 2; TMP986[24].sons = &TMP2643[0];
NTI368004.node = &TMP986[24];
NTI368006.size = sizeof(NU8);
NTI368006.kind = 19;
NTI368006.base = (&NTI368004);
NTI368006.flags = 3;
TMP986[25].len = 0; TMP986[25].kind = 0;
NTI368006.node = &TMP986[25];
TMP986[19].kind = 1;
TMP986[19].offset = offsetof(Sharedstate368478, options);
TMP986[19].typ = (&NTI368006);
TMP986[19].name = "options";
TMP2642[1] = &TMP986[26];
TMP986[26].kind = 1;
TMP986[26].offset = offsetof(Sharedstate368478, ulevel);
TMP986[26].typ = (&NTI104);
TMP986[26].name = "uLevel";
TMP2642[2] = &TMP986[27];
TMP986[27].kind = 1;
TMP986[27].offset = offsetof(Sharedstate368478, olevel);
TMP986[27].typ = (&NTI104);
TMP986[27].name = "oLevel";
TMP2642[3] = &TMP986[28];
NTI368476.size = sizeof(Substitution368476);
NTI368476.kind = 18;
NTI368476.base = 0;
NTI368476.flags = 2;
TMP2646[0] = &TMP986[30];
TMP986[30].kind = 1;
TMP986[30].offset = offsetof(Substitution368476, key);
TMP986[30].typ = (&NTI138);
TMP986[30].name = "key";
TMP2646[1] = &TMP986[31];
TMP986[31].kind = 1;
TMP986[31].offset = offsetof(Substitution368476, value);
TMP986[31].typ = (&NTI367008);
TMP986[31].name = "value";
TMP986[29].len = 2; TMP986[29].kind = 2; TMP986[29].sons = &TMP2646[0];
NTI368476.node = &TMP986[29];
NTI368492.size = sizeof(TY368492*);
NTI368492.kind = 24;
NTI368492.base = (&NTI368476);
NTI368492.flags = 2;
NTI368492.marker = TMP2653;
TMP986[28].kind = 1;
TMP986[28].offset = offsetof(Sharedstate368478, subs);
TMP986[28].typ = (&NTI368492);
TMP986[28].name = "subs";
TMP2642[4] = &TMP986[32];
TMP986[32].kind = 1;
TMP986[32].offset = offsetof(Sharedstate368478, refs);
TMP986[32].typ = (&NTI368492);
TMP986[32].name = "refs";
TMP2642[5] = &TMP986[33];
TMP986[33].kind = 1;
TMP986[33].offset = offsetof(Sharedstate368478, underlinetolevel);
TMP986[33].typ = (&NTI109518);
TMP986[33].name = "underlineToLevel";
TMP2642[6] = &TMP986[34];
TMP986[34].kind = 1;
TMP986[34].offset = offsetof(Sharedstate368478, overlinetolevel);
TMP986[34].typ = (&NTI109518);
TMP986[34].name = "overlineToLevel";
TMP2642[7] = &TMP986[35];
NTI368012.size = sizeof(Msghandler368012);
NTI368012.kind = 25;
NTI368012.base = 0;
NTI368012.flags = 3;
TMP986[35].kind = 1;
TMP986[35].offset = offsetof(Sharedstate368478, msghandler);
TMP986[35].typ = (&NTI368012);
TMP986[35].name = "msgHandler";
TMP2642[8] = &TMP986[36];
NTI368014.size = sizeof(Findfilehandler368014);
NTI368014.kind = 25;
NTI368014.base = 0;
NTI368014.flags = 3;
TMP986[36].kind = 1;
TMP986[36].offset = offsetof(Sharedstate368478, findfile);
TMP986[36].typ = (&NTI368014);
TMP986[36].name = "findFile";
TMP986[18].len = 9; TMP986[18].kind = 2; TMP986[18].sons = &TMP2642[0];
NTI368478.node = &TMP986[18];
NTI368480.size = sizeof(Sharedstate368478*);
NTI368480.kind = 22;
NTI368480.base = (&NTI368478);
NTI368480.flags = 2;
NTI368480.marker = TMP2654;
TMP986[17].kind = 1;
TMP986[17].offset = offsetof(Rstparser368482, s);
TMP986[17].typ = (&NTI368480);
TMP986[17].name = "s";
TMP2636[3] = &TMP986[37];
NTI368503.size = sizeof(TY368503*);
NTI368503.kind = 24;
NTI368503.base = (&NTI104);
NTI368503.flags = 2;
NTI368503.marker = TMP2655;
TMP986[37].kind = 1;
TMP986[37].offset = offsetof(Rstparser368482, indentstack);
TMP986[37].typ = (&NTI368503);
TMP986[37].name = "indentStack";
TMP2636[4] = &TMP986[38];
TMP986[38].kind = 1;
TMP986[38].offset = offsetof(Rstparser368482, filename);
TMP986[38].typ = (&NTI138);
TMP986[38].name = "filename";
TMP2636[5] = &TMP986[39];
TMP986[39].kind = 1;
TMP986[39].offset = offsetof(Rstparser368482, line);
TMP986[39].typ = (&NTI104);
TMP986[39].name = "line";
TMP2636[6] = &TMP986[40];
TMP986[40].kind = 1;
TMP986[40].offset = offsetof(Rstparser368482, col);
TMP986[40].typ = (&NTI104);
TMP986[40].name = "col";
TMP2636[7] = &TMP986[41];
TMP986[41].kind = 1;
TMP986[41].offset = offsetof(Rstparser368482, hastoc);
TMP986[41].typ = (&NTI130);
TMP986[41].name = "hasToc";
TMP986[0].len = 8; TMP986[0].kind = 2; TMP986[0].sons = &TMP2636[0];
NTI368482.node = &TMP986[0];
NTI368010.size = sizeof(NU8);
NTI368010.kind = 14;
NTI368010.base = 0;
NTI368010.flags = 3;
for (TMP2660 = 0; TMP2660 < 10; TMP2660++) {
TMP986[TMP2660+42].kind = 1;
TMP986[TMP2660+42].offset = TMP2660;
TMP986[TMP2660+42].name = TMP2659[TMP2660];
TMP2658[TMP2660] = &TMP986[TMP2660+42];
}
TMP986[52].len = 10; TMP986[52].kind = 2; TMP986[52].sons = &TMP2658[0];
NTI368010.node = &TMP986[52];
NTI368008.size = sizeof(NU8);
NTI368008.kind = 14;
NTI368008.base = 0;
NTI368008.flags = 3;
for (TMP2674 = 0; TMP2674 < 3; TMP2674++) {
TMP986[TMP2674+53].kind = 1;
TMP986[TMP2674+53].offset = TMP2674;
TMP986[TMP2674+53].name = TMP2673[TMP2674];
TMP2672[TMP2674] = &TMP986[TMP2674+53];
}
TMP986[56].len = 3; TMP986[56].kind = 2; TMP986[56].sons = &TMP2672[0];
NTI368008.node = &TMP986[56];
NTI368484.size = sizeof(Eparseerror368484);
NTI368484.kind = 17;
NTI368484.base = (&NTI3646);
TMP986[57].len = 0; TMP986[57].kind = 2;
NTI368484.node = &TMP986[57];
NTI368633.size = sizeof(Eparseerror368484*);
NTI368633.kind = 22;
NTI368633.base = (&NTI368484);
NTI368633.marker = TMP2675;
NTI368112.size = sizeof(Lexer368112);
NTI368112.kind = 17;
NTI368112.base = (&NTI3608);
NTI368112.flags = 1;
TMP2677[0] = &TMP986[59];
TMP986[59].kind = 1;
TMP986[59].offset = offsetof(Lexer368112, buf);
TMP986[59].typ = (&NTI140);
TMP986[59].name = "buf";
TMP2677[1] = &TMP986[60];
TMP986[60].kind = 1;
TMP986[60].offset = offsetof(Lexer368112, bufpos);
TMP986[60].typ = (&NTI104);
TMP986[60].name = "bufpos";
TMP2677[2] = &TMP986[61];
TMP986[61].kind = 1;
TMP986[61].offset = offsetof(Lexer368112, line);
TMP986[61].typ = (&NTI104);
TMP986[61].name = "line";
TMP2677[3] = &TMP986[62];
TMP986[62].kind = 1;
TMP986[62].offset = offsetof(Lexer368112, col);
TMP986[62].typ = (&NTI104);
TMP986[62].name = "col";
TMP2677[4] = &TMP986[63];
TMP986[63].kind = 1;
TMP986[63].offset = offsetof(Lexer368112, baseindent);
TMP986[63].typ = (&NTI104);
TMP986[63].name = "baseIndent";
TMP2677[5] = &TMP986[64];
TMP986[64].kind = 1;
TMP986[64].offset = offsetof(Lexer368112, skippounds);
TMP986[64].typ = (&NTI130);
TMP986[64].name = "skipPounds";
TMP986[58].len = 6; TMP986[58].kind = 2; TMP986[58].sons = &TMP2677[0];
NTI368112.node = &TMP986[58];
}

